var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(e&&(t=e(e=0)),t),s=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),c=e=>{let n={};for(var r in e)t(n,r,{get:e[r],enumerable:!0});return n},l=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},u=(n,r,a)=>(a=n==null?{}:e(i(n)),l(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n)),d=e=>l(t({},`__esModule`,{value:!0}),e);(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e){if(t.type!==`childList`)continue;for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var f=s((exports=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.iterator;function p(e){return typeof e!=`object`||!e?null:(e=f&&e[f]||e[`@@iterator`],typeof e==`function`?e:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,g={};function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function v(){}v.prototype=_.prototype;function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}var b=y.prototype=new v;b.constructor=y,h(b,_.prototype),b.isPureReactComponent=!0;var x=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},C=Object.prototype.hasOwnProperty;function w(e,n,r,i,a,o){return r=o.ref,{$$typeof:t,type:e,key:n,ref:r===void 0?null:r,props:o}}function T(e,t){return w(e.type,t,void 0,void 0,void 0,e.props)}function E(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function D(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var O=/\/+/g;function k(e,t){return typeof e==`object`&&e&&e.key!=null?D(``+e.key):t.toString(36)}function A(){}function j(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(A,A):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function M(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,M(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+k(e,0):a,x(o)?(i=``,c!=null&&(i=c.replace(O,`$&/`)+`/`),M(o,r,i,``,function(e){return e})):o!=null&&(E(o)&&(o=T(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(O,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(x(e))for(var u=0;u<e.length;u++)a=e[u],s=l+k(a,u),c+=M(a,r,i,s,o);else if(u=p(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+k(a,u++),c+=M(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return M(j(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function N(e,t,n){if(e==null)return e;var r=[],i=0;return M(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function ee(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var P=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)};function F(){}exports.Children={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}},exports.Component=_,exports.Fragment=r,exports.Profiler=a,exports.PureComponent=y,exports.StrictMode=i,exports.Suspense=l,exports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,exports.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},exports.cache=function(e){return function(){return e.apply(null,arguments)}},exports.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=h({},e.props),i=e.key,a=void 0;if(t!=null)for(o in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(i=``+t.key),t)!C.call(t,o)||o===`key`||o===`__self`||o===`__source`||o===`ref`&&t.ref===void 0||(r[o]=t[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];r.children=s}return w(e.type,i,void 0,void 0,a,r)},exports.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},exports.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)C.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return w(e,a,void 0,void 0,null,i)},exports.createRef=function(){return{current:null}},exports.forwardRef=function(e){return{$$typeof:c,render:e}},exports.isValidElement=E,exports.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:ee}},exports.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},exports.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(F,P)}catch(e){P(e)}finally{S.T=t}},exports.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},exports.use=function(e){return S.H.use(e)},exports.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},exports.useCallback=function(e,t){return S.H.useCallback(e,t)},exports.useContext=function(e){return S.H.useContext(e)},exports.useDebugValue=function(){},exports.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},exports.useEffect=function(e,t,n){var r=S.H;if(typeof n==`function`)throw Error(`useEffect CRUD overload is not enabled in this build of React.`);return r.useEffect(e,t)},exports.useId=function(){return S.H.useId()},exports.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},exports.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},exports.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},exports.useMemo=function(e,t){return S.H.useMemo(e,t)},exports.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},exports.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},exports.useRef=function(e){return S.H.useRef(e)},exports.useState=function(e){return S.H.useState(e)},exports.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},exports.useTransition=function(){return S.H.useTransition()},exports.version=`19.1.1`})),p=s(((exports,t)=>{t.exports=f()})),m=s((exports=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(exports.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;exports.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();exports.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,O());else{var t=n(l);t!==null&&j(x,t.startTime-e)}}var S=!1,C=-1,w=5,T=-1;function E(){return g?!0:!(exports.unstable_now()-T<w)}function D(){if(g=!1,S){var t=exports.unstable_now();T=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(C),C=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&E());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=exports.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&j(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?O():S=!1}}}var O;if(typeof y==`function`)O=function(){y(D)};else if(typeof MessageChannel<`u`){var k=new MessageChannel,A=k.port2;k.port1.onmessage=D,O=function(){A.postMessage(null)}}else O=function(){_(D,0)};function j(t,n){C=_(function(){t(exports.unstable_now())},n)}exports.unstable_IdlePriority=5,exports.unstable_ImmediatePriority=1,exports.unstable_LowPriority=4,exports.unstable_NormalPriority=3,exports.unstable_Profiling=null,exports.unstable_UserBlockingPriority=2,exports.unstable_cancelCallback=function(e){e.callback=null},exports.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):w=0<e?Math.floor(1e3/e):5},exports.unstable_getCurrentPriorityLevel=function(){return f},exports.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},exports.unstable_requestPaint=function(){g=!0},exports.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},exports.unstable_scheduleCallback=function(r,i,a){var o=exports.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(C),C=-1):h=!0,j(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,O()))),r},exports.unstable_shouldYield=E,exports.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),h=s(((exports,t)=>{t.exports=m()})),g=s((exports=>{var t=p();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}exports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,exports.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},exports.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},exports.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},exports.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},exports.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},exports.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},exports.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},exports.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},exports.requestFormReset=function(e){i.d.r(e)},exports.unstable_batchedUpdates=function(e,t){return e(t)},exports.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},exports.useFormStatus=function(){return s.H.useHostTransitionStatus()},exports.version=`19.1.1`})),_=s(((exports,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=g()})),v=s((exports=>{var t=h(),n=p(),r=_();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(o(e)!==e)throw Error(i(188))}function l(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return c(a),e;if(s===r)return c(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var l=!1,u=a.child;u;){if(u===n){l=!0,n=a,r=s;break}if(u===r){l=!0,r=a,n=s;break}u=u.sibling}if(!l){for(u=s.child;u;){if(u===n){l=!0,n=s,r=a;break}if(u===r){l=!0,r=s,n=a;break}u=u.sibling}if(!l)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function u(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=u(e),t!==null)return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for(`react.element`),m=Symbol.for(`react.transitional.element`),g=Symbol.for(`react.portal`),v=Symbol.for(`react.fragment`),y=Symbol.for(`react.strict_mode`),b=Symbol.for(`react.profiler`),x=Symbol.for(`react.provider`),S=Symbol.for(`react.consumer`),C=Symbol.for(`react.context`),w=Symbol.for(`react.forward_ref`),T=Symbol.for(`react.suspense`),E=Symbol.for(`react.suspense_list`),D=Symbol.for(`react.memo`),O=Symbol.for(`react.lazy`),k=Symbol.for(`react.activity`),A=Symbol.for(`react.memo_cache_sentinel`),j=Symbol.iterator;function M(e){return typeof e!=`object`||!e?null:(e=j&&e[j]||e[`@@iterator`],typeof e==`function`?e:null)}var N=Symbol.for(`react.client.reference`);function ee(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case v:return`Fragment`;case b:return`Profiler`;case y:return`StrictMode`;case T:return`Suspense`;case E:return`SuspenseList`;case k:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case g:return`Portal`;case C:return(e.displayName||`Context`)+`.Provider`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case w:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case D:return t=e.displayName||null,t===null?ee(e.type)||`Memo`:t;case O:t=e._payload,e=e._init;try{return ee(e(t))}catch{}}return null}var P=Array.isArray,F=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ne=[],re=-1;function ie(e){return{current:e}}function L(e){0>re||(e.current=ne[re],ne[re]=null,re--)}function R(e,t){re++,ne[re]=e.current,e.current=t}var ae=ie(null),oe=ie(null),se=ie(null),ce=ie(null);function le(e,t){switch(R(se,t),R(oe,e),R(ae,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Kd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Kd(t),e=qd(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}L(ae),R(ae,e)}function ue(){L(ae),L(oe),L(se)}function de(e){e.memoizedState!==null&&R(ce,e);var t=ae.current,n=qd(t,e.type);t!==n&&(R(oe,e),R(ae,n))}function fe(e){oe.current===e&&(L(ae),L(oe)),ce.current===e&&(L(ce),tp._currentValue=te)}var pe=Object.prototype.hasOwnProperty,me=t.unstable_scheduleCallback,he=t.unstable_cancelCallback,ge=t.unstable_shouldYield,_e=t.unstable_requestPaint,z=t.unstable_now,ve=t.unstable_getCurrentPriorityLevel,ye=t.unstable_ImmediatePriority,be=t.unstable_UserBlockingPriority,xe=t.unstable_NormalPriority,Se=t.unstable_LowPriority,Ce=t.unstable_IdlePriority,we=t.log,B=t.unstable_setDisableYieldValue,Te=null,Ee=null;function De(e){if(typeof we==`function`&&B(e),Ee&&typeof Ee.setStrictMode==`function`)try{Ee.setStrictMode(Te,e)}catch{}}var Oe=Math.clz32?Math.clz32:je,ke=Math.log,Ae=Math.LN2;function je(e){return e>>>=0,e===0?32:31-(ke(e)/Ae|0)|0}var Me=256,Ne=4194304;function Pe(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fe(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=Pe(n))):i=Pe(o):i=Pe(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=Pe(n))):i=Pe(o)):i=Pe(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function Ie(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Le(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Re(){var e=Me;return Me<<=1,!(Me&4194048)&&(Me=256),e}function ze(){var e=Ne;return Ne<<=1,!(Ne&62914560)&&(Ne=4194304),e}function Be(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ve(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function He(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Oe(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&Ue(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function Ue(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Oe(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function We(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Oe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ge(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ke(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function qe(){var e=I.p;return e===0?(e=window.event,e===void 0?32:gp(e.type)):e}function Je(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}var Ye=Math.random().toString(36).slice(2),Xe=`__reactFiber$`+Ye,Ze=`__reactProps$`+Ye,Qe=`__reactContainer$`+Ye,$e=`__reactEvents$`+Ye,et=`__reactListeners$`+Ye,tt=`__reactHandles$`+Ye,nt=`__reactResources$`+Ye,rt=`__reactMarker$`+Ye;function it(e){delete e[Xe],delete e[Ze],delete e[$e],delete e[et],delete e[tt]}function at(e){var t=e[Xe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qe]||n[Xe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pf(e);e!==null;){if(n=e[Xe])return n;e=pf(e)}return t}e=n,n=e.parentNode}return null}function ot(e){if(e=e[Xe]||e[Qe]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function st(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function ct(e){var t=e[nt];return t||=e[nt]={hoistableStyles:new Map,hoistableScripts:new Map},t}function lt(e){e[rt]=!0}var ut=new Set,dt={};function ft(e,t){pt(e,t),pt(e+`Capture`,t)}function pt(e,t){for(dt[e]=t,e=0;e<t.length;e++)ut.add(t[e])}var mt=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),ht={},gt={};function _t(e){return pe.call(gt,e)?!0:pe.call(ht,e)?!1:mt.test(e)?gt[e]=!0:(ht[e]=!0,!1)}function vt(e,t,n){if(_t(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function yt(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function bt(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}var xt,St;function Ct(e){if(xt===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);xt=t&&t[1]||``,St=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+xt+e+St}var wt=!1;function Tt(e,t){if(!e||wt)return``;wt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{wt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?Ct(n):``}function Et(e){switch(e.tag){case 26:case 27:case 5:return Ct(e.type);case 16:return Ct(`Lazy`);case 13:return Ct(`Suspense`);case 19:return Ct(`SuspenseList`);case 0:case 15:return Tt(e.type,!1);case 11:return Tt(e.type.render,!1);case 1:return Tt(e.type,!0);case 31:return Ct(`Activity`);default:return``}}function Dt(e){try{var t=``;do t+=Et(e),e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}function Ot(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function kt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function At(e){var t=kt(e)?`checked`:`value`,n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=``+e[t];if(!e.hasOwnProperty(t)&&n!==void 0&&typeof n.get==`function`&&typeof n.set==`function`){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jt(e){e._valueTracker||=At(e)}function Mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=kt(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function Nt(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Pt=/[\n"\\]/g;function Ft(e){return e.replace(Pt,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function It(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+Ot(t)):e.value!==``+Ot(t)&&(e.value=``+Ot(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Rt(e,o,Ot(n)):Rt(e,o,Ot(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+Ot(s):e.removeAttribute(`name`)}function Lt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null))return;n=n==null?``:``+Ot(n),t=t==null?n:``+Ot(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o)}function Rt(e,t,n){t===`number`&&Nt(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function zt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+Ot(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Bt(e,t,n){if(t!=null&&(t=``+Ot(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+Ot(n)}function Vt(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(P(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=Ot(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r)}function Ht(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ut=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function Wt(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||Ut.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function Gt(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Wt(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Wt(e,o,t[o])}function Kt(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var qt=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),Jt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yt(e){return Jt.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}var Xt=null;function Zt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qt=null,$t=null;function en(e){var t=ot(e);if(t&&(e=t.stateNode)){var n=e[Ze]||null;a:switch(e=t.stateNode,t.type){case`input`:if(It(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Ft(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Ze]||null;if(!a)throw Error(i(90));It(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Mt(r)}break a;case`textarea`:Bt(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&zt(e,!!n.multiple,t,!1)}}}var tn=!1;function nn(e,t,n){if(tn)return e(t,n);tn=!0;try{return e(t)}finally{if(tn=!1,(Qt!==null||$t!==null)&&(Ou(),Qt&&(t=Qt,e=$t,$t=Qt=null,en(t),e)))for(t=0;t<e.length;t++)en(e[t])}}function rn(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Ze]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var an=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),on=!1;if(an)try{var sn={};Object.defineProperty(sn,`passive`,{get:function(){on=!0}}),window.addEventListener(`test`,sn,sn),window.removeEventListener(`test`,sn,sn)}catch{on=!1}var cn=null,ln=null,un=null;function dn(){if(un)return un;var e,t=ln,n=t.length,r,i=`value`in cn?cn.value:cn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return un=i.slice(e,1<r?1-r:void 0)}function fn(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pn(){return!0}function mn(){return!1}function hn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?pn:mn,this.isPropagationStopped=mn,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=pn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=pn)},persist:function(){},isPersistent:pn}),t}var gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_n=hn(gn),vn=d({},gn,{view:0,detail:0}),yn=hn(vn),bn,xn,Sn,Cn=d({},vn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==Sn&&(Sn&&e.type===`mousemove`?(bn=e.screenX-Sn.screenX,xn=e.screenY-Sn.screenY):xn=bn=0,Sn=e),bn)},movementY:function(e){return`movementY`in e?e.movementY:xn}}),wn=hn(Cn),Tn=d({},Cn,{dataTransfer:0}),En=hn(Tn),Dn=d({},vn,{relatedTarget:0}),On=hn(Dn),kn=d({},gn,{animationName:0,elapsedTime:0,pseudoElement:0}),An=hn(kn),jn=d({},gn,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}}),Mn=hn(jn),Nn=d({},gn,{data:0}),Pn=hn(Nn),Fn={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},In={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Ln={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Rn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ln[e])?!!t[e]:!1}function zn(){return Rn}var Bn=d({},vn,{key:function(e){if(e.key){var t=Fn[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=fn(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?In[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zn,charCode:function(e){return e.type===`keypress`?fn(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?fn(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}}),Vn=hn(Bn),Hn=d({},Cn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Un=hn(Hn),Wn=d({},vn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zn}),Gn=hn(Wn),Kn=d({},gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qn=hn(Kn),Jn=d({},Cn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yn=hn(Jn),Xn=d({},gn,{newState:0,oldState:0}),Zn=hn(Xn),Qn=[9,13,27,32],$n=an&&`CompositionEvent`in window,er=null;an&&`documentMode`in document&&(er=document.documentMode);var tr=an&&`TextEvent`in window&&!er,nr=an&&(!$n||er&&8<er&&11>=er),rr=` `,ir=!1;function ar(e,t){switch(e){case`keyup`:return Qn.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function or(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var sr=!1;function cr(e,t){switch(e){case`compositionend`:return or(t);case`keypress`:return t.which===32?(ir=!0,rr):null;case`textInput`:return e=t.data,e===rr&&ir?null:e;default:return null}}function lr(e,t){if(sr)return e===`compositionend`||!$n&&ar(e,t)?(e=dn(),un=ln=cn=null,sr=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return nr&&t.locale!==`ko`?null:t.data;default:return null}}var ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!ur[e.type]:t===`textarea`}function fr(e,t,n,r){Qt?$t?$t.push(r):$t=[r]:Qt=r,t=jd(t,`onChange`),0<t.length&&(n=new _n(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var pr=null,mr=null;function hr(e){wd(e,0)}function gr(e){var t=st(e);if(Mt(t))return e}function _r(e,t){if(e===`change`)return t}var vr=!1;if(an){var yr;if(an){var br=`oninput`in document;if(!br){var xr=document.createElement(`div`);xr.setAttribute(`oninput`,`return;`),br=typeof xr.oninput==`function`}yr=br}else yr=!1;vr=yr&&(!document.documentMode||9<document.documentMode)}function Sr(){pr&&(pr.detachEvent(`onpropertychange`,Cr),mr=pr=null)}function Cr(e){if(e.propertyName===`value`&&gr(mr)){var t=[];fr(t,mr,e,Zt(e)),nn(hr,t)}}function wr(e,t,n){e===`focusin`?(Sr(),pr=t,mr=n,pr.attachEvent(`onpropertychange`,Cr)):e===`focusout`&&Sr()}function Tr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return gr(mr)}function Er(e,t){if(e===`click`)return gr(t)}function Dr(e,t){if(e===`input`||e===`change`)return gr(t)}function Or(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var kr=typeof Object.is==`function`?Object.is:Or;function Ar(e,t){if(kr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pe.call(t,i)||!kr(e[i],t[i]))return!1}return!0}function jr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mr(e,t){var n=jr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=jr(n)}}function Nr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Nt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=Nt(e.document)}return t}function Fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Ir=an&&`documentMode`in document&&11>=document.documentMode,Lr=null,Rr=null,zr=null,Br=!1;function Vr(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Br||Lr==null||Lr!==Nt(r)||(r=Lr,`selectionStart`in r&&Fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zr&&Ar(zr,r)||(zr=r,r=jd(Rr,`onSelect`),0<r.length&&(t=new _n(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Lr)))}function Hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Ur={animationend:Hr(`Animation`,`AnimationEnd`),animationiteration:Hr(`Animation`,`AnimationIteration`),animationstart:Hr(`Animation`,`AnimationStart`),transitionrun:Hr(`Transition`,`TransitionRun`),transitionstart:Hr(`Transition`,`TransitionStart`),transitioncancel:Hr(`Transition`,`TransitionCancel`),transitionend:Hr(`Transition`,`TransitionEnd`)},Wr={},Gr={};an&&(Gr=document.createElement(`div`).style,`AnimationEvent`in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),`TransitionEvent`in window||delete Ur.transitionend.transition);function Kr(e){if(Wr[e])return Wr[e];if(!Ur[e])return e;var t=Ur[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Gr)return Wr[e]=t[n];return e}var qr=Kr(`animationend`),Jr=Kr(`animationiteration`),Yr=Kr(`animationstart`),Xr=Kr(`transitionrun`),Zr=Kr(`transitionstart`),Qr=Kr(`transitioncancel`),$r=Kr(`transitionend`),ei=new Map,ti=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);ti.push(`scrollEnd`);function ni(e,t){ei.set(e,t),ft(t,[e])}var ri=new WeakMap;function ii(e,t){if(typeof e==`object`&&e){var n=ri.get(e);return n===void 0?(t={value:e,source:t,stack:Dt(t)},ri.set(e,t),t):n}return{value:e,source:t,stack:Dt(t)}}var ai=[],oi=0,si=0;function ci(){for(var e=oi,t=si=oi=0;t<e;){var n=ai[t];ai[t++]=null;var r=ai[t];ai[t++]=null;var i=ai[t];ai[t++]=null;var a=ai[t];if(ai[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&fi(n,i,a)}}function li(e,t,n,r){ai[oi++]=e,ai[oi++]=t,ai[oi++]=n,ai[oi++]=r,si|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function ui(e,t,n,r){return li(e,t,n,r),pi(e)}function di(e,t){return li(e,null,null,t),pi(e)}function fi(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Oe(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function pi(e){if(50<yu)throw yu=0,bu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var mi={};function hi(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(e,t,n,r){return new hi(e,t,n,r)}function _i(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vi(e,t){var n=e.alternate;return n===null?(n=gi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function yi(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function bi(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)_i(e)&&(s=1);else if(typeof e==`string`)s=Gf(e,n,ae.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case k:return e=gi(31,n,t,a),e.elementType=k,e.lanes=o,e;case v:return xi(n.children,a,o,t);case y:s=8,a|=24;break;case b:return e=gi(12,n,t,a|2),e.elementType=b,e.lanes=o,e;case T:return e=gi(13,n,t,a),e.elementType=T,e.lanes=o,e;case E:return e=gi(19,n,t,a),e.elementType=E,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case x:case C:s=10;break a;case S:s=9;break a;case w:s=11;break a;case D:s=14;break a;case O:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=gi(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function xi(e,t,n,r){return e=gi(7,e,r,t),e.lanes=n,e}function Si(e,t,n){return e=gi(6,e,null,t),e.lanes=n,e}function Ci(e,t,n){return t=gi(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var wi=[],Ti=0,Ei=null,Di=0,Oi=[],ki=0,Ai=null,ji=1,Mi=``;function Ni(e,t){wi[Ti++]=Di,wi[Ti++]=Ei,Ei=e,Di=t}function Pi(e,t,n){Oi[ki++]=ji,Oi[ki++]=Mi,Oi[ki++]=Ai,Ai=e;var r=ji;e=Mi;var i=32-Oe(r)-1;r&=~(1<<i),n+=1;var a=32-Oe(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ji=1<<32-Oe(t)+i|n<<i|r,Mi=a+e}else ji=1<<a|n<<i|r,Mi=e}function Fi(e){e.return!==null&&(Ni(e,1),Pi(e,1,0))}function Ii(e){for(;e===Ei;)Ei=wi[--Ti],wi[Ti]=null,Di=wi[--Ti],wi[Ti]=null;for(;e===Ai;)Ai=Oi[--ki],Oi[ki]=null,Mi=Oi[--ki],Oi[ki]=null,ji=Oi[--ki],Oi[ki]=null}var Li=null,Ri=null,zi=!1,Bi=null,Vi=!1,Hi=Error(i(519));function Ui(e){var t=Error(i(418,``));throw Yi(ii(t,e)),Hi}function Wi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Xe]=e,t[Ze]=r,n){case`dialog`:Td(`cancel`,t),Td(`close`,t);break;case`iframe`:case`object`:case`embed`:Td(`load`,t);break;case`video`:case`audio`:for(n=0;n<Sd.length;n++)Td(Sd[n],t);break;case`source`:Td(`error`,t);break;case`img`:case`image`:case`link`:Td(`error`,t),Td(`load`,t);break;case`details`:Td(`toggle`,t);break;case`input`:Td(`invalid`,t),Lt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),jt(t);break;case`select`:Td(`invalid`,t);break;case`textarea`:Td(`invalid`,t),Vt(t,r.value,r.defaultValue,r.children),jt(t)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Ld(t.textContent,n)?(r.popover!=null&&(Td(`beforetoggle`,t),Td(`toggle`,t)),r.onScroll!=null&&Td(`scroll`,t),r.onScrollEnd!=null&&Td(`scrollend`,t),r.onClick!=null&&(t.onclick=Rd),t=!0):t=!1,t||Ui(e)}function Gi(e){for(Li=e.return;Li;)switch(Li.tag){case 5:case 13:Vi=!1;return;case 27:case 3:Vi=!0;return;default:Li=Li.return}}function Ki(e){if(e!==Li)return!1;if(!zi)return Gi(e),zi=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Jd(e.type,e.memoizedProps)),n=!n),n&&Ri&&Ui(e),Gi(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));a:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n===`/$`){if(t===0){Ri=df(e.nextSibling);break a}t--}else n!==`$`&&n!==`$!`&&n!==`$?`||t++;e=e.nextSibling}Ri=null}}else t===27?(t=Ri,nf(e.type)?(e=ff,ff=null,Ri=e):Ri=t):Ri=Li?df(e.stateNode.nextSibling):null;return!0}function qi(){Ri=Li=null,zi=!1}function Ji(){var e=Bi;return e!==null&&(ou===null?ou=e:ou.push.apply(ou,e),Bi=null),e}function Yi(e){Bi===null?Bi=[e]:Bi.push(e)}var Xi=ie(null),Zi=null,Qi=null;function $i(e,t,n){R(Xi,t._currentValue),t._currentValue=n}function ea(e){e._currentValue=Xi.current,L(Xi)}function ta(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function na(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),ta(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),ta(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function ra(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;kr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===ce.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[tp]:e.push(tp))}a=a.return}e!==null&&na(t,e,n,r),t.flags|=262144}function ia(e){for(e=e.firstContext;e!==null;){if(!kr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function aa(e){Zi=e,Qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function oa(e){return ca(Zi,e)}function sa(e,t){return Zi===null&&aa(e),ca(e,t)}function ca(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Qi===null){if(e===null)throw Error(i(308));Qi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Qi=Qi.next=t;return n}var la=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ua=t.unstable_scheduleCallback,da=t.unstable_NormalPriority,fa={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pa(){return{controller:new la,data:new Map,refCount:0}}function ma(e){e.refCount--,e.refCount===0&&ua(da,function(){e.controller.abort()})}var ha=null,ga=0,_a=0,va=null;function ya(e,t){if(ha===null){var n=ha=[];ga=0,_a=md(),va={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return ga++,t.then(ba,ba),t}function ba(){if(--ga===0&&ha!==null){va!==null&&(va.status=`fulfilled`);var e=ha;ha=null,_a=0,va=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function V(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var xa=F.S;F.S=function(e,t){typeof t==`object`&&t&&typeof t.then==`function`&&ya(e,t),xa!==null&&xa(e,t)};var Sa=ie(null);function Ca(){var e=Sa.current;return e===null?Wl.pooledCache:e}function wa(e,t){t===null?R(Sa,Sa.current):R(Sa,t.pool)}function Ta(){var e=Ca();return e===null?null:{parent:fa._currentValue,pool:e}}var Ea=Error(i(460)),Da=Error(i(474)),Oa=Error(i(542)),ka={then:function(){}};function Aa(e){return e=e.status,e===`fulfilled`||e===`rejected`}function ja(){}function Ma(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ja,ja),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Fa(e),e;default:if(typeof t.status==`string`)t.then(ja,ja);else{if(e=Wl,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Fa(e),e}throw Na=t,Ea}}var Na=null;function Pa(){if(Na===null)throw Error(i(459));var e=Na;return Na=null,e}function Fa(e){if(e===Ea||e===Oa)throw Error(i(483))}var H=!1;function Ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function za(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ul&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=pi(e),fi(e,null,n),t}return li(e,r,t,n),pi(e)}function Ba(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,We(e,n)}}function Va(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ha=!1;function Ua(){if(Ha){var e=va;if(e!==null)throw e}}function Wa(e,t,n,r){Ha=!1;var i=e.updateQueue;H=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,u=l=c=null,s=a;do{var p=s.lane&-536870913,m=p!==s.lane;if(m?(Kl&p)===p:(r&p)===p){p!==0&&p===_a&&(Ha=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var h=e,g=s;p=t;var _=n;switch(g.tag){case 1:if(h=g.payload,typeof h==`function`){f=h.call(_,f,p);break a}f=h;break a;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,p=typeof h==`function`?h.call(_,f,p):h,p==null)break a;f=d({},f,p);break a;case 2:H=!0}}p=s.callback,p!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[p]:m.push(p))}else m={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=m,c=f):u=u.next=m,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;m=s,s=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),eu|=o,e.lanes=o,e.memoizedState=f}}function Ga(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function Ka(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ga(n[e],t)}var qa=ie(null),Ja=ie(0);function Ya(e,t){e=Ql,R(Ja,e),R(qa,t),Ql=e|t.baseLanes}function Xa(){R(Ja,Ql),R(qa,qa.current)}function Za(){Ql=Ja.current,L(qa),L(Ja)}var Qa=0,$a=null,eo=null,to=null,no=!1,ro=!1,io=!1,ao=0,oo=0,so=null,co=0;function lo(){throw Error(i(321))}function uo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kr(e[n],t[n]))return!1;return!0}function fo(e,t,n,r,i,a){return Qa=a,$a=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F.H=e===null||e.memoizedState===null?As:js,io=!1,a=n(r,i),io=!1,ro&&(a=mo(t,n,r,i)),po(e),a}function po(e){F.H=ks;var t=eo!==null&&eo.next!==null;if(Qa=0,to=eo=$a=null,no=!1,oo=0,so=null,t)throw Error(i(300));e===null||fc||(e=e.dependencies,e!==null&&ia(e)&&(fc=!0))}function mo(e,t,n,r){$a=e;var a=0;do{if(ro&&(so=null),oo=0,ro=!1,25<=a)throw Error(i(301));if(a+=1,to=eo=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}F.H=Ms,o=t(n,r)}while(ro);return o}function ho(){var e=F.H,t=e.useState()[0];return t=typeof t.then==`function`?So(t):t,e=e.useState()[0],(eo===null?null:eo.memoizedState)!==e&&($a.flags|=1024),t}function go(){var e=ao!==0;return ao=0,e}function _o(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function vo(e){if(no){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}no=!1}Qa=0,to=eo=$a=null,ro=!1,oo=ao=0,so=null}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return to===null?$a.memoizedState=to=e:to=to.next=e,to}function bo(){if(eo===null){var e=$a.alternate;e=e===null?null:e.memoizedState}else e=eo.next;var t=to===null?$a.memoizedState:to.next;if(t!==null)to=t,eo=e;else{if(e===null)throw $a.alternate===null?Error(i(467)):Error(i(310));eo=e,e={memoizedState:eo.memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},to===null?$a.memoizedState=to=e:to=to.next=e}return to}function xo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function So(e){var t=oo;return oo+=1,so===null&&(so=[]),e=Ma(so,e,t),t=$a,(to===null?t.memoizedState:to.next)===null&&(t=t.alternate,F.H=t===null||t.memoizedState===null?As:js),e}function Co(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return So(e);if(e.$$typeof===C)return oa(e)}throw Error(i(438,String(e)))}function wo(e){var t=null,n=$a.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=$a.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=xo(),$a.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function To(e,t){return typeof t==`function`?t(e):t}function Eo(e){var t=bo();return Do(t,eo,e)}function Do(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(Qa&f)===f:(Kl&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===_a&&(d=!0);else if((Qa&p)===p){u=u.next,p===_a&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,$a.lanes|=p,eu|=p;f=u.action,io&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,$a.lanes|=f,eu|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!kr(o,e.memoizedState)&&(fc=!0,d&&(n=va,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Oo(e){var t=bo(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);kr(o,t.memoizedState)||(fc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ko(e,t,n){var r=$a,a=bo(),o=zi;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!kr((eo||a).memoizedState,n);s&&(a.memoizedState=n,fc=!0),a=a.queue;var c=Mo.bind(null,r,a,e);if($o(2048,8,c,[e]),a.getSnapshot!==t||s||to!==null&&to.memoizedState.tag&1){if(r.flags|=2048,Yo(9,Xo(),jo.bind(null,r,a,n,t),null),Wl===null)throw Error(i(349));o||Qa&124||Ao(r,t,n)}return n}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$a.updateQueue,t===null?(t=xo(),$a.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jo(e,t,n,r){t.value=n,t.getSnapshot=r,No(t)&&Po(e)}function Mo(e,t,n){return n(function(){No(t)&&Po(e)})}function No(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kr(e,n)}catch{return!0}}function Po(e){var t=di(e,2);t!==null&&Cu(t,e,2)}function Fo(e){var t=yo();if(typeof e==`function`){var n=e;if(e=n(),io){De(!0);try{n()}finally{De(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t}function Io(e,t,n,r){return e.baseState=n,Do(e,eo,typeof r==`function`?r:To)}function Lo(e,t,n,r,a){if(Es(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};F.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,Ro(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Ro(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=F.T,o={};F.T=o;try{var s=n(i,r),c=F.S;c!==null&&c(o,s),zo(e,t,s)}catch(n){Vo(e,t,n)}finally{F.T=a}}else try{a=n(i,r),zo(e,t,a)}catch(n){Vo(e,t,n)}}function zo(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){Bo(e,t,n)},function(n){return Vo(e,t,n)}):Bo(e,t,n)}function Bo(e,t,n){t.status=`fulfilled`,t.value=n,Ho(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Ro(e,n)))}function Vo(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,Ho(t),t=t.next;while(t!==r)}e.action=null}function Ho(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Uo(e,t){return t}function Wo(e,t){if(zi){var n=Wl.formState;if(n!==null){a:{var r=$a;if(zi){if(Ri){b:{for(var i=Ri,a=Vi;i.nodeType!==8;){if(!a){i=null;break b}if(i=df(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){Ri=df(i.nextSibling),r=i.data===`F!`;break a}}Ui(r)}r=!1}r&&(t=n[0])}}return n=yo(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:t},n.queue=r,n=Cs.bind(null,$a,r),r.dispatch=n,r=Fo(!1),a=Ts.bind(null,$a,!1,r.queue),r=yo(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=Lo.bind(null,$a,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Go(e){var t=bo();return Ko(t,eo,e)}function Ko(e,t,n){if(t=Do(e,t,Uo)[0],e=Eo(To)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=So(t)}catch(e){throw e===Ea?Oa:e}else r=t;t=bo();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&($a.flags|=2048,Yo(9,Xo(),qo.bind(null,i,n),null)),[r,a,e]}function qo(e,t){e.action=t}function Jo(e){var t=bo(),n=eo;if(n!==null)return Ko(t,n,e);bo(),t=t.memoizedState,n=bo();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Yo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=$a.updateQueue,t===null&&(t=xo(),$a.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Xo(){return{destroy:void 0,resource:void 0}}function Zo(){return bo().memoizedState}function Qo(e,t,n,r){var i=yo();r=r===void 0?null:r,$a.flags|=e,i.memoizedState=Yo(1|t,Xo(),n,r)}function $o(e,t,n,r){var i=bo();r=r===void 0?null:r;var a=i.memoizedState.inst;eo!==null&&r!==null&&uo(r,eo.memoizedState.deps)?i.memoizedState=Yo(t,a,n,r):($a.flags|=e,i.memoizedState=Yo(1|t,a,n,r))}function es(e,t){Qo(8390656,8,e,t)}function ts(e,t){$o(2048,8,e,t)}function ns(e,t){return $o(4,2,e,t)}function rs(e,t){return $o(4,4,e,t)}function os(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ss(e,t,n){n=n==null?null:n.concat([e]),$o(4,4,os.bind(null,t,e),n)}function cs(){}function ls(e,t){var n=bo();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&uo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function us(e,t){var n=bo();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&uo(t,r[1]))return r[0];if(r=e(),io){De(!0);try{e()}finally{De(!1)}}return n.memoizedState=[r,t],r}function ds(e,t,n){return n===void 0||Qa&1073741824?e.memoizedState=t:(e.memoizedState=n,e=Su(),$a.lanes|=e,eu|=e,n)}function fs(e,t,n,r){return kr(n,t)?n:qa.current===null?Qa&42?(e=Su(),$a.lanes|=e,eu|=e,t):(fc=!0,e.memoizedState=n):(e=ds(e,n,r),kr(e,t)||(fc=!0),e)}function ps(e,t,n,r,i){var a=I.p;I.p=a!==0&&8>a?a:8;var o=F.T,s={};F.T=s,Ts(e,!1,t,n);try{var c=i(),l=F.S;if(l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`){var u=V(c,r);ws(e,t,u,xu(e))}else ws(e,t,r,xu(e))}catch(n){ws(e,t,{then:function(){},status:`rejected`,reason:n},xu())}finally{I.p=a,F.T=o}}function ms(){}function hs(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=gs(e).queue;ps(e,a,t,te,n===null?ms:function(){return _s(e),n(r)})}function gs(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:te},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _s(e){var t=gs(e).next.queue;ws(e,t,{},xu())}function vs(){return oa(tp)}function ys(){return bo().memoizedState}function bs(){return bo().memoizedState}function xs(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=xu();e=Ra(n);var r=za(t,e,n);r!==null&&(Cu(r,t,n),Ba(r,t,n)),t={cache:pa()},e.payload=t;return}t=t.return}}function Ss(e,t,n){var r=xu();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Es(e)?Ds(t,n):(n=ui(e,t,n,r),n!==null&&(Cu(n,e,r),Os(n,t,r)))}function Cs(e,t,n){var r=xu();ws(e,t,n,r)}function ws(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Es(e))Ds(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,kr(s,o))return li(e,t,i,0),Wl===null&&ci(),!1}catch{}if(n=ui(e,t,i,r),n!==null)return Cu(n,e,r),Os(n,t,r),!0}return!1}function Ts(e,t,n,r){if(r={lane:2,revertLane:md(),action:r,hasEagerState:!1,eagerState:null,next:null},Es(e)){if(t)throw Error(i(479))}else t=ui(e,n,r,2),t!==null&&Cu(t,e,2)}function Es(e){var t=e.alternate;return e===$a||t!==null&&t===$a}function Ds(e,t){ro=no=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Os(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,We(e,n)}}var ks={readContext:oa,use:Co,useCallback:lo,useContext:lo,useEffect:lo,useImperativeHandle:lo,useLayoutEffect:lo,useInsertionEffect:lo,useMemo:lo,useReducer:lo,useRef:lo,useState:lo,useDebugValue:lo,useDeferredValue:lo,useTransition:lo,useSyncExternalStore:lo,useId:lo,useHostTransitionStatus:lo,useFormState:lo,useActionState:lo,useOptimistic:lo,useMemoCache:lo,useCacheRefresh:lo},As={readContext:oa,use:Co,useCallback:function(e,t){return yo().memoizedState=[e,t===void 0?null:t],e},useContext:oa,useEffect:es,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),Qo(4194308,4,os.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qo(4194308,4,e,t)},useInsertionEffect:function(e,t){Qo(4,2,e,t)},useMemo:function(e,t){var n=yo();t=t===void 0?null:t;var r=e();if(io){De(!0);try{e()}finally{De(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=yo();if(n!==void 0){var i=n(t);if(io){De(!0);try{n(t)}finally{De(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Ss.bind(null,$a,e),[r.memoizedState,e]},useRef:function(e){var t=yo();return e={current:e},t.memoizedState=e},useState:function(e){e=Fo(e);var t=e.queue,n=Cs.bind(null,$a,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:cs,useDeferredValue:function(e,t){var n=yo();return ds(n,e,t)},useTransition:function(){var e=Fo(!1);return e=ps.bind(null,$a,e.queue,!0,!1),yo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=$a,a=yo();if(zi){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Wl===null)throw Error(i(349));Kl&124||Ao(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,es(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Yo(9,Xo(),jo.bind(null,r,o,n,t),null),n},useId:function(){var e=yo(),t=Wl.identifierPrefix;if(zi){var n=Mi,r=ji;n=(r&~(1<<32-Oe(r)-1)).toString(32)+n,t=``+t+`R`+n,n=ao++,0<n&&(t+=`H`+n.toString(32)),t+=``}else n=co++,t=``+t+`r`+n.toString(32)+``;return e.memoizedState=t},useHostTransitionStatus:vs,useFormState:Wo,useActionState:Wo,useOptimistic:function(e){var t=yo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ts.bind(null,$a,!0,n),n.dispatch=t,[e,t]},useMemoCache:wo,useCacheRefresh:function(){return yo().memoizedState=xs.bind(null,$a)}},js={readContext:oa,use:Co,useCallback:ls,useContext:oa,useEffect:ts,useImperativeHandle:ss,useInsertionEffect:ns,useLayoutEffect:rs,useMemo:us,useReducer:Eo,useRef:Zo,useState:function(){return Eo(To)},useDebugValue:cs,useDeferredValue:function(e,t){var n=bo();return fs(n,eo.memoizedState,e,t)},useTransition:function(){var e=Eo(To)[0],t=bo().memoizedState;return[typeof e==`boolean`?e:So(e),t]},useSyncExternalStore:ko,useId:ys,useHostTransitionStatus:vs,useFormState:Go,useActionState:Go,useOptimistic:function(e,t){var n=bo();return Io(n,eo,e,t)},useMemoCache:wo,useCacheRefresh:bs},Ms={readContext:oa,use:Co,useCallback:ls,useContext:oa,useEffect:ts,useImperativeHandle:ss,useInsertionEffect:ns,useLayoutEffect:rs,useMemo:us,useReducer:Oo,useRef:Zo,useState:function(){return Oo(To)},useDebugValue:cs,useDeferredValue:function(e,t){var n=bo();return eo===null?ds(n,e,t):fs(n,eo.memoizedState,e,t)},useTransition:function(){var e=Oo(To)[0],t=bo().memoizedState;return[typeof e==`boolean`?e:So(e),t]},useSyncExternalStore:ko,useId:ys,useHostTransitionStatus:vs,useFormState:Jo,useActionState:Jo,useOptimistic:function(e,t){var n=bo();return eo===null?(n.baseState=e,[e,n.queue.dispatch]):Io(n,eo,e,t)},useMemoCache:wo,useCacheRefresh:bs},Ns=null,Ps=0;function Fs(e){var t=Ps;return Ps+=1,Ns===null&&(Ns=[]),Ma(Ns,e,t)}function Is(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function Ls(e,t){throw t.$$typeof===f?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Rs(e){var t=e._init;return t(e._payload)}function zs(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=vi(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=Si(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===v?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===O&&Rs(i)===t.type)?(t=a(t,n.props),Is(t,n),t.return=e,t):(t=bi(n.type,n.key,n.props,null,e.mode,r),Is(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Ci(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=xi(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=Si(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case m:return n=bi(t.type,t.key,t.props,null,e.mode,n),Is(n,t),n.return=e,n;case g:return t=Ci(t,e.mode,n),t.return=e,t;case O:var r=t._init;return t=r(t._payload),f(e,t,n)}if(P(t)||M(t))return t=xi(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,Fs(t),n);if(t.$$typeof===C)return f(e,sa(e,t),n);Ls(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case m:return n.key===i?l(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case O:return i=n._init,n=i(n._payload),p(e,t,n,r)}if(P(n)||M(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,Fs(n),r);if(n.$$typeof===C)return p(e,t,sa(e,n),r);Ls(e,n)}return null}function h(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case m:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case g:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case O:var a=r._init;return r=a(r._payload),h(e,t,n,r,i)}if(P(r)||M(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return h(e,t,n,Fs(r),i);if(r.$$typeof===C)return h(e,t,n,sa(t,r),i);Ls(t,r)}return null}function _(i,a,s,c){for(var l=null,u=null,d=a,m=a=0,g=null;d!==null&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var _=p(i,d,s[m],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,m),u===null?l=_:u.sibling=_,u=_,d=g}if(m===s.length)return n(i,d),zi&&Ni(i,m),l;if(d===null){for(;m<s.length;m++)d=f(i,s[m],c),d!==null&&(a=o(d,a,m),u===null?l=d:u.sibling=d,u=d);return zi&&Ni(i,m),l}for(d=r(d);m<s.length;m++)g=h(d,i,m,s[m],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?m:g.key),a=o(g,a,m),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),zi&&Ni(i,m),l}function y(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,m=s,g=s=0,_=null,v=c.next();m!==null&&!v.done;g++,v=c.next()){m.index>g?(_=m,m=null):_=m.sibling;var y=p(a,m,v.value,l);if(y===null){m===null&&(m=_);break}e&&m&&y.alternate===null&&t(a,m),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,m=_}if(v.done)return n(a,m),zi&&Ni(a,g),u;if(m===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return zi&&Ni(a,g),u}for(m=r(m);!v.done;g++,v=c.next())v=h(m,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&m.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(a,e)}),zi&&Ni(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===v&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case m:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===v){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===O&&Rs(l)===r.type){n(e,r.sibling),c=a(r,o.props),Is(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===v?(c=xi(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=bi(o.type,o.key,o.props,null,e.mode,c),Is(c,o),c.return=e,e=c)}return s(e);case g:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=Ci(o,e.mode,c),c.return=e,e=c}return s(e);case O:return l=o._init,o=l(o._payload),b(e,r,o,c)}if(P(o))return _(e,r,o,c);if(M(o)){if(l=M(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),y(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,Fs(o),c);if(o.$$typeof===C)return b(e,r,sa(e,o),c);Ls(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=Si(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{Ps=0;var i=b(e,t,n,r);return Ns=null,i}catch(t){if(t===Ea||t===Oa)throw t;var a=gi(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Bs=zs(!0),Vs=zs(!1),Hs=ie(null),Us=null;function Ws(e){var t=e.alternate;R(Js,Js.current&1),R(Hs,e),Us===null&&(t===null||qa.current!==null||t.memoizedState!==null)&&(Us=e)}function Gs(e){if(e.tag===22){if(R(Js,Js.current),R(Hs,e),Us===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Us=e)}}else Ks(e)}function Ks(){R(Js,Js.current),R(Hs,Hs.current)}function qs(e){L(Hs),Us===e&&(Us=null),L(Js)}var Js=ie(0);function Ys(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data===`$?`||lf(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Xs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:d({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xu(),i=Ra(r);i.payload=t,n!=null&&(i.callback=n),t=za(e,i,r),t!==null&&(Cu(t,e,r),Ba(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xu(),i=Ra(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=za(e,i,r),t!==null&&(Cu(t,e,r),Ba(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xu(),r=Ra(n);r.tag=2,t!=null&&(r.callback=t),t=za(e,r,n),t!==null&&(Cu(t,e,n),Ba(t,e,n))}};function Qs(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Ar(n,r)||!Ar(i,a):!0}function $s(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Zs.enqueueReplaceState(t,t.state,null)}function ec(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=d({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}var tc=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)};function nc(e){tc(e)}function rc(e){console.error(e)}function ic(e){tc(e)}function ac(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function oc(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function sc(e,t,n){return n=Ra(n),n.tag=3,n.payload={element:null},n.callback=function(){ac(e,t)},n}function cc(e){return e=Ra(e),e.tag=3,e}function lc(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){oc(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){oc(t,n,r),typeof i!=`function`&&(du===null?du=new Set([this]):du.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function uc(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&ra(t,n,a,!0),n=Hs.current,n!==null){switch(n.tag){case 13:return Us===null?G():n.alternate===null&&$l===0&&($l=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===ka?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Yu(e,r,a)),!1;case 22:return n.flags|=65536,r===ka?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Yu(e,r,a)),!1}throw Error(i(435,n.tag))}return Yu(e,r,a),G(),!1}if(zi)return t=Hs.current,t===null?(r!==Hi&&(t=Error(i(423),{cause:r}),Yi(ii(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=ii(r,n),a=sc(e.stateNode,r,a),Va(e,a),$l!==4&&($l=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Hi&&(e=Error(i(422),{cause:r}),Yi(ii(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=ii(o,n),au===null?au=[o]:au.push(o),$l!==4&&($l=2),t===null)return!0;r=ii(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=sc(n.stateNode,r,e),Va(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(du===null||!du.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=cc(a),lc(a,e,n,r),Va(n,a),!1}n=n.return}while(n!==null);return!1}var dc=Error(i(461)),fc=!1;function pc(e,t,n,r){t.child=e===null?Vs(t,null,n,r):Bs(t,e.child,n,r)}function mc(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return aa(t),r=fo(e,t,n,o,a,i),s=go(),e!==null&&!fc?(_o(e,t,i),Pc(e,t,i)):(zi&&s&&Fi(t),t.flags|=1,pc(e,t,r,i),t.child)}function hc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!_i(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,gc(e,t,a,r,i)):(e=bi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Fc(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?Ar:n,n(o,r)&&e.ref===t.ref)return Pc(e,t,i)}return t.flags|=1,e=vi(a,r),e.ref=t.ref,e.return=t,t.child=e}function gc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Ar(a,r)&&e.ref===t.ref)if(fc=!1,t.pendingProps=r=a,Fc(e,i))e.flags&131072&&(fc=!0);else return t.lanes=e.lanes,Pc(e,t,i)}return bc(e,t,n,r,i)}function _c(e,t,n){var r=t.pendingProps,i=r.children,a=e===null?null:e.memoizedState;if(r.mode===`hidden`){if(t.flags&128){if(r=a===null?n:a.baseLanes|n,e!==null){for(i=t.child=e.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return vc(e,t,r,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&wa(t,a===null?null:a.cachePool),a===null?Xa():Ya(t,a),Gs(t);else return t.lanes=t.childLanes=536870912,vc(e,t,a===null?n:a.baseLanes|n,n)}else a===null?(e!==null&&wa(t,null),Xa(),Ks(t)):(wa(t,a.cachePool),Ya(t,a),Ks(t),t.memoizedState=null);return pc(e,t,i,n),t.child}function vc(e,t,n,r){var i=Ca();return i=i===null?null:{parent:fa._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&wa(t,null),Xa(),Gs(t),e!==null&&ra(e,t,r,!0),null}function yc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function bc(e,t,n,r,i){return aa(t),n=fo(e,t,n,r,void 0,i),r=go(),e!==null&&!fc?(_o(e,t,i),Pc(e,t,i)):(zi&&r&&Fi(t),t.flags|=1,pc(e,t,n,i),t.child)}function xc(e,t,n,r,i,a){return aa(t),t.updateQueue=null,n=mo(t,r,n,i),po(e),r=go(),e!==null&&!fc?(_o(e,t,a),Pc(e,t,a)):(zi&&r&&Fi(t),t.flags|=1,pc(e,t,n,a),t.child)}function Sc(e,t,n,r,i){if(aa(t),t.stateNode===null){var a=mi,o=n.contextType;typeof o==`object`&&o&&(a=oa(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Zs,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Ia(t),o=n.contextType,a.context=typeof o==`object`&&o?oa(o):mi,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Xs(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Zs.enqueueReplaceState(a,a.state,null),Wa(t,r,a,i),Ua(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=ec(n,s);a.props=c;var l=a.context,u=n.contextType;o=mi,typeof u==`object`&&u&&(o=oa(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&$s(t,a,r,o),H=!1;var f=t.memoizedState;a.state=f,Wa(t,r,a,i),Ua(),l=t.memoizedState,s||f!==l||H?(typeof d==`function`&&(Xs(t,n,d,r),l=t.memoizedState),(c=H||Qs(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,La(e,t),o=t.memoizedProps,u=ec(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=mi,typeof l==`object`&&l&&(c=oa(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&$s(t,a,r,c),H=!1,f=t.memoizedState,a.state=f,Wa(t,r,a,i),Ua();var p=t.memoizedState;o!==d||f!==p||H||e!==null&&e.dependencies!==null&&ia(e.dependencies)?(typeof s==`function`&&(Xs(t,n,s,r),p=t.memoizedState),(u=H||Qs(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&ia(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,yc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Bs(t,e.child,null,i),t.child=Bs(t,null,n,i)):pc(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Pc(e,t,i),e}function Cc(e,t,n,r){return qi(),t.flags|=256,pc(e,t,n,r),t.child}var wc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tc(e){return{baseLanes:e,cachePool:Ta()}}function Ec(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=ru),e}function Dc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(Js.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(zi){if(a?Ws(t):Ks(t),zi){var c=Ri,l;if(l=c){c:{for(l=c,c=Vi;l.nodeType!==8;){if(!c){c=null;break c}if(l=df(l.nextSibling),l===null){c=null;break c}}c=l}c===null?l=!1:(t.memoizedState={dehydrated:c,treeContext:Ai===null?null:{id:ji,overflow:Mi},retryLane:536870912,hydrationErrors:null},l=gi(18,null,null,0),l.stateNode=c,l.return=t,t.child=l,Li=t,Ri=null,l=!0)}l||Ui(t)}if(c=t.memoizedState,c!==null&&(c=c.dehydrated,c!==null))return lf(c)?t.lanes=32:t.lanes=536870912,null;qs(t)}return c=r.children,r=r.fallback,a?(Ks(t),a=t.mode,c=kc({mode:`hidden`,children:c},a),r=xi(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,a=t.child,a.memoizedState=Tc(n),a.childLanes=Ec(e,s,n),t.memoizedState=wc,r):(Ws(t),Oc(t,c))}if(l=e.memoizedState,l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(Ws(t),t.flags&=-257,t=Ac(e,t,n)):t.memoizedState===null?(Ks(t),a=r.fallback,c=t.mode,r=kc({mode:`visible`,children:r.children},c),a=xi(a,c,n,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,Bs(t,e.child,null,n),r=t.child,r.memoizedState=Tc(n),r.childLanes=Ec(e,s,n),t.memoizedState=wc,t=a):(Ks(t),t.child=e.child,t.flags|=128,t=null);else if(Ws(t),lf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Yi({value:r,source:null,stack:null}),t=Ac(e,t,n)}else if(fc||ra(e,t,n,!1),s=(n&e.childLanes)!==0,fc||s){if(s=Wl,s!==null&&(r=n&-n,r=r&42?1:Ge(r),r=(r&(s.suspendedLanes|n))===0?r:0,r!==0&&r!==l.retryLane))throw l.retryLane=r,di(e,r),Cu(s,e,r),dc;c.data===`$?`||G(),t=Ac(e,t,n)}else c.data===`$?`?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Ri=df(c.nextSibling),Li=t,zi=!0,Bi=null,Vi=!1,e!==null&&(Oi[ki++]=ji,Oi[ki++]=Mi,Oi[ki++]=Ai,ji=e.id,Mi=e.overflow,Ai=t),t=Oc(t,r.children),t.flags|=4096);return t}return a?(Ks(t),a=r.fallback,c=t.mode,l=e.child,u=l.sibling,r=vi(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(a=xi(a,c,n,null),a.flags|=2):a=vi(u,a),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,c=e.child.memoizedState,c===null?c=Tc(n):(l=c.cachePool,l===null?l=Ta():(u=fa._currentValue,l=l.parent===u?l:{parent:u,pool:u}),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=Ec(e,s,n),t.memoizedState=wc,r):(Ws(t),n=e.child,e=n.sibling,n=vi(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Oc(e,t){return t=kc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function kc(e,t){return e=gi(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ac(e,t,n){return Bs(t,e.child,null,n),e=Oc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ta(e.return,t,n)}function Mc(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Nc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(pc(e,t,r.children,n),r=Js.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jc(e,n,t);else if(e.tag===19)jc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(R(Js,r),i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ys(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Mc(t,!1,i,n,a);break;case`backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ys(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Mc(t,!0,n,null,a);break;case`together`:Mc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),eu|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ra(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=vi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Fc(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&ia(e))):!0}function Ic(e,t,n){switch(t.tag){case 3:le(t,t.stateNode.containerInfo),$i(t,fa,e.memoizedState.cache),qi();break;case 27:case 5:de(t);break;case 4:le(t,t.stateNode.containerInfo);break;case 10:$i(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(Ws(t),e=Pc(e,t,n),e===null?null:e.sibling):Dc(e,t,n):(Ws(t),t.flags|=128,null);Ws(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(ra(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return Nc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),R(Js,Js.current),r)break;return null;case 22:case 23:return t.lanes=0,_c(e,t,n);case 24:$i(t,fa,e.memoizedState.cache)}return Pc(e,t,n)}function Lc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)fc=!0;else{if(!Fc(e,n)&&!(t.flags&128))return fc=!1,Ic(e,t,n);fc=!!(e.flags&131072)}else fc=!1,zi&&t.flags&1048576&&Pi(t,Di,t.index);switch(t.lanes=0,t.tag){case 16:a:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,typeof r==`function`)_i(r)?(e=ec(r,e),t.tag=1,t=Sc(null,t,r,e,n)):(t.tag=0,t=bc(null,t,r,e,n));else{if(r!=null){if(a=r.$$typeof,a===w){t.tag=11,t=mc(null,t,r,e,n);break a}else if(a===D){t.tag=14,t=hc(null,t,r,e,n);break a}}throw t=ee(r)||r,Error(i(306,t,``))}}return t;case 0:return bc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=ec(r,t.pendingProps),Sc(e,t,r,a,n);case 3:a:{if(le(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,La(e,t),Wa(t,r,null,n);var s=t.memoizedState;if(r=s.cache,$i(t,fa,r),r!==o.cache&&na(t,[fa],n,!0),Ua(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Cc(e,t,r,n);break a}else if(r!==a){a=ii(Error(i(424)),t),Yi(a),t=Cc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(Ri=df(e.firstChild),Li=t,zi=!0,Bi=null,Vi=!0,n=Vs(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(qi(),r===a){t=Pc(e,t,n);break a}pc(e,t,r,n)}t=t.child}return t;case 26:return yc(e,t),e===null?(n=jf(t.type,null,t.pendingProps,null))?t.memoizedState=n:zi||(n=t.type,e=t.pendingProps,r=Gd(se.current).createElement(n),r[Xe]=t,r[Ze]=e,Vd(r,n,e),lt(r),t.stateNode=r):t.memoizedState=jf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return de(t),e===null&&zi&&(r=t.stateNode=mf(t.type,t.pendingProps,se.current),Li=t,Vi=!0,a=Ri,nf(t.type)?(ff=a,Ri=df(r.firstChild)):Ri=a),pc(e,t,t.pendingProps.children,n),yc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&zi&&((a=r=Ri)&&(r=sf(r,t.type,t.pendingProps,Vi),r===null?a=!1:(t.stateNode=r,Li=t,Ri=df(r.firstChild),Vi=!1,a=!0)),a||Ui(t)),de(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Jd(a,o)?r=null:s!==null&&Jd(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=fo(e,t,ho,null,null,n),tp._currentValue=a),yc(e,t),pc(e,t,r,n),t.child;case 6:return e===null&&zi&&((e=n=Ri)&&(n=cf(n,t.pendingProps,Vi),n===null?e=!1:(t.stateNode=n,Li=t,Ri=null,e=!0)),e||Ui(t)),null;case 13:return Dc(e,t,n);case 4:return le(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Bs(t,null,r,n):pc(e,t,r,n),t.child;case 11:return mc(e,t,t.type,t.pendingProps,n);case 7:return pc(e,t,t.pendingProps,n),t.child;case 8:return pc(e,t,t.pendingProps.children,n),t.child;case 12:return pc(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,$i(t,t.type,r.value),pc(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,aa(t),a=oa(a),r=r(a),t.flags|=1,pc(e,t,r,n),t.child;case 14:return hc(e,t,t.type,t.pendingProps,n);case 15:return gc(e,t,t.type,t.pendingProps,n);case 19:return Nc(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=kc(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=vi(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return _c(e,t,n);case 24:return aa(t),r=oa(fa),e===null?(a=Ca(),a===null&&(a=Wl,o=pa(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Ia(t),$i(t,fa,a)):((e.lanes&n)!==0&&(La(e,t),Wa(t,null,null,n),Ua()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,$i(t,fa,r),r!==a.cache&&na(t,[fa],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),$i(t,fa,r))),pc(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Rc(e){e.flags|=4}function zc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Kf(t)){if(t=Hs.current,t!==null&&((Kl&4194048)===Kl?Us!==null:(Kl&62914560)!==Kl&&!(Kl&536870912)||t!==Us))throw Na=ka,Da;e.flags|=8192}}function Bc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:ze(),e.lanes|=t,iu|=t)}function Vc(e,t){if(!zi)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function U(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hc(e,t,n){var r=t.pendingProps;switch(Ii(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return U(t),null;case 1:return U(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ea(fa),ue(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Ki(t)?Rc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ji())),U(t),null;case 26:return n=t.memoizedState,e===null?(Rc(t),n===null?(U(t),t.flags&=-16777217):(U(t),zc(t,n))):n?n===e.memoizedState?(U(t),t.flags&=-16777217):(Rc(t),U(t),zc(t,n)):(e.memoizedProps!==r&&Rc(t),U(t),t.flags&=-16777217),null;case 27:fe(t),n=se.current;var a=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Rc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return U(t),null}e=ae.current,Ki(t)?Wi(t,e):(e=mf(a,r,n),t.stateNode=e,Rc(t))}return U(t),null;case 5:if(fe(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Rc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return U(t),null}if(e=ae.current,Ki(t))Wi(t,e);else{switch(a=Gd(se.current),e){case 1:e=a.createElementNS(`http://www.w3.org/2000/svg`,n);break;case 2:e=a.createElementNS(`http://www.w3.org/1998/Math/MathML`,n);break;default:switch(n){case`svg`:e=a.createElementNS(`http://www.w3.org/2000/svg`,n);break;case`math`:e=a.createElementNS(`http://www.w3.org/1998/Math/MathML`,n);break;case`script`:e=a.createElement(`div`),e.innerHTML=`<script><\/script>`,e=e.removeChild(e.firstChild);break;case`select`:e=typeof r.is==`string`?a.createElement(`select`,{is:r.is}):a.createElement(`select`),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is==`string`?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Xe]=t,e[Ze]=r;a:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break a;for(;a.sibling===null;){if(a.return===null||a.return===t)break a;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;a:switch(Vd(e,n,r),n){case`button`:case`input`:case`select`:case`textarea`:e=!!r.autoFocus;break a;case`img`:e=!0;break a;default:e=!1}e&&Rc(t)}}return U(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Rc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=se.current,Ki(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Li,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Xe]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Ld(e.nodeValue,n)),e||Ui(t)}else e=Gd(e).createTextNode(r),e[Xe]=t,t.stateNode=e}return U(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Ki(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[Xe]=t}else qi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;U(t),a=!1}else a=Ji(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(qs(t),t):(qs(t),null)}if(qs(t),t.flags&128)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool);var o=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Bc(t,t.updateQueue),U(t),null;case 4:return ue(),e===null&&Dd(t.stateNode.containerInfo),U(t),null;case 10:return ea(t.type),U(t),null;case 19:if(L(Js),a=t.memoizedState,a===null)return U(t),null;if(r=(t.flags&128)!=0,o=a.rendering,o===null)if(r)Vc(a,!1);else{if($l!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ys(e),o!==null){for(t.flags|=128,Vc(a,!1),e=o.updateQueue,t.updateQueue=e,Bc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)yi(n,e),n=n.sibling;return R(Js,Js.current&1|2),t.child}e=e.sibling}a.tail!==null&&z()>lu&&(t.flags|=128,r=!0,Vc(a,!1),t.lanes=4194304)}else{if(!r)if(e=Ys(o),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Bc(t,e),Vc(a,!0),a.tail===null&&a.tailMode===`hidden`&&!o.alternate&&!zi)return U(t),null}else 2*z()-a.renderingStartTime>lu&&n!==536870912&&(t.flags|=128,r=!0,Vc(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(e=a.last,e===null?t.child=o:e.sibling=o,a.last=o)}return a.tail===null?(U(t),null):(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=z(),t.sibling=null,e=Js.current,R(Js,r?e&1|2:e&1),t);case 22:case 23:return qs(t),Za(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(U(t),t.subtreeFlags&6&&(t.flags|=8192)):U(t),n=t.updateQueue,n!==null&&Bc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&L(Sa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ea(fa),U(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Uc(e,t){switch(Ii(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ea(fa),ue(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return fe(t),null;case 13:if(qs(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));qi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(Js),null;case 4:return ue(),null;case 10:return ea(t.type),null;case 22:case 23:return qs(t),Za(),e!==null&&L(Sa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ea(fa),null;case 25:return null;default:return null}}function Wc(e,t){switch(Ii(t),t.tag){case 3:ea(fa),ue();break;case 26:case 27:case 5:fe(t);break;case 4:ue();break;case 13:qs(t);break;case 19:L(Js);break;case 10:ea(t.type);break;case 22:case 23:qs(t),Za(),e!==null&&L(Sa);break;case 24:ea(fa)}}function Gc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Ju(t,t.return,e)}}function Kc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){Ju(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){Ju(t,t.return,e)}}function qc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ka(t,n)}catch(t){Ju(e,e.return,t)}}}function Jc(e,t,n){n.props=ec(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Ju(e,t,n)}}function Yc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){Ju(e,t,n)}}function Xc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){Ju(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){Ju(e,t,n)}else n.current=null}function Zc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Ju(e,e.return,t)}}function Qc(e,t,n){try{var r=e.stateNode;Hd(r,e.type,n,t),r[Ze]=t}catch(t){Ju(e,e.return,t)}}function $c(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&nf(e.type)||e.tag===4}function el(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||$c(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&nf(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Rd));else if(r!==4&&(r===27&&nf(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(tl(e,t,n),e=e.sibling;e!==null;)tl(e,t,n),e=e.sibling}function nl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&nf(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(nl(e,t,n),e=e.sibling;e!==null;)nl(e,t,n),e=e.sibling}function rl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Vd(t,r,n),t[Xe]=e,t[Ze]=n}catch(t){Ju(e,e.return,t)}}var il=!1,al=!1,ol=!1,sl=typeof WeakSet==`function`?WeakSet:Set,cl=null;function ll(e,t){if(e=e.containerInfo,Ud=lp,e=Pr(e),Fr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(Wd={focusedElem:e,selectionRange:n},lp=!1,cl=t;cl!==null;)if(t=cl,e=t.child,t.subtreeFlags&1024&&e!==null)e.return=t,cl=e;else for(;cl!==null;){switch(t=cl,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=ec(n.type,a,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Ju(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)af(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:af(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,cl=e;break}cl=t.return}}function ul(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:wl(e,n),r&4&&Gc(5,n);break;case 1:if(wl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){Ju(n,n.return,e)}else{var i=ec(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Ju(n,n.return,e)}}r&64&&qc(n),r&512&&Yc(n,n.return);break;case 3:if(wl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ka(e,t)}catch(e){Ju(n,n.return,e)}}break;case 27:t===null&&r&4&&rl(n);case 26:case 5:wl(e,n),t===null&&r&4&&Zc(n),r&512&&Yc(n,n.return);break;case 12:wl(e,n);break;case 13:wl(e,n),r&4&&gl(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Qu.bind(null,n),uf(e,n))));break;case 22:if(r=n.memoizedState!==null||il,!r){t=t!==null&&t.memoizedState!==null||al,i=il;var a=al;il=r,(al=t)&&!a?El(e,n,(n.subtreeFlags&8772)!=0):wl(e,n),il=i,al=a}break;case 30:break;default:wl(e,n)}}function dl(e){var t=e.alternate;t!==null&&(e.alternate=null,dl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&it(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fl=null,pl=!1;function ml(e,t,n){for(n=n.child;n!==null;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(Ee&&typeof Ee.onCommitFiberUnmount==`function`)try{Ee.onCommitFiberUnmount(Te,n)}catch{}switch(n.tag){case 26:al||Xc(n,t),ml(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:al||Xc(n,t);var r=fl,i=pl;nf(n.type)&&(fl=n.stateNode,pl=!1),ml(e,t,n),hf(n.stateNode),fl=r,pl=i;break;case 5:al||Xc(n,t);case 6:if(r=fl,i=pl,fl=null,ml(e,t,n),fl=r,pl=i,fl!==null)if(pl)try{(fl.nodeType===9?fl.body:fl.nodeName===`HTML`?fl.ownerDocument.body:fl).removeChild(n.stateNode)}catch(e){Ju(n,t,e)}else try{fl.removeChild(n.stateNode)}catch(e){Ju(n,t,e)}break;case 18:fl!==null&&(pl?(e=fl,rf(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Fp(e)):rf(fl,n.stateNode));break;case 4:r=fl,i=pl,fl=n.stateNode.containerInfo,pl=!0,ml(e,t,n),fl=r,pl=i;break;case 0:case 11:case 14:case 15:al||Kc(2,n,t),al||Kc(4,n,t),ml(e,t,n);break;case 1:al||(Xc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&Jc(n,t,r)),ml(e,t,n);break;case 21:ml(e,t,n);break;case 22:al=(r=al)||n.memoizedState!==null,ml(e,t,n),al=r;break;default:ml(e,t,n)}}function gl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fp(e)}catch(e){Ju(t,t.return,e)}}function _l(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sl),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sl),t;default:throw Error(i(435,e.tag))}}function vl(e,t){var n=_l(e);t.forEach(function(t){var r=$u.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function yl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(nf(c.type)){fl=c.stateNode,pl=!1;break a}break;case 5:fl=c.stateNode,pl=!1;break a;case 3:case 4:fl=c.stateNode.containerInfo,pl=!0;break a}c=c.return}if(fl===null)throw Error(i(160));hl(o,s,a),fl=null,pl=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)xl(t,e),t=t.sibling}var bl=null;function xl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yl(t,e),Sl(e),r&4&&(Kc(3,e,e.return),Gc(3,e),Kc(5,e,e.return));break;case 1:yl(t,e),Sl(e),r&512&&(al||n===null||Xc(n,n.return)),r&64&&il&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=bl;if(yl(t,e),Sl(e),r&512&&(al||n===null||Xc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[rt]||o[Xe]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Vd(o,r,n),o[Xe]=e,lt(o),r=o;break a;case`link`:var s=Uf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Vd(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Uf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Vd(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[Xe]=e,lt(o),r=o}e.stateNode=r}else Wf(a,e.type,e.stateNode);else e.stateNode=Rf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&Qc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Wf(a,e.type,e.stateNode):Rf(a,r,e.memoizedProps))}break;case 27:yl(t,e),Sl(e),r&512&&(al||n===null||Xc(n,n.return)),n!==null&&r&4&&Qc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(yl(t,e),Sl(e),r&512&&(al||n===null||Xc(n,n.return)),e.flags&32){a=e.stateNode;try{Ht(a,``)}catch(t){Ju(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Qc(e,a,n===null?a:n.memoizedProps)),r&1024&&(ol=!0);break;case 6:if(yl(t,e),Sl(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Ju(e,e.return,t)}}break;case 3:if(Hf=null,a=bl,bl=vf(t.containerInfo),yl(t,e),bl=a,Sl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fp(t.containerInfo)}catch(t){Ju(e,e.return,t)}ol&&(ol=!1,Cl(e));break;case 4:r=bl,bl=vf(e.stateNode.containerInfo),yl(t,e),Sl(e),bl=r;break;case 12:yl(t,e),Sl(e);break;case 13:yl(t,e),Sl(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(cu=z()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,vl(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=il,d=al;if(il=u||a,al=d||l,yl(t,e),al=d,il=u,Sl(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||il||al||Tl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){Ju(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){Ju(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,vl(e,n))));break;case 19:yl(t,e),Sl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,vl(e,r)));break;case 30:break;case 21:break;default:yl(t,e),Sl(e)}}function Sl(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if($c(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode,o=el(e);nl(e,o,a);break;case 5:var s=n.stateNode;n.flags&32&&(Ht(s,``),n.flags&=-33);var c=el(e);nl(e,c,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=el(e);tl(e,u,l);break;default:throw Error(i(161))}}catch(t){Ju(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Cl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function wl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ul(e,t.alternate,t),t=t.sibling}function Tl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Kc(4,t,t.return),Tl(t);break;case 1:Xc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&Jc(t,t.return,n),Tl(t);break;case 27:hf(t.stateNode);case 26:case 5:Xc(t,t.return),Tl(t);break;case 22:t.memoizedState===null&&Tl(t);break;case 30:Tl(t);break;default:Tl(t)}e=e.sibling}}function El(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:El(i,a,n),Gc(4,a);break;case 1:if(El(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){Ju(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Ga(c[i],s)}catch(e){Ju(r,r.return,e)}}n&&o&64&&qc(a),Yc(a,a.return);break;case 27:rl(a);case 26:case 5:El(i,a,n),n&&r===null&&o&4&&Zc(a),Yc(a,a.return);break;case 12:El(i,a,n);break;case 13:El(i,a,n),n&&o&4&&gl(i,a);break;case 22:a.memoizedState===null&&El(i,a,n),Yc(a,a.return);break;case 30:break;default:El(i,a,n)}t=t.sibling}}function Dl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ma(n))}function Ol(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ma(e))}function kl(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Al(e,t,n,r),t=t.sibling}function Al(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:kl(e,t,n,r),i&2048&&Gc(9,t);break;case 1:kl(e,t,n,r);break;case 3:kl(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ma(e)));break;case 12:if(i&2048){kl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){Ju(t,t.return,e)}}else kl(e,t,n,r);break;case 13:kl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?kl(e,t,n,r):(a._visibility|=2,jl(e,t,n,r,(t.subtreeFlags&10256)!=0)):a._visibility&2?kl(e,t,n,r):Ml(e,t),i&2048&&Dl(o,t);break;case 24:kl(e,t,n,r),i&2048&&Ol(t.alternate,t);break;default:kl(e,t,n,r)}}function jl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:jl(a,o,s,c,i),Gc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,jl(a,o,s,c,i)):u._visibility&2?jl(a,o,s,c,i):Ml(a,o),i&&l&2048&&Dl(o.alternate,o);break;case 24:jl(a,o,s,c,i),i&&l&2048&&Ol(o.alternate,o);break;default:jl(a,o,s,c,i)}t=t.sibling}}function Ml(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Ml(n,r),i&2048&&Dl(r.alternate,r);break;case 24:Ml(n,r),i&2048&&Ol(r.alternate,r);break;default:Ml(n,r)}t=t.sibling}}var Nl=8192;function Pl(e){if(e.subtreeFlags&Nl)for(e=e.child;e!==null;)Fl(e),e=e.sibling}function Fl(e){switch(e.tag){case 26:Pl(e),e.flags&Nl&&e.memoizedState!==null&&Yf(bl,e.memoizedState,e.memoizedProps);break;case 5:Pl(e);break;case 3:case 4:var t=bl;bl=vf(e.stateNode.containerInfo),Pl(e),bl=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Nl,Nl=16777216,Pl(e),Nl=t):Pl(e));break;default:Pl(e)}}function Il(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ll(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];cl=r,Bl(r,e)}Il(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Rl(e),e=e.sibling}function Rl(e){switch(e.tag){case 0:case 11:case 15:Ll(e),e.flags&2048&&Kc(9,e,e.return);break;case 3:Ll(e);break;case 12:Ll(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,zl(e)):Ll(e);break;default:Ll(e)}}function zl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];cl=r,Bl(r,e)}Il(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Kc(8,t,t.return),zl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,zl(t));break;default:zl(t)}e=e.sibling}}function Bl(e,t){for(;cl!==null;){var n=cl;switch(n.tag){case 0:case 11:case 15:Kc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ma(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,cl=r;else a:for(n=e;cl!==null;){r=cl;var i=r.sibling,a=r.return;if(dl(r),r===n){cl=null;break a}if(i!==null){i.return=a,cl=i;break a}cl=a}}}var Vl={getCacheForType:function(e){var t=oa(fa),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Hl=typeof WeakMap==`function`?WeakMap:Map,Ul=0,Wl=null,Gl=null,Kl=0,ql=0,Jl=null,Yl=!1,Xl=!1,Zl=!1,Ql=0,$l=0,eu=0,tu=0,nu=0,ru=0,iu=0,au=null,ou=null,su=!1,cu=0,lu=1/0,uu=null,du=null,fu=0,pu=null,mu=null,hu=0,gu=0,_u=null,vu=null,yu=0,bu=null;function xu(){if(Ul&2&&Kl!==0)return Kl&-Kl;if(F.T!==null){var e=_a;return e===0?md():e}return qe()}function Su(){ru===0&&(ru=!(Kl&536870912)||zi?Re():536870912);var e=Hs.current;return e!==null&&(e.flags|=32),ru}function Cu(e,t,n){(e===Wl&&(ql===2||ql===9)||e.cancelPendingCommit!==null)&&(W(e,0),Du(e,Kl,ru,!1)),Ve(e,n),(!(Ul&2)||e!==Wl)&&(e===Wl&&(!(Ul&2)&&(tu|=n),$l===4&&Du(e,Kl,ru,!1)),od(e))}function wu(e,t,n){if(Ul&6)throw Error(i(327));var r=!n&&(t&124)==0&&(t&e.expiredLanes)===0||Ie(e,t),a=r?Fu(e,t):Nu(e,t,!0),o=r;do{if(a===0){Xl&&!r&&Du(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!Eu(n)){a=Nu(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=au;var l=c.current.memoizedState.isDehydrated;if(l&&(W(c,s).flags|=256),s=Nu(c,s,!1),s!==2){if(Zl&&!l){c.errorRecoveryDisabledLanes|=o,tu|=o,a=4;break a}o=ou,ou=a,o!==null&&(ou===null?ou=o:ou.push.apply(ou,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){W(e,0),Du(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Du(r,t,ru,!Yl);break a;case 2:ou=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=cu+300-z(),10<a)){if(Du(r,t,ru,!Yl),Fe(r,0,!0)!==0)break a;r.timeoutHandle=Zd(Tu.bind(null,r,n,ou,uu,su,t,ru,tu,iu,Yl,o,2,-0,0),a);break a}Tu(r,n,ou,uu,su,t,ru,tu,iu,Yl,o,0,-0,0)}}break}while(1);od(e)}function Tu(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,(d&8192||(d&16785408)==16785408)&&(qf={stylesheets:null,count:0,unsuspend:Jf},Fl(t),d=Xf(),d!==null)){e.cancelPendingCommit=d(Bu.bind(null,e,t,a,n,r,i,o,s,c,u,1,f,p)),Du(e,a,o,!l);return}Bu(e,t,a,n,r,i,o,s,c)}function Eu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!kr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Du(e,t,n,r){t&=~nu,t&=~tu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Oe(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&Ue(e,n,t)}function Ou(){return Ul&6?!0:(sd(0,!1),!1)}function ku(){if(Gl!==null){if(ql===0)var e=Gl.return;else e=Gl,Qi=Zi=null,vo(e),Ns=null,Ps=0,e=Gl;for(;e!==null;)Wc(e.alternate,e),e=e.return;Gl=null}}function W(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Qd(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ku(),Wl=e,Gl=n=vi(e.current,null),Kl=t,ql=0,Jl=null,Yl=!1,Xl=Ie(e,t),Zl=!1,iu=ru=nu=tu=eu=$l=0,ou=au=null,su=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Oe(r),a=1<<i;t|=e[i],r&=~a}return Ql=t,ci(),n}function Au(e,t){$a=null,F.H=ks,t===Ea||t===Oa?(t=Pa(),ql=3):t===Da?(t=Pa(),ql=4):ql=t===dc?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Jl=t,Gl===null&&($l=1,ac(e,ii(t,e.current)))}function ju(){var e=F.H;return F.H=ks,e===null?ks:e}function Mu(){var e=F.A;return F.A=Vl,e}function G(){$l=4,Yl||(Kl&4194048)!==Kl&&Hs.current!==null||(Xl=!0),!(eu&134217727)&&!(tu&134217727)||Wl===null||Du(Wl,Kl,ru,!1)}function Nu(e,t,n){var r=Ul;Ul|=2;var i=ju(),a=Mu();(Wl!==e||Kl!==t)&&(uu=null,W(e,t)),t=!1;var o=$l;a:do try{if(ql!==0&&Gl!==null){var s=Gl,c=Jl;switch(ql){case 8:ku(),o=6;break a;case 3:case 2:case 9:case 6:Hs.current===null&&(t=!0);var l=ql;if(ql=0,Jl=null,Lu(e,s,c,l),n&&Xl){o=0;break a}break;default:l=ql,ql=0,Jl=null,Lu(e,s,c,l)}}Pu(),o=$l;break}catch(t){Au(e,t)}while(1);return t&&e.shellSuspendCounter++,Qi=Zi=null,Ul=r,F.H=i,F.A=a,Gl===null&&(Wl=null,Kl=0,ci()),o}function Pu(){for(;Gl!==null;)q(Gl)}function Fu(e,t){var n=Ul;Ul|=2;var r=ju(),a=Mu();Wl!==e||Kl!==t?(uu=null,lu=z()+500,W(e,t)):Xl=Ie(e,t);a:do try{if(ql!==0&&Gl!==null){t=Gl;var o=Jl;b:switch(ql){case 1:ql=0,Jl=null,Lu(e,t,o,1);break;case 2:case 9:if(Aa(o)){ql=0,Jl=null,Iu(t);break}t=function(){ql!==2&&ql!==9||Wl!==e||(ql=7),od(e)},o.then(t,t);break a;case 3:ql=7;break a;case 4:ql=5;break a;case 7:Aa(o)?(ql=0,Jl=null,Iu(t)):(ql=0,Jl=null,Lu(e,t,o,7));break;case 5:var s=null;switch(Gl.tag){case 26:s=Gl.memoizedState;case 5:case 27:var c=Gl;if(!s||Kf(s)){ql=0,Jl=null;var l=c.sibling;if(l!==null)Gl=l;else{var u=c.return;u===null?Gl=null:(Gl=u,Ru(u))}break b}}ql=0,Jl=null,Lu(e,t,o,5);break;case 6:ql=0,Jl=null,Lu(e,t,o,6);break;case 8:ku(),$l=6;break a;default:throw Error(i(462))}}K();break}catch(t){Au(e,t)}while(1);return Qi=Zi=null,F.H=r,F.A=a,Ul=n,Gl===null?(Wl=null,Kl=0,ci(),$l):0}function K(){for(;Gl!==null&&!ge();)q(Gl)}function q(e){var t=Lc(e.alternate,e,Ql);e.memoizedProps=e.pendingProps,t===null?Ru(e):Gl=t}function Iu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=xc(n,t,t.pendingProps,t.type,void 0,Kl);break;case 11:t=xc(n,t,t.pendingProps,t.type.render,t.ref,Kl);break;case 5:vo(t);default:Wc(n,t),t=Gl=yi(t,Ql),t=Lc(n,t,Ql)}e.memoizedProps=e.pendingProps,t===null?Ru(e):Gl=t}function Lu(e,t,n,r){Qi=Zi=null,vo(t),Ns=null,Ps=0;var i=t.return;try{if(uc(e,i,t,n,Kl)){$l=1,ac(e,ii(n,e.current)),Gl=null;return}}catch(t){if(i!==null)throw Gl=i,t;$l=1,ac(e,ii(n,e.current)),Gl=null;return}t.flags&32768?(zi||r===1?e=!0:Xl||Kl&536870912?e=!1:(Yl=e=!0,(r===2||r===9||r===3||r===6)&&(r=Hs.current,r!==null&&r.tag===13&&(r.flags|=16384))),zu(t,e)):Ru(t)}function Ru(e){var t=e;do{if(t.flags&32768){zu(t,Yl);return}e=t.return;var n=Hc(t.alternate,t,Ql);if(n!==null){Gl=n;return}if(t=t.sibling,t!==null){Gl=t;return}Gl=t=e}while(t!==null);$l===0&&($l=5)}function zu(e,t){do{var n=Uc(e.alternate,e);if(n!==null){n.flags&=32767,Gl=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Gl=e;return}Gl=e=n}while(e!==null);$l=6,Gl=null}function Bu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do Gu();while(fu!==0);if(Ul&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=si,He(e,n,o,s,c,l),e===Wl&&(Gl=Wl=null,Kl=0),mu=t,pu=e,hu=n,gu=o,_u=a,vu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,ed(xe,function(){return Ku(!0),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=F.T,F.T=null,a=I.p,I.p=2,s=Ul,Ul|=4;try{ll(e,t,n)}finally{Ul=s,I.p=a,F.T=r}}fu=1,Vu(),Hu(),Uu()}}function Vu(){if(fu===1){fu=0;var e=pu,t=mu,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=F.T,F.T=null;var r=I.p;I.p=2;var i=Ul;Ul|=4;try{xl(t,e);var a=Wd,o=Pr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Nr(s.ownerDocument.documentElement,s)){if(c!==null&&Fr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=Mr(s,h),v=Mr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}lp=!!Ud,Wd=Ud=null}finally{Ul=i,I.p=r,F.T=n}}e.current=t,fu=2}}function Hu(){if(fu===2){fu=0;var e=pu,t=mu,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=F.T,F.T=null;var r=I.p;I.p=2;var i=Ul;Ul|=4;try{ul(e,t.alternate,t)}finally{Ul=i,I.p=r,F.T=n}}fu=3}}function Uu(){if(fu===4||fu===3){fu=0,_e();var e=pu,t=mu,n=hu,r=vu;t.subtreeFlags&10256||t.flags&10256?fu=5:(fu=0,mu=pu=null,Wu(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(du=null),Ke(n),t=t.stateNode,Ee&&typeof Ee.onCommitFiberRoot==`function`)try{Ee.onCommitFiberRoot(Te,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=F.T,i=I.p,I.p=2,F.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{F.T=t,I.p=i}}hu&3&&Gu(),od(e),i=e.pendingLanes,n&4194090&&i&42?e===bu?yu++:(yu=0,bu=e):yu=0,sd(0,!1)}}function Wu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ma(t)))}function Gu(e){return Vu(),Hu(),Uu(),Ku(e)}function Ku(){if(fu!==5)return!1;var e=pu,t=gu;gu=0;var n=Ke(hu),r=F.T,a=I.p;try{I.p=32>n?32:n,F.T=null,n=_u,_u=null;var o=pu,s=hu;if(fu=0,mu=pu=null,hu=0,Ul&6)throw Error(i(331));var c=Ul;if(Ul|=4,Rl(o.current),Al(o,o.current,s,n),Ul=c,sd(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot==`function`)try{Ee.onPostCommitFiberRoot(Te,o)}catch{}return!0}finally{I.p=a,F.T=r,Wu(e,t)}}function qu(e,t,n){t=ii(n,t),t=sc(e.stateNode,t,2),e=za(e,t,2),e!==null&&(Ve(e,2),od(e))}function Ju(e,t,n){if(e.tag===3)qu(e,e,n);else for(;t!==null;){if(t.tag===3){qu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(du===null||!du.has(r))){e=ii(n,e),n=cc(2),r=za(t,n,2),r!==null&&(lc(n,r,t,e),Ve(r,2),od(r));break}}t=t.return}}function Yu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Hl;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Zl=!0,i.add(n),e=Xu.bind(null,e,t,n),t.then(e,e))}function Xu(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Wl===e&&(Kl&n)===n&&($l===4||$l===3&&(Kl&62914560)===Kl&&300>z()-cu?!(Ul&2)&&W(e,0):nu|=n,iu===Kl&&(iu=0)),od(e)}function Zu(e,t){t===0&&(t=ze()),e=di(e,t),e!==null&&(Ve(e,t),od(e))}function Qu(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zu(e,n)}function $u(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Zu(e,n)}function ed(e,t){return me(e,t)}var td=null,nd=null,rd=!1,J=!1,id=!1,ad=0;function od(e){e!==nd&&e.next===null&&(nd===null?td=nd=e:nd=nd.next=e),J=!0,rd||(rd=!0,pd())}function sd(e,t){if(!id&&J){id=!0;do for(var n=!1,r=td;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Oe(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,fd(r,a))}else a=Kl,a=Fe(r,r===Wl?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Ie(r,a)||(n=!0,fd(r,a));r=r.next}while(n);id=!1}}function cd(){ld()}function ld(){J=rd=!1;var e=0;ad!==0&&(Xd()&&(e=ad),ad=0);for(var t=z(),n=null,r=td;r!==null;){var i=r.next,a=ud(r,t);a===0?(r.next=null,n===null?td=i:n.next=i,i===null&&(nd=n)):(n=r,(e!==0||a&3)&&(J=!0)),r=i}sd(e,!1)}function ud(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Oe(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=Le(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Wl,n=Kl,n=Fe(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(ql===2||ql===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&he(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Ie(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&he(r),Ke(n)){case 2:case 8:n=be;break;case 32:n=xe;break;case 268435456:n=Ce;break;default:n=xe}return r=dd.bind(null,e),n=me(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&he(r),e.callbackPriority=2,e.callbackNode=null,2}function dd(e,t){if(fu!==0&&fu!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Gu(!0)&&e.callbackNode!==n)return null;var r=Kl;return r=Fe(e,e===Wl?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(wu(e,r,t),ud(e,z()),e.callbackNode!=null&&e.callbackNode===n?dd.bind(null,e):null)}function fd(e,t){if(Gu())return null;wu(e,t,!0)}function pd(){ef(function(){Ul&6?me(ye,cd):ld()})}function md(){return ad===0&&(ad=Re()),ad}function hd(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:Yt(``+e)}function gd(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function _d(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=hd((i[Ze]||null).action),o=r.submitter;o&&(t=(t=o[Ze]||null)?hd(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new _n(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ad!==0){var e=o?gd(i,o):new FormData(i);hs(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?gd(i,o):new FormData(i),hs(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var vd=0;vd<ti.length;vd++){var yd=ti[vd],bd=yd.toLowerCase(),xd=yd[0].toUpperCase()+yd.slice(1);ni(bd,`on`+xd)}ni(qr,`onAnimationEnd`),ni(Jr,`onAnimationIteration`),ni(Yr,`onAnimationStart`),ni(`dblclick`,`onDoubleClick`),ni(`focusin`,`onFocus`),ni(`focusout`,`onBlur`),ni(Xr,`onTransitionRun`),ni(Zr,`onTransitionStart`),ni(Qr,`onTransitionCancel`),ni($r,`onTransitionEnd`),pt(`onMouseEnter`,[`mouseout`,`mouseover`]),pt(`onMouseLeave`,[`mouseout`,`mouseover`]),pt(`onPointerEnter`,[`pointerout`,`pointerover`]),pt(`onPointerLeave`,[`pointerout`,`pointerover`]),ft(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),ft(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),ft(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),ft(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),ft(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),ft(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var Sd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),Cd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(Sd));function wd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){tc(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){tc(e)}i.currentTarget=null,a=c}}}}function Td(e,t){var n=t[$e];n===void 0&&(n=t[$e]=new Set);var r=e+`__bubble`;n.has(r)||(Od(t,e,2,!1),n.add(r))}function Y(e,t,n){var r=0;t&&(r|=4),Od(n,e,r,t)}var Ed=`_reactListening`+Math.random().toString(36).slice(2);function Dd(e){if(!e[Ed]){e[Ed]=!0,ut.forEach(function(t){t!==`selectionchange`&&(Cd.has(t)||Y(t,!1,e),Y(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ed]||(t[Ed]=!0,Y(`selectionchange`,!1,t))}}function Od(e,t,n,r){switch(gp(t)){case 2:var i=up;break;case 8:i=dp;break;default:i=fp}n=i.bind(null,t,n,e),i=void 0,!on||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function kd(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=at(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}nn(function(){var r=a,i=Zt(n),s=[];a:{var c=ei.get(e);if(c!==void 0){var l=_n,u=e;switch(e){case`keypress`:if(fn(n)===0)break a;case`keydown`:case`keyup`:l=Vn;break;case`focusin`:u=`focus`,l=On;break;case`focusout`:u=`blur`,l=On;break;case`beforeblur`:case`afterblur`:l=On;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=wn;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=En;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=Gn;break;case qr:case Jr:case Yr:l=An;break;case $r:l=qn;break;case`scroll`:case`scrollend`:l=yn;break;case`wheel`:l=Yn;break;case`copy`:case`cut`:case`paste`:l=Mn;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=Un;break;case`toggle`:case`beforetoggle`:l=Zn}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=rn(m,p),g!=null&&d.push(Ad(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==Xt&&(u=n.relatedTarget||n.fromElement)&&(at(u)||u[Qe]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?at(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=wn,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=Un,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:st(l),h=u==null?c:st(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,at(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=l,p=u,m=0,h=d;h;h=Md(h))m++;for(h=0,g=p;g;g=Md(g))h++;for(;0<m-h;)d=Md(d),m--;for(;0<h-m;)p=Md(p),h--;for(;m--;){if(d===p||p!==null&&d===p.alternate)break b;d=Md(d),p=Md(p)}d=null}else d=null;l!==null&&Nd(s,c,l,d,!1),u!==null&&f!==null&&Nd(s,f,u,d,!0)}}a:{if(c=r?st(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var _=_r;else if(dr(c))if(vr)_=Dr;else{_=Tr;var v=wr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&Kt(r.elementType)&&(_=_r):_=Er;if(_&&=_(e,r)){fr(s,_,n,i);break a}v&&v(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Rt(c,`number`,c.value)}switch(v=r?st(r):window,e){case`focusin`:(dr(v)||v.contentEditable===`true`)&&(Lr=v,Rr=r,zr=null);break;case`focusout`:zr=Rr=Lr=null;break;case`mousedown`:Br=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:Br=!1,Vr(s,n,i);break;case`selectionchange`:if(Ir)break;case`keydown`:case`keyup`:Vr(s,n,i)}var y;if($n)b:{switch(e){case`compositionstart`:var b=`onCompositionStart`;break b;case`compositionend`:b=`onCompositionEnd`;break b;case`compositionupdate`:b=`onCompositionUpdate`;break b}b=void 0}else sr?ar(e,n)&&(b=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(b=`onCompositionStart`);b&&(nr&&n.locale!==`ko`&&(sr||b!==`onCompositionStart`?b===`onCompositionEnd`&&sr&&(y=dn()):(cn=i,ln=`value`in cn?cn.value:cn.textContent,sr=!0)),v=jd(r,b),0<v.length&&(b=new Pn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:(y=or(n),y!==null&&(b.data=y)))),(y=tr?cr(e,n):lr(e,n))&&(b=jd(r,`onBeforeInput`),0<b.length&&(v=new Pn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:v,listeners:b}),v.data=y)),_d(s,e,r,n,i)}wd(s,t)})}function Ad(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jd(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=rn(e,n),i!=null&&r.unshift(Ad(e,i,a)),i=rn(e,t),i!=null&&r.push(Ad(e,i,a))),e.tag===3)return r;e=e.return}return[]}function Md(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Nd(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=rn(n,a),l!=null&&o.unshift(Ad(n,l,c))):i||(l=rn(n,a),l!=null&&o.push(Ad(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Pd=/\r\n?/g,Fd=/\u0000|\uFFFD/g;function Id(e){return(typeof e==`string`?e:``+e).replace(Pd,`
`).replace(Fd,``)}function Ld(e,t){return t=Id(t),Id(e)===t}function Rd(){}function zd(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||Ht(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&Ht(e,``+r);break;case`className`:yt(e,`class`,r);break;case`tabIndex`:yt(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:yt(e,n,r);break;case`style`:Gt(e,r,o);break;case`data`:if(t!==`object`){yt(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Yt(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&zd(e,t,`name`,a.name,a,null),zd(e,t,`formEncType`,a.formEncType,a,null),zd(e,t,`formMethod`,a.formMethod,a,null),zd(e,t,`formTarget`,a.formTarget,a,null)):(zd(e,t,`encType`,a.encType,a,null),zd(e,t,`method`,a.method,a,null),zd(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Yt(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=Rd);break;case`onScroll`:r!=null&&Td(`scroll`,e);break;case`onScrollEnd`:r!=null&&Td(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=Yt(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:Td(`beforetoggle`,e),Td(`toggle`,e),vt(e,`popover`,r);break;case`xlinkActuate`:bt(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:bt(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:bt(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:bt(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:bt(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:bt(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:bt(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:bt(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:bt(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:vt(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=qt.get(n)||n,vt(e,n,r))}}function Bd(e,t,n,r,a,o){switch(n){case`style`:Gt(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?Ht(e,r):(typeof r==`number`||typeof r==`bigint`)&&Ht(e,``+r);break;case`onScroll`:r!=null&&Td(`scroll`,e);break;case`onScrollEnd`:r!=null&&Td(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=Rd);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!dt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[Ze]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):vt(e,n,r)}}}function Vd(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:Td(`error`,e),Td(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:zd(e,t,o,s,n,null)}}a&&zd(e,t,`srcSet`,n.srcSet,n,null),r&&zd(e,t,`src`,n.src,n,null);return;case`input`:Td(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:zd(e,t,r,d,n,null)}}Lt(e,o,c,l,u,s,a,!1),jt(e);return;case`select`:for(a in Td(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:zd(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&zt(e,!!r,n,!0):zt(e,!!r,t,!1);return;case`textarea`:for(s in Td(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:zd(e,t,s,c,n,null)}Vt(e,r,a,o),jt(e);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:zd(e,t,l,r,n,null)}return;case`dialog`:Td(`beforetoggle`,e),Td(`toggle`,e),Td(`cancel`,e),Td(`close`,e);break;case`iframe`:case`object`:Td(`load`,e);break;case`video`:case`audio`:for(r=0;r<Sd.length;r++)Td(Sd[r],e);break;case`image`:Td(`error`,e),Td(`load`,e);break;case`details`:Td(`toggle`,e);break;case`embed`:case`source`:case`link`:Td(`error`,e),Td(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:zd(e,t,u,r,n,null)}return;default:if(Kt(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Bd(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&zd(e,t,c,r,n,null))}function Hd(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||zd(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&zd(e,t,p,m,r,f)}}It(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||zd(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&zd(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?zt(e,!!n,n?[]:``,!1):zt(e,!!n,t,!0)):zt(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:zd(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&zd(e,t,s,a,r,o)}Bt(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:zd(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:zd(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&zd(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:zd(e,t,u,p,r,m)}return;default:if(Kt(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Bd(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Bd(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&zd(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||zd(e,t,f,p,r,m)}var Ud=null,Wd=null;function Gd(e){return e.nodeType===9?e:e.ownerDocument}function Kd(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function qd(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Jd(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yd=null;function Xd(){var e=window.event;return e&&e.type===`popstate`?e===Yd?!1:(Yd=e,!0):(Yd=null,!1)}var Zd=typeof setTimeout==`function`?setTimeout:void 0,Qd=typeof clearTimeout==`function`?clearTimeout:void 0,$d=typeof Promise==`function`?Promise:void 0,ef=typeof queueMicrotask==`function`?queueMicrotask:$d===void 0?Zd:function(e){return $d.resolve(null).then(e).catch(tf)};function tf(e){setTimeout(function(){throw e})}function nf(e){return e===`head`}function rf(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n===`/$`){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(n&1&&hf(o.documentElement),n&2&&hf(o.body),n&4)for(n=o.head,hf(n),o=n.firstChild;o;){var s=o.nextSibling,c=o.nodeName;o[rt]||c===`SCRIPT`||c===`STYLE`||c===`LINK`&&o.rel.toLowerCase()===`stylesheet`||n.removeChild(o),o=s}}if(i===0){e.removeChild(a),Fp(t);return}i--}else n===`$`||n===`$?`||n===`$!`?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Fp(t)}function af(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:af(n),it(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function sf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[rt])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=df(e.nextSibling),e===null)break}return null}function cf(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=df(e.nextSibling),e===null))return null;return e}function lf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState===`complete`}function uf(e,t){var n=e.ownerDocument;if(e.data!==`$?`||n.readyState===`complete`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function df(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`F!`||t===`F`)break;if(t===`/$`)return null}}return e}var ff=null;function pf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`){if(t===0)return e;t--}else n===`/$`&&t++}e=e.previousSibling}return null}function mf(e,t,n){switch(t=Gd(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function hf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);it(e)}var gf=new Map,_f=new Set;function vf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yf=I.d;I.d={f:bf,r:xf,D:wf,C:Tf,L:Ef,m:Df,X:kf,S:Of,M:Af};function bf(){var e=yf.f(),t=Ou();return e||t}function xf(e){var t=ot(e);t!==null&&t.tag===5&&t.type===`form`?_s(t):yf.r(e)}var Sf=typeof document>`u`?null:document;function Cf(e,t,n){var r=Sf;if(r&&typeof t==`string`&&t){var i=Ft(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),_f.has(i)||(_f.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Vd(t,`link`,e),lt(t),r.head.appendChild(t)))}}function wf(e){yf.D(e),Cf(`dns-prefetch`,e,null)}function Tf(e,t){yf.C(e,t),Cf(`preconnect`,e,t)}function Ef(e,t,n){yf.L(e,t,n);var r=Sf;if(r&&e&&t){var i=`link[rel="preload"][as="`+Ft(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Ft(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Ft(n.imageSizes)+`"]`)):i+=`[href="`+Ft(e)+`"]`;var a=i;switch(t){case`style`:a=Mf(e);break;case`script`:a=If(e)}gf.has(a)||(e=d({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),gf.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(Nf(a))||t===`script`&&r.querySelector(Lf(a))||(t=r.createElement(`link`),Vd(t,`link`,e),lt(t),r.head.appendChild(t)))}}function Df(e,t){yf.m(e,t);var n=Sf;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Ft(r)+`"][href="`+Ft(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=If(e)}if(!gf.has(a)&&(e=d({rel:`modulepreload`,href:e},t),gf.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Lf(a)))return}r=n.createElement(`link`),Vd(r,`link`,e),lt(r),n.head.appendChild(r)}}}function Of(e,t,n){yf.S(e,t,n);var r=Sf;if(r&&e){var i=ct(r).hoistableStyles,a=Mf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Nf(a)))s.loading=5;else{e=d({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=gf.get(a))&&Bf(e,n);var c=o=r.createElement(`link`);lt(c),Vd(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,zf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function kf(e,t){yf.X(e,t);var n=Sf;if(n&&e){var r=ct(n).hoistableScripts,i=If(e),a=r.get(i);a||(a=n.querySelector(Lf(i)),a||(e=d({src:e,async:!0},t),(t=gf.get(i))&&Vf(e,t),a=n.createElement(`script`),lt(a),Vd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Af(e,t){yf.M(e,t);var n=Sf;if(n&&e){var r=ct(n).hoistableScripts,i=If(e),a=r.get(i);a||(a=n.querySelector(Lf(i)),a||(e=d({src:e,async:!0,type:`module`},t),(t=gf.get(i))&&Vf(e,t),a=n.createElement(`script`),lt(a),Vd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function jf(e,t,n,r){var a=(a=se.current)?vf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Mf(n.href),n=ct(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Mf(n.href);var o=ct(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Nf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),gf.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},gf.set(e,n),o||Ff(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=If(n),n=ct(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Mf(e){return`href="`+Ft(e)+`"`}function Nf(e){return`link[rel="stylesheet"][`+e+`]`}function Pf(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Ff(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Vd(t,`link`,n),lt(t),e.head.appendChild(t))}function If(e){return`[src="`+Ft(e)+`"]`}function Lf(e){return`script[async]`+e}function Rf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Ft(n.href)+`"]`);if(r)return t.instance=r,lt(r),r;var a=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),lt(r),Vd(r,`style`,a),zf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Mf(n.href);var o=e.querySelector(Nf(a));if(o)return t.state.loading|=4,t.instance=o,lt(o),o;r=Pf(n),(a=gf.get(a))&&Bf(r,a),o=(e.ownerDocument||e).createElement(`link`),lt(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Vd(o,`link`,r),t.state.loading|=4,zf(o,n.precedence,e),t.instance=o;case`script`:return o=If(n.src),(a=e.querySelector(Lf(o)))?(t.instance=a,lt(a),a):(r=n,(a=gf.get(o))&&(r=d({},n),Vf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),lt(a),Vd(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,zf(r,n.precedence,e));return t.instance}function zf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Bf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function Vf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var Hf=null;function Uf(e,t,n){if(Hf===null){var r=new Map,i=Hf=new Map;i.set(n,r)}else i=Hf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[rt]||a[Xe]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Wf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function Gf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function Kf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}var qf=null;function Jf(){}function Yf(e,t,n){if(qf===null)throw Error(i(475));var r=qf;if(t.type===`stylesheet`&&(typeof n.media!=`string`||!1!==matchMedia(n.media).matches)&&!(t.state.loading&4)){if(t.instance===null){var a=Mf(n.href),o=e.querySelector(Nf(a));if(o){e=o._p,typeof e==`object`&&e&&typeof e.then==`function`&&(r.count++,r=Zf.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,lt(o);return}o=e.ownerDocument||e,n=Pf(n),(a=gf.get(a))&&Bf(n,a),o=o.createElement(`link`),lt(o);var s=o;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Vd(o,`link`,n),t.instance=o}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=Zf.bind(r),e.addEventListener(`load`,t),e.addEventListener(`error`,t))}}function Xf(){if(qf===null)throw Error(i(475));var e=qf;return e.stylesheets&&e.count===0&&$f(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&$f(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Zf(){if(this.count--,this.count===0){if(this.stylesheets)$f(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qf=null;function $f(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qf=new Map,t.forEach(ep,e),Qf=null,Zf.call(e))}function ep(e,t){if(!(t.state.loading&4)){var n=Qf.get(e);if(n)var r=n.get(null);else{n=new Map,Qf.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Zf.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var tp={$$typeof:C,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function np(e,t,n,r,i,a,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Be(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Be(0),this.hiddenUpdates=Be(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function rp(e,t,n,r,i,a,o,s,c,l,u,d){return e=new np(e,t,n,o,s,c,l,d),t=1,!0===a&&(t|=24),a=gi(3,null,null,t),e.current=a,a.stateNode=e,t=pa(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Ia(a),e}function ip(e){return e?(e=mi,e):mi}function ap(e,t,n,r,i,a){i=ip(i),r.context===null?r.context=i:r.pendingContext=i,r=Ra(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=za(e,r,t),n!==null&&(Cu(n,e,t),Ba(n,e,t))}function op(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sp(e,t){op(e,t),(e=e.alternate)&&op(e,t)}function cp(e){if(e.tag===13){var t=di(e,67108864);t!==null&&Cu(t,e,67108864),sp(e,67108864)}}var lp=!0;function up(e,t,n,r){var i=F.T;F.T=null;var a=I.p;try{I.p=2,fp(e,t,n,r)}finally{I.p=a,F.T=i}}function dp(e,t,n,r){var i=F.T;F.T=null;var a=I.p;try{I.p=8,fp(e,t,n,r)}finally{I.p=a,F.T=i}}function fp(e,t,n,r){if(lp){var i=pp(r);if(i===null)kd(e,t,r,mp,n),Tp(e,r);else if(Dp(i,e,t,n,r))r.stopPropagation();else if(Tp(e,r),t&4&&-1<wp.indexOf(e)){for(;i!==null;){var a=ot(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=Pe(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Oe(o);s.entanglements[1]|=c,o&=~c}od(a),!(Ul&6)&&(lu=z()+500,sd(0,!1))}}break;case 13:s=di(a,2),s!==null&&Cu(s,a,2),Ou(),sp(a,2)}if(a=pp(r),a===null&&kd(e,t,r,mp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else kd(e,t,r,null,n)}}function pp(e){return e=Zt(e),hp(e)}var mp=null;function hp(e){if(mp=null,e=at(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return mp=e,null}function gp(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(ve()){case ye:return 2;case be:return 8;case xe:case Se:return 32;case Ce:return 268435456;default:return 32}default:return 32}}var _p=!1,vp=null,yp=null,bp=null,xp=new Map,Sp=new Map,Cp=[],wp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Tp(e,t){switch(e){case`focusin`:case`focusout`:vp=null;break;case`dragenter`:case`dragleave`:yp=null;break;case`mouseover`:case`mouseout`:bp=null;break;case`pointerover`:case`pointerout`:xp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:Sp.delete(t.pointerId)}}function Ep(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ot(t),t!==null&&cp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Dp(e,t,n,r,i){switch(t){case`focusin`:return vp=Ep(vp,e,t,n,r,i),!0;case`dragenter`:return yp=Ep(yp,e,t,n,r,i),!0;case`mouseover`:return bp=Ep(bp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return xp.set(a,Ep(xp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,Sp.set(a,Ep(Sp.get(a)||null,e,t,n,r,i)),!0}return!1}function Op(e){var t=at(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,Je(e.priority,function(){if(n.tag===13){var e=xu();e=Ge(e);var t=di(n,e);t!==null&&Cu(t,n,e),sp(n,e)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xt=r,n.target.dispatchEvent(r),Xt=null}else return t=ot(n),t!==null&&cp(t),e.blockedOn=n,!1;t.shift()}return!0}function Ap(e,t,n){kp(e)&&n.delete(t)}function jp(){_p=!1,vp!==null&&kp(vp)&&(vp=null),yp!==null&&kp(yp)&&(yp=null),bp!==null&&kp(bp)&&(bp=null),xp.forEach(Ap),Sp.forEach(Ap)}function Mp(e,n){e.blockedOn===n&&(e.blockedOn=null,_p||(_p=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jp)))}var Np=null;function Pp(e){Np!==e&&(Np=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Np===e&&(Np=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(hp(r||n)===null)continue;break}var a=ot(n);a!==null&&(e.splice(t,3),t-=3,hs(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Fp(e){function t(t){return Mp(t,e)}vp!==null&&Mp(vp,e),yp!==null&&Mp(yp,e),bp!==null&&Mp(bp,e),xp.forEach(t),Sp.forEach(t);for(var n=0;n<Cp.length;n++){var r=Cp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Cp.length&&(n=Cp[0],n.blockedOn===null);)Op(n),n.blockedOn===null&&Cp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[Ze]||null;if(typeof a==`function`)o||Pp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[Ze]||null)s=o.formAction;else if(hp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Pp(n)}}}function Ip(e){this._internalRoot=e}Lp.prototype.render=Ip.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,r=xu();ap(n,r,e,t,null,null)},Lp.prototype.unmount=Ip.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ap(e.current,2,null,e,null,null),Ou(),t[Qe]=null}};function Lp(e){this._internalRoot=e}Lp.prototype.unstable_scheduleHydration=function(e){if(e){var t=qe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Cp.length&&t!==0&&t<Cp[n].priority;n++);Cp.splice(n,0,e),n===0&&Op(e)}};var Rp=n.version;if(Rp!==`19.1.1`)throw Error(i(527,Rp,`19.1.1`));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=l(t),e=e===null?null:u(e),e=e===null?null:e.stateNode,e};var zp={bundleType:0,version:`19.1.1`,rendererPackageName:`react-dom`,currentDispatcherRef:F,reconcilerVersion:`19.1.1`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{Te=Bp.inject(zp),Ee=Bp}catch{}}exports.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=nc,s=rc,c=ic,l=null;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=rp(e,1,!1,null,null,n,r,o,s,c,l,null),e[Qe]=t.current,Dd(e),new Ip(t)}})),y=u(s(((exports,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=v()}))()),b=u(p(),1),x=`modulepreload`,S=function(e){return`/fremio/`+e},C={};const w=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=S(t,n),t in C)return;C[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:x,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[]){if(e.status!==`rejected`)continue;i(e.reason)}return e().catch(i)})};var T=`popstate`;function E(e={}){function t(e,t){let{pathname:n,search:r,hash:i}=e.location;return j(``,{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||`default`)}function n(e,t){return typeof t==`string`?t:M(t)}return ee(t,n,null,e)}function D(e,t){if(e===!1||e==null)throw Error(t)}function O(e,t){if(!e){typeof console<`u`&&console.warn(t);try{throw Error(t)}catch{}}}function k(){return Math.random().toString(36).substring(2,10)}function A(e,t){return{usr:e.state,key:e.key,idx:t}}function j(e,t,n=null,r){return{pathname:typeof e==`string`?e:e.pathname,search:``,hash:``,...typeof t==`string`?N(t):t,state:n,key:t&&t.key||r||k()}}function M({pathname:e=`/`,search:t=``,hash:n=``}){return t&&t!==`?`&&(e+=t.charAt(0)===`?`?t:`?`+t),n&&n!==`#`&&(e+=n.charAt(0)===`#`?n:`#`+n),e}function N(e){let t={};if(e){let n=e.indexOf(`#`);n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf(`?`);r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function ee(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=`POP`,c=null,l=u();l??(l=0,o.replaceState({...o.state,idx:l},``));function u(){return(o.state||{idx:null}).idx}function d(){s=`POP`;let e=u(),t=e==null?null:e-l;l=e,c&&c({action:s,location:h.location,delta:t})}function f(e,t){s=`PUSH`;let r=j(h.location,e,t);n&&n(r,e),l=u()+1;let d=A(r,l),f=h.createHref(r);try{o.pushState(d,``,f)}catch(e){if(e instanceof DOMException&&e.name===`DataCloneError`)throw e;i.location.assign(f)}a&&c&&c({action:s,location:h.location,delta:1})}function p(e,t){s=`REPLACE`;let r=j(h.location,e,t);n&&n(r,e),l=u();let i=A(r,l),d=h.createHref(r);o.replaceState(i,``,d),a&&c&&c({action:s,location:h.location,delta:0})}function m(e){return P(e)}let h={get action(){return s},get location(){return e(i,o)},listen(e){if(c)throw Error(`A history only accepts one active listener`);return i.addEventListener(T,d),c=e,()=>{i.removeEventListener(T,d),c=null}},createHref(e){return t(i,e)},createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:f,replace:p,go(e){return o.go(e)}};return h}function P(e,t=!1){let n=`http://localhost`;typeof window<`u`&&(n=window.location.origin===`null`?window.location.href:window.location.origin),D(n,`No window.location.(origin|href) available to create URL`);let r=typeof e==`string`?e:M(e);return r=r.replace(/ $/,`%20`),!t&&r.startsWith(`//`)&&(r=n+r),new URL(r,n)}function F(e,t,n=`/`){return I(e,t,n,!1)}function I(e,t,n,r){let i=typeof t==`string`?N(t):t,a=ge(i.pathname||`/`,n);if(a==null)return null;let o=ne(e);ie(o);let s=null;for(let e=0;s==null&&e<o.length;++e){let t=he(a);s=fe(o[e],t,r)}return s}function te(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function ne(e,t=[],n=[],r=``,i=!1){let a=(e,a,o=i,s)=>{let c={relativePath:s===void 0?e.path||``:s,caseSensitive:e.caseSensitive===!0,childrenIndex:a,route:e};if(c.relativePath.startsWith(`/`)){if(!c.relativePath.startsWith(r)&&o)return;D(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let l=Se([r,c.relativePath]),u=n.concat(c);e.children&&e.children.length>0&&(D(e.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),ne(e.children,t,u,l,o)),!(e.path==null&&!e.index)&&t.push({path:l,score:ue(l,e.index),routesMeta:u})};return e.forEach((e,t)=>{if(e.path===``||!e.path?.includes(`?`))a(e,t);else for(let n of re(e.path))a(e,t,!0,n)}),t}function re(e){let t=e.split(`/`);if(t.length===0)return[];let[n,...r]=t,i=n.endsWith(`?`),a=n.replace(/\?$/,``);if(r.length===0)return i?[a,``]:[a];let o=re(r.join(`/`)),s=[];return s.push(...o.map(e=>e===``?a:[a,e].join(`/`))),i&&s.push(...o),s.map(t=>e.startsWith(`/`)&&t===``?`/`:t)}function ie(e){e.sort((e,t)=>e.score===t.score?de(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)):t.score-e.score)}var L=/^:[\w-]+$/,R=3,ae=2,oe=1,se=10,ce=-2,le=e=>e===`*`;function ue(e,t){let n=e.split(`/`),r=n.length;return n.some(le)&&(r+=ce),t&&(r+=ae),n.filter(e=>!le(e)).reduce((e,t)=>e+(L.test(t)?R:t===``?oe:se),r)}function de(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}function fe(e,t,n=!1){let{routesMeta:r}=e,i={},a=`/`,o=[];for(let e=0;e<r.length;++e){let s=r[e],c=e===r.length-1,l=a===`/`?t:t.slice(a.length)||`/`,u=pe({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},l),d=s.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=pe({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Se([a,u.pathname]),pathnameBase:Ce(Se([a,u.pathnameBase])),route:d}),u.pathnameBase!==`/`&&(a=Se([a,u.pathnameBase]))}return o}function pe(e,t){typeof e==`string`&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=me(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,`$1`),s=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if(t===`*`){let e=s[r]||``;o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,`$1`)}let i=s[r];return n&&!i?e[t]=void 0:e[t]=(i||``).replace(/%2F/g,`/`),e},{}),pathname:a,pathnameBase:o,pattern:e}}function me(e,t=!1,n=!0){O(e===`*`||!e.endsWith(`*`)||e.endsWith(`/*`),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,`/*`)}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,`/*`)}".`);let r=[],i=`^`+e.replace(/\/*\*?$/,``).replace(/^\/*/,`/`).replace(/[\\.*+^${}|()[\]]/g,`\\$&`).replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:n!=null}),n?`/?([^\\/]+)?`:`/([^\\/]+)`)).replace(/\/([\w-]+)\?(\/|$)/g,`(/$1)?$2`);return e.endsWith(`*`)?(r.push({paramName:`*`}),i+=e===`*`||e===`/*`?`(.*)$`:`(?:\\/(.+)|\\/*)$`):n?i+=`\\/*$`:e!==``&&e!==`/`&&(i+=`(?:(?=\\/|$))`),[new RegExp(i,t?void 0:`i`),r]}function he(e){try{return e.split(`/`).map(e=>decodeURIComponent(e).replace(/\//g,`%2F`)).join(`/`)}catch(t){return O(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ge(e,t){if(t===`/`)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith(`/`)?t.length-1:t.length,r=e.charAt(n);return r&&r!==`/`?null:e.slice(n)||`/`}function _e(e,t=`/`){let{pathname:n,search:r=``,hash:i=``}=typeof e==`string`?N(e):e;return{pathname:n?n.startsWith(`/`)?n:z(n,t):t,search:we(r),hash:B(i)}}function z(e,t){let n=t.replace(/\/+$/,``).split(`/`);return e.split(`/`).forEach(e=>{e===`..`?n.length>1&&n.pop():e!==`.`&&n.push(e)}),n.length>1?n.join(`/`):`/`}function ve(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ye(e){return e.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function be(e){let t=ye(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function xe(e,t,n,r=!1){let i;typeof e==`string`?i=N(e):(i={...e},D(!i.pathname||!i.pathname.includes(`?`),ve(`?`,`pathname`,`search`,i)),D(!i.pathname||!i.pathname.includes(`#`),ve(`#`,`pathname`,`hash`,i)),D(!i.search||!i.search.includes(`#`),ve(`#`,`search`,`hash`,i)));let a=e===``||i.pathname===``,o=a?`/`:i.pathname,s;if(o==null)s=n;else{let e=t.length-1;if(!r&&o.startsWith(`..`)){let t=o.split(`/`);for(;t[0]===`..`;)t.shift(),--e;i.pathname=t.join(`/`)}s=e>=0?t[e]:`/`}let c=_e(i,s),l=o&&o!==`/`&&o.endsWith(`/`),u=(a||o===`.`)&&n.endsWith(`/`);return!c.pathname.endsWith(`/`)&&(l||u)&&(c.pathname+=`/`),c}var Se=e=>e.join(`/`).replace(/\/\/+/g,`/`),Ce=e=>e.replace(/\/+$/,``).replace(/^\/*/,`/`),we=e=>!e||e===`?`?``:e.startsWith(`?`)?e:`?`+e,B=e=>!e||e===`#`?``:e.startsWith(`#`)?e:`#`+e;function Te(e){return e!=null&&typeof e.status==`number`&&typeof e.statusText==`string`&&typeof e.internal==`boolean`&&`data`in e}var Ee=b.createContext(null);Ee.displayName=`DataRouter`;var De=b.createContext(null);De.displayName=`DataRouterState`,b.createContext(!1);var Oe=b.createContext({isTransitioning:!1});Oe.displayName=`ViewTransition`;var ke=b.createContext(new Map);ke.displayName=`Fetchers`;var Ae=b.createContext(null);Ae.displayName=`Await`;var je=b.createContext(null);je.displayName=`Navigation`;var Me=b.createContext(null);Me.displayName=`Location`;var Ne=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ne.displayName=`Route`;var Pe=b.createContext(null);Pe.displayName=`RouteError`;function Fe(e,{relative:t}={}){D(Ie(),`useHref() may be used only in the context of a <Router> component.`);let{basename:n,navigator:r}=b.useContext(je),{hash:i,pathname:a,search:o}=We(e,{relative:t}),s=a;return n!==`/`&&(s=a===`/`?n:Se([n,a])),r.createHref({pathname:s,search:o,hash:i})}function Ie(){return b.useContext(Me)!=null}function Le(){return D(Ie(),`useLocation() may be used only in the context of a <Router> component.`),b.useContext(Me).location}var Re=`You should call navigate() in a React.useEffect(), not when your component is first rendered.`;function ze(e){b.useContext(je).static||b.useLayoutEffect(e)}function Be(){let{isDataRoute:e}=b.useContext(Ne);return e?st():Ve()}function Ve(){D(Ie(),`useNavigate() may be used only in the context of a <Router> component.`);let e=b.useContext(Ee),{basename:t,navigator:n}=b.useContext(je),{matches:r}=b.useContext(Ne),{pathname:i}=Le(),a=JSON.stringify(be(r)),o=b.useRef(!1);return ze(()=>{o.current=!0}),b.useCallback((r,s={})=>{if(O(o.current,Re),!o.current)return;if(typeof r==`number`){n.go(r);return}let c=xe(r,JSON.parse(a),i,s.relative===`path`);e==null&&t!==`/`&&(c.pathname=c.pathname===`/`?t:Se([t,c.pathname])),(s.replace?n.replace:n.push)(c,s.state,s)},[t,n,a,i,e])}var He=b.createContext(null);function Ue(e){let t=b.useContext(Ne).outlet;return b.useMemo(()=>t&&b.createElement(He.Provider,{value:e},t),[t,e])}function We(e,{relative:t}={}){let{matches:n}=b.useContext(Ne),{pathname:r}=Le(),i=JSON.stringify(be(n));return b.useMemo(()=>xe(e,JSON.parse(i),r,t===`path`),[e,i,r,t])}function Ge(e,t){return Ke(e,t)}function Ke(e,t,n,r,i){D(Ie(),`useRoutes() may be used only in the context of a <Router> component.`);let{navigator:a}=b.useContext(je),{matches:o}=b.useContext(Ne),s=o[o.length-1],c=s?s.params:{},l=s?s.pathname:`/`,u=s?s.pathnameBase:`/`,d=s&&s.route;{let e=d&&d.path||``;lt(l,!d||e.endsWith(`*`)||e.endsWith(`*?`),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${e}"> to <Route path="${e===`/`?`*`:`${e}/*`}">.`)}let f=Le(),p;if(t){let e=typeof t==`string`?N(t):t;D(u===`/`||e.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=f;let m=p.pathname||`/`,h=m;if(u!==`/`){let e=u.replace(/^\//,``).split(`/`);h=`/`+m.replace(/^\//,``).split(`/`).slice(e.length).join(`/`)}let g=F(e,{pathname:h});O(d||g!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),O(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=Ze(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Se([u,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathname]),pathnameBase:e.pathnameBase===`/`?u:Se([u,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathnameBase])})),o,n,r,i);return t&&_?b.createElement(Me.Provider,{value:{location:{pathname:`/`,search:``,hash:``,state:null,key:`default`,...p},navigationType:`POP`}},_):_}function qe(){let e=ot(),t=Te(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r=`rgba(200,200,200, 0.5)`,i={padding:`0.5rem`,backgroundColor:r},a={padding:`2px 4px`,backgroundColor:r},o=null;return console.error(`Error handled by React Router default ErrorBoundary:`,e),o=b.createElement(b.Fragment,null,b.createElement(`p`,null,` Hey developer `),b.createElement(`p`,null,`You can provide a way better UX than this when your app throws errors by providing your own `,b.createElement(`code`,{style:a},`ErrorBoundary`),` or`,` `,b.createElement(`code`,{style:a},`errorElement`),` prop on your route.`)),b.createElement(b.Fragment,null,b.createElement(`h2`,null,`Unexpected Application Error!`),b.createElement(`h3`,{style:{fontStyle:`italic`}},t),n?b.createElement(`pre`,{style:i},n):null,o)}var Je=b.createElement(qe,null),Ye=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!==`idle`&&e.revalidation===`idle`?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error===void 0?t.error:e.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error(`React Router caught the following error during render`,e)}render(){return this.state.error===void 0?this.props.children:b.createElement(Ne.Provider,{value:this.props.routeContext},b.createElement(Pe.Provider,{value:this.state.error,children:this.props.component}))}};function Xe({routeContext:e,match:t,children:n}){let r=b.useContext(Ee);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Ne.Provider,{value:e},n)}function Ze(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let e=a.findIndex(e=>e.route.id&&o?.[e.route.id]!==void 0);D(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(`,`)}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,c=-1;if(n)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||r[t.route.id]===void 0);if(t.route.lazy||i){s=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight((e,i,l)=>{let u,d=!1,f=null,p=null;n&&(u=o&&i.route.id?o[i.route.id]:void 0,f=i.route.errorElement||Je,s&&(c<0&&l===0?(lt(`route-fallback`,!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):c===l&&(d=!0,p=i.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,l+1)),h=()=>{let t;return t=u?f:d?p:i.route.Component?b.createElement(i.route.Component,null):i.route.element?i.route.element:e,b.createElement(Xe,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:n!=null},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||l===0)?b.createElement(Ye,{location:n.location,revalidation:n.revalidation,component:f,error:u,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:r}):h()},null)}function Qe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $e(e){let t=b.useContext(Ee);return D(t,Qe(e)),t}function et(e){let t=b.useContext(De);return D(t,Qe(e)),t}function tt(e){let t=b.useContext(Ne);return D(t,Qe(e)),t}function nt(e){let t=tt(e),n=t.matches[t.matches.length-1];return D(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function rt(){return nt(`useRouteId`)}function it(){return et(`useNavigation`).navigation}function at(){let{matches:e,loaderData:t}=et(`useMatches`);return b.useMemo(()=>e.map(e=>te(e,t)),[e,t])}function ot(){let e=b.useContext(Pe),t=et(`useRouteError`),n=nt(`useRouteError`);return e===void 0?t.errors?.[n]:e}function st(){let{router:e}=$e(`useNavigate`),t=nt(`useNavigate`),n=b.useRef(!1);return ze(()=>{n.current=!0}),b.useCallback(async(r,i={})=>{O(n.current,Re),n.current&&(typeof r==`number`?e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var ct={};function lt(e,t,n){!t&&!ct[e]&&(ct[e]=!0,O(!1,n))}b.memo(ut);function ut({routes:e,future:t,state:n,unstable_onError:r}){return Ke(e,void 0,n,r,t)}function dt({to:e,replace:t,state:n,relative:r}){D(Ie(),`<Navigate> may be used only in the context of a <Router> component.`);let{static:i}=b.useContext(je);O(!i,`<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.`);let{matches:a}=b.useContext(Ne),{pathname:o}=Le(),s=Be(),c=xe(e,be(a),o,r===`path`),l=JSON.stringify(c);return b.useEffect(()=>{s(JSON.parse(l),{replace:t,state:n,relative:r})},[s,l,r,t,n]),null}function ft(e){return Ue(e.context)}function pt(e){D(!1,`A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`)}function mt({basename:e=`/`,children:t=null,location:n,navigationType:r=`POP`,navigator:i,static:a=!1}){D(!Ie(),`You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`);let o=e.replace(/^\/*/,`/`),s=b.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n==`string`&&(n=N(n));let{pathname:c=`/`,search:l=``,hash:u=``,state:d=null,key:f=`default`}=n,p=b.useMemo(()=>{let e=ge(c,o);return e==null?null:{location:{pathname:e,search:l,hash:u,state:d,key:f},navigationType:r}},[o,c,l,u,d,f,r]);return O(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${l}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:b.createElement(je.Provider,{value:s},b.createElement(Me.Provider,{children:t,value:p}))}function ht({children:e,location:t}){return Ge(gt(e),t)}function gt(e,t=[]){let n=[];return b.Children.forEach(e,(e,r)=>{if(!b.isValidElement(e))return;let i=[...t,r];if(e.type===b.Fragment){n.push.apply(n,gt(e.props.children,i));return}D(e.type===pt,`[${typeof e.type==`string`?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),D(!e.props.index||!e.props.children,`An index route cannot have child routes.`);let a={id:e.props.id||i.join(`-`),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:e.props.hasErrorBoundary===!0||e.props.ErrorBoundary!=null||e.props.errorElement!=null,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=gt(e.props.children,i)),n.push(a)}),n}var _t=`get`,vt=`application/x-www-form-urlencoded`;function yt(e){return e!=null&&typeof e.tagName==`string`}function bt(e){return yt(e)&&e.tagName.toLowerCase()===`button`}function xt(e){return yt(e)&&e.tagName.toLowerCase()===`form`}function St(e){return yt(e)&&e.tagName.toLowerCase()===`input`}function Ct(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wt(e,t){return e.button===0&&(!t||t===`_self`)&&!Ct(e)}var Tt=null;function Et(){if(Tt===null)try{new FormData(document.createElement(`form`),0),Tt=!1}catch{Tt=!0}return Tt}var Dt=new Set([`application/x-www-form-urlencoded`,`multipart/form-data`,`text/plain`]);function Ot(e){return e!=null&&!Dt.has(e)?(O(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vt}"`),null):e}function kt(e,t){let n,r,i,a,o;if(xt(e)){let o=e.getAttribute(`action`);r=o?ge(o,t):null,n=e.getAttribute(`method`)||_t,i=Ot(e.getAttribute(`enctype`))||vt,a=new FormData(e)}else if(bt(e)||St(e)&&(e.type===`submit`||e.type===`image`)){let o=e.form;if(o==null)throw Error(`Cannot submit a <button> or <input type="submit"> without a <form>`);let s=e.getAttribute(`formaction`)||o.getAttribute(`action`);if(r=s?ge(s,t):null,n=e.getAttribute(`formmethod`)||o.getAttribute(`method`)||_t,i=Ot(e.getAttribute(`formenctype`))||Ot(o.getAttribute(`enctype`))||vt,a=new FormData(o,e),!Et()){let{name:t,type:n,value:r}=e;if(n===`image`){let e=t?`${t}.`:``;a.append(`${e}x`,`0`),a.append(`${e}y`,`0`)}else t&&a.append(t,r)}}else if(yt(e))throw Error(`Cannot submit element that is not <form>, <button>, or <input type="submit|image">`);else n=_t,r=null,i=vt,o=e;return a&&i===`text/plain`&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);function At(e,t){if(e===!1||e==null)throw Error(t)}function jt(e,t,n){let r=typeof e==`string`?new URL(e,typeof window>`u`?`server://singlefetch/`:window.location.origin):e;return r.pathname===`/`?r.pathname=`_root.${n}`:t&&ge(r.pathname,t)===`/`?r.pathname=`${t.replace(/\/$/,``)}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,``)}.${n}`,r}async function Mt(e,t){if(e.id in t)return t[e.id];try{let n=await w(()=>import(e.module),[]);return t[e.id]=n,n}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Nt(e){return e!=null&&typeof e.page==`string`}function Pt(e){return e==null?!1:e.href==null?e.rel===`preload`&&typeof e.imageSrcSet==`string`&&typeof e.imageSizes==`string`:typeof e.rel==`string`&&typeof e.href==`string`}async function Ft(e,t,n){let r=await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Mt(r,n);return e.links?e.links():[]}return[]}));return Bt(r.flat(1).filter(Pt).filter(e=>e.rel===`stylesheet`||e.rel===`preload`).map(e=>e.rel===`stylesheet`?{...e,rel:`prefetch`,as:`style`}:{...e,rel:`prefetch`}))}function It(e,t,n,r,i,a){let o=(e,t)=>n[t]?e.route.id!==n[t].route.id:!0,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith(`*`)&&n[t].params[`*`]!==e.params[`*`];return a===`assets`?t.filter((e,t)=>o(e,t)||s(e,t)):a===`data`?t.filter((t,a)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if(typeof r==`boolean`)return r}return!0}):[]}function Lt(e,t,{includeHydrateFallback:n}={}){return Rt(e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function Rt(e){return[...new Set(e)]}function zt(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Bt(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Nt(i)&&i.as===`script`&&i.href&&r.has(i.href))return e;let a=JSON.stringify(zt(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function Vt(){let e=b.useContext(Ee);return At(e,`You must render this element inside a <DataRouterContext.Provider> element`),e}function Ht(){let e=b.useContext(De);return At(e,`You must render this element inside a <DataRouterStateContext.Provider> element`),e}var Ut=b.createContext(void 0);Ut.displayName=`FrameworkContext`;function Wt(){let e=b.useContext(Ut);return At(e,`You must render this element inside a <HydratedRouter> element`),e}function Gt(e,t){let n=b.useContext(Ut),[r,i]=b.useState(!1),[a,o]=b.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:d}=t,f=b.useRef(null);b.useEffect(()=>{if(e===`render`&&o(!0),e===`viewport`){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),b.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?e===`intent`?[a,f,{onFocus:Kt(s,p),onBlur:Kt(c,m),onMouseEnter:Kt(l,p),onMouseLeave:Kt(u,m),onTouchStart:Kt(d,p)}]:[a,f,{}]:[!1,f,{}]}function Kt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function qt({page:e,...t}){let{router:n}=Vt(),r=b.useMemo(()=>F(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(Yt,{page:e,matches:r,...t}):null}function Jt(e){let{manifest:t,routeModules:n}=Wt(),[r,i]=b.useState([]);return b.useEffect(()=>{let r=!1;return Ft(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}function Yt({page:e,matches:t,...n}){let r=Le(),{manifest:i,routeModules:a}=Wt(),{basename:o}=Vt(),{loaderData:s,matches:c}=Ht(),l=b.useMemo(()=>It(e,t,c,i,r,`data`),[e,t,c,i,r]),u=b.useMemo(()=>It(e,t,c,i,r,`assets`),[e,t,c,i,r]),d=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,c=!1;if(t.forEach(e=>{let t=i.routes[e.route.id];!t||!t.hasLoader||(!l.some(t=>t.route.id===e.route.id)&&e.route.id in s&&a[e.route.id]?.shouldRevalidate||t.hasClientLoader?c=!0:n.add(e.route.id))}),n.size===0)return[];let u=jt(e,o,`data`);return c&&n.size>0&&u.searchParams.set(`_routes`,t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(`,`)),[u.pathname+u.search]},[o,s,r,i,l,t,e,a]),f=b.useMemo(()=>Lt(u,i),[u,i]),p=Jt(u);return b.createElement(b.Fragment,null,d.map(e=>b.createElement(`link`,{key:e,rel:`prefetch`,as:`fetch`,href:e,...n})),f.map(e=>b.createElement(`link`,{key:e,rel:`modulepreload`,href:e,...n})),p.map(({key:e,link:t})=>b.createElement(`link`,{key:e,nonce:n.nonce,...t})))}function Xt(...e){return t=>{e.forEach(e=>{typeof e==`function`?e(t):e!=null&&(e.current=t)})}}var Zt=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;try{Zt&&(window.__reactRouterVersion=`7.9.3`)}catch{}function Qt({basename:e,children:t,window:n}){let r=b.useRef();r.current??=E({window:n,v5Compat:!0});let i=r.current,[a,o]=b.useState({action:i.action,location:i.location}),s=b.useCallback(e=>{b.startTransition(()=>o(e))},[o]);return b.useLayoutEffect(()=>i.listen(s),[i,s]),b.createElement(mt,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}function $t({basename:e,children:t,history:n}){let[r,i]=b.useState({action:n.action,location:n.location}),a=b.useCallback(e=>{b.startTransition(()=>i(e))},[i]);return b.useLayoutEffect(()=>n.listen(a),[n,a]),b.createElement(mt,{basename:e,children:t,location:r.location,navigationType:r.action,navigator:n})}$t.displayName=`unstable_HistoryRouter`;var en=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tn=b.forwardRef(function({onClick:e,discover:t=`render`,prefetch:n=`none`,relative:r,reloadDocument:i,replace:a,state:o,target:s,to:c,preventScrollReset:l,viewTransition:u,...d},f){let{basename:p}=b.useContext(je),m=typeof c==`string`&&en.test(c),h,g=!1;if(typeof c==`string`&&m&&(h=c,Zt))try{let e=new URL(window.location.href),t=c.startsWith(`//`)?new URL(e.protocol+c):new URL(c),n=ge(t.pathname,p);t.origin===e.origin&&n!=null?c=n+t.search+t.hash:g=!0}catch{O(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=Fe(c,{relative:r}),[v,y,x]=Gt(n,d),S=ln(c,{replace:a,state:o,target:s,preventScrollReset:l,relative:r,viewTransition:u});function C(t){e&&e(t),t.defaultPrevented||S(t)}let w=b.createElement(`a`,{...d,...x,href:h||_,onClick:g||i?e:C,ref:Xt(f,y),target:s,"data-discover":!m&&t===`render`?`true`:void 0});return v&&!m?b.createElement(b.Fragment,null,w,b.createElement(qt,{page:_})):w});tn.displayName=`Link`;var nn=b.forwardRef(function({"aria-current":e=`page`,caseSensitive:t=!1,className:n=``,end:r=!1,style:i,to:a,viewTransition:o,children:s,...c},l){let u=We(a,{relative:c.relative}),d=Le(),f=b.useContext(De),{navigator:p,basename:m}=b.useContext(je),h=f!=null&&yn(u)&&o===!0,g=p.encodeLocation?p.encodeLocation(u).pathname:u.pathname,_=d.pathname,v=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(_=_.toLowerCase(),v=v?v.toLowerCase():null,g=g.toLowerCase()),v&&m&&(v=ge(v,m)||v);let y=g!==`/`&&g.endsWith(`/`)?g.length-1:g.length,x=_===g||!r&&_.startsWith(g)&&_.charAt(y)===`/`,S=v!=null&&(v===g||!r&&v.startsWith(g)&&v.charAt(g.length)===`/`),C={isActive:x,isPending:S,isTransitioning:h},w=x?e:void 0,T;T=typeof n==`function`?n(C):[n,x?`active`:null,S?`pending`:null,h?`transitioning`:null].filter(Boolean).join(` `);let E=typeof i==`function`?i(C):i;return b.createElement(tn,{...c,"aria-current":w,className:T,ref:l,style:E,to:a,viewTransition:o},typeof s==`function`?s(C):s)});nn.displayName=`NavLink`;var rn=b.forwardRef(({discover:e=`render`,fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=_t,action:s,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:d,...f},p)=>{let m=fn(),h=pn(s,{relative:l}),g=o.toLowerCase()===`get`?`get`:`post`,_=typeof s==`string`&&en.test(s);return b.createElement(`form`,{ref:p,method:g,action:h,onSubmit:r?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,s=r?.getAttribute(`formmethod`)||o;m(r||e.currentTarget,{fetcherKey:t,method:s,navigate:n,replace:i,state:a,relative:l,preventScrollReset:u,viewTransition:d})},...f,"data-discover":!_&&e===`render`?`true`:void 0})});rn.displayName=`Form`;function an({getKey:e,storageKey:t,...n}){let r=b.useContext(Ut),{basename:i}=b.useContext(je),a=Le(),o=at();_n({getKey:e,storageKey:t});let s=b.useMemo(()=>{if(!r||!e)return null;let t=gn(a,o,i,e);return t===a.key?null:t},[]);if(!r||r.isSpaMode)return null;let c=((e,t)=>{if(!window.history.state||!window.history.state.key){let e=Math.random().toString(32).slice(2);window.history.replaceState({key:e},``)}try{let n=JSON.parse(sessionStorage.getItem(e)||`{}`)[t||window.history.state.key];typeof n==`number`&&window.scrollTo(0,n)}catch(t){console.error(t),sessionStorage.removeItem(e)}}).toString();return b.createElement(`script`,{...n,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${c})(${JSON.stringify(t||mn)}, ${JSON.stringify(s)})`}})}an.displayName=`ScrollRestoration`;function on(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sn(e){let t=b.useContext(Ee);return D(t,on(e)),t}function cn(e){let t=b.useContext(De);return D(t,on(e)),t}function ln(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=Be(),c=Le(),l=We(e,{relative:a});return b.useCallback(u=>{if(wt(u,t)){u.preventDefault();let t=n===void 0?M(c)===M(l):n;s(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[c,s,l,n,r,t,e,i,a,o])}var un=0,dn=()=>`__${String(++un)}__`;function fn(){let{router:e}=sn(`useSubmit`),{basename:t}=b.useContext(je),n=rt();return b.useCallback(async(r,i={})=>{let{action:a,method:o,encType:s,formData:c,body:l}=kt(r,t);if(i.navigate===!1){let t=i.fetcherKey||dn();await e.fetch(t,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:l,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:l,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function pn(e,{relative:t}={}){let{basename:n}=b.useContext(je),r=b.useContext(Ne);D(r,`useFormAction must be used inside a RouteContext`);let[i]=r.matches.slice(-1),a={...We(e||`.`,{relative:t})},o=Le();if(e==null){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll(`index`);if(t.some(e=>e===``)){e.delete(`index`),t.filter(e=>e).forEach(t=>e.append(`index`,t));let n=e.toString();a.search=n?`?${n}`:``}}return(!e||e===`.`)&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,`?index&`):`?index`),n!==`/`&&(a.pathname=a.pathname===`/`?n:Se([n,a.pathname])),M(a)}var mn=`react-router-scroll-positions`,hn={};function gn(e,t,n,r){let i=null;return r&&(i=r(n===`/`?e:{...e,pathname:ge(e.pathname,n)||e.pathname},t)),i??=e.key,i}function _n({getKey:e,storageKey:t}={}){let{router:n}=sn(`useScrollRestoration`),{restoreScrollPosition:r,preventScrollReset:i}=cn(`useScrollRestoration`),{basename:a}=b.useContext(je),o=Le(),s=at(),c=it();b.useEffect(()=>(window.history.scrollRestoration=`manual`,()=>{window.history.scrollRestoration=`auto`}),[]),vn(b.useCallback(()=>{if(c.state===`idle`){let t=gn(o,s,a,e);hn[t]=window.scrollY}try{sessionStorage.setItem(t||mn,JSON.stringify(hn))}catch(e){O(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${e}).`)}window.history.scrollRestoration=`auto`},[c.state,e,a,o,s,t])),typeof document<`u`&&(b.useLayoutEffect(()=>{try{let e=sessionStorage.getItem(t||mn);e&&(hn=JSON.parse(e))}catch{}},[t]),b.useLayoutEffect(()=>{let t=n?.enableScrollRestoration(hn,()=>window.scrollY,e?(t,n)=>gn(t,n,a,e):void 0);return()=>t&&t()},[n,a,e]),b.useLayoutEffect(()=>{if(r!==!1){if(typeof r==`number`){window.scrollTo(0,r);return}try{if(o.hash){let e=document.getElementById(decodeURIComponent(o.hash.slice(1)));if(e){e.scrollIntoView();return}}}catch{O(!1,`"${o.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`)}i!==!0&&window.scrollTo(0,0)}},[o,r,i]))}function vn(e,t){let{capture:n}=t||{};b.useEffect(()=>{let t=n==null?void 0:{capture:n};return window.addEventListener(`pagehide`,e,t),()=>{window.removeEventListener(`pagehide`,e,t)}},[e,n])}function yn(e,{relative:t}={}){let n=b.useContext(Oe);D(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sn(`useViewTransitionState`),i=We(e,{relative:t});if(!n.isTransitioning)return!1;let a=ge(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ge(n.nextLocation.pathname,r)||n.nextLocation.pathname;return pe(i.pathname,o)!=null||pe(i.pathname,a)!=null}var bn=()=>void 0,xn=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)==55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Sn=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){let a=e[n++],o=e[n++],s=e[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let a=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join(``)},Cn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`,get ENCODED_VALS(){return this.ENCODED_VALS_BASE+`+/=`},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+`-_.`},HAS_NATIVE_SUPPORT:typeof atob==`function`,encodeByteArray(e,t){if(!Array.isArray(e))throw Error(`encodeByteArray takes an array as a parameter`);this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,o=a?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,l=i>>2,u=(i&3)<<4|o>>4,d=(o&15)<<2|c>>6,f=c&63;s||(f=64,a||(d=64)),r.push(n[l],n[u],n[d],n[f])}return r.join(``)},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Sn(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;let o=t<e.length?n[e.charAt(t)]:64;++t;let s=t<e.length?n[e.charAt(t)]:64;if(++t,i==null||a==null||o==null||s==null)throw new wn;let c=i<<2|a>>4;if(r.push(c),o!==64){let e=a<<4&240|o>>2;if(r.push(e),s!==64){let e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},wn=class extends Error{constructor(){super(...arguments),this.name=`DecodeBase64StringError`}},Tn=function(e){let t=xn(e);return Cn.encodeByteArray(t,!0)},En=function(e){return Tn(e).replace(/\./g,``)},Dn=function(e){try{return Cn.decodeString(e,!0)}catch(e){console.error(`base64Decode failed: `,e)}return null};
/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function On(){if(typeof self<`u`)return self;if(typeof window<`u`)return window;if(typeof global<`u`)return global;throw Error(`Unable to locate global object.`)}
/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var kn=()=>On().__FIREBASE_DEFAULTS__,An=()=>{if(typeof process>`u`)return;let e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},jn=()=>{if(typeof document>`u`)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Dn(e[1]);return t&&JSON.parse(t)},Mn=()=>{try{return bn()||kn()||An()||jn()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Nn=e=>Mn()?.emulatorHosts?.[e],Pn=e=>{let t=Nn(e);if(!t)return;let n=t.lastIndexOf(`:`);if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]===`[`?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Fn=()=>Mn()?.config,In=e=>Mn()?.[`_${e}`],Ln=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e==`function`&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}};
/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Rn(e){try{return(e.startsWith(`http://`)||e.startsWith(`https://`)?new URL(e).hostname:e).endsWith(`.cloudworkstations.dev`)}catch{return!1}}async function zn(e){return(await fetch(e,{credentials:`include`})).ok}
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Bn(e,t){if(e.uid)throw Error(`The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.`);let n={alg:`none`,type:`JWT`},r=t||`demo-project`,i=e.iat||0,a=e.sub||e.user_id;if(!a)throw Error(`mockUserToken must contain 'sub' or 'user_id' field!`);let o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:`custom`,identities:{}},...e};return[En(JSON.stringify(n)),En(JSON.stringify(o)),``].join(`.`)}var Vn={};function Hn(){let e={prod:[],emulator:[]};for(let t of Object.keys(Vn))Vn[t]?e.emulator.push(t):e.prod.push(t);return e}function Un(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement(`div`),t.setAttribute(`id`,e),n=!0),{created:n,element:t}}var Wn=!1;function Gn(e,t){if(typeof window>`u`||typeof document>`u`||!Rn(window.location.host)||Vn[e]===t||Vn[e]||Wn)return;Vn[e]=t;function n(e){return`__firebase__banner__${e}`}let r=`__firebase__banner`,i=Hn().prod.length>0;function a(){let e=document.getElementById(r);e&&e.remove()}function o(e){e.style.display=`flex`,e.style.background=`#7faaf0`,e.style.position=`fixed`,e.style.bottom=`5px`,e.style.left=`5px`,e.style.padding=`.5em`,e.style.borderRadius=`5px`,e.style.alignItems=`center`}function s(e,t){e.setAttribute(`width`,`24`),e.setAttribute(`id`,t),e.setAttribute(`height`,`24`),e.setAttribute(`viewBox`,`0 0 24 24`),e.setAttribute(`fill`,`none`),e.style.marginLeft=`-6px`}function c(){let e=document.createElement(`span`);return e.style.cursor=`pointer`,e.style.marginLeft=`16px`,e.style.fontSize=`24px`,e.innerHTML=` &times;`,e.onclick=()=>{Wn=!0,a()},e}function l(e,t){e.setAttribute(`id`,t),e.innerText=`Learn more`,e.href=`https://firebase.google.com/docs/studio/preview-apps#preview-backend`,e.setAttribute(`target`,`__blank`),e.style.paddingLeft=`5px`,e.style.textDecoration=`underline`}function u(){let e=Un(r),t=n(`text`),a=document.getElementById(t)||document.createElement(`span`),u=n(`learnmore`),d=document.getElementById(u)||document.createElement(`a`),f=n(`preprendIcon`),p=document.getElementById(f)||document.createElementNS(`http://www.w3.org/2000/svg`,`svg`);if(e.created){let t=e.element;o(t),l(d,u);let n=c();s(p,f),t.append(p,a,d,n),document.body.appendChild(t)}i?(a.innerText=`Preview backend disconnected.`,p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,a.innerText=`Preview backend running in this workspace.`),a.setAttribute(`id`,t)}document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,u):u()}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Kn(){return typeof navigator<`u`&&typeof navigator.userAgent==`string`?navigator.userAgent:``}function qn(){return typeof window<`u`&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function Jn(){let e=Mn()?.forceEnvironment;if(e===`node`)return!0;if(e===`browser`)return!1;try{return Object.prototype.toString.call(global.process)===`[object process]`}catch{return!1}}function Yn(){return typeof navigator<`u`&&navigator.userAgent===`Cloudflare-Workers`}function Xn(){let e=typeof chrome==`object`?chrome.runtime:typeof browser==`object`?browser.runtime:void 0;return typeof e==`object`&&e.id!==void 0}function Zn(){return typeof navigator==`object`&&navigator.product===`ReactNative`}function Qn(){let e=Kn();return e.indexOf(`MSIE `)>=0||e.indexOf(`Trident/`)>=0}function $n(){return!Jn()&&!!navigator.userAgent&&navigator.userAgent.includes(`Safari`)&&!navigator.userAgent.includes(`Chrome`)}function er(){try{return typeof indexedDB==`object`}catch{return!1}}function tr(){return new Promise((e,t)=>{try{let n=!0,r=`validate-browser-context-for-indexeddb-analytics-module`,i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||``)}}catch(e){t(e)}})}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var nr=`FirebaseError`,rr=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=nr,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ir.prototype.create)}},ir=class{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?ar(i,n):`Error`,o=`${this.serviceName}: ${a} (${r}).`;return new rr(r,o,n)}};function ar(e,t){return e.replace(or,(e,n)=>{let r=t[n];return r==null?`<${n}?>`:String(r)})}var or=/\{\$([^}]+)}/g;function sr(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function cr(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],a=t[i];if(lr(n)&&lr(a)){if(!cr(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function lr(e){return typeof e==`object`&&!!e}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function ur(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+`=`+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+`=`+encodeURIComponent(r));return t.length?`&`+t.join(`&`):``}function dr(e){let t={};return e.replace(/^\?/,``).split(`&`).forEach(e=>{if(e){let[n,r]=e.split(`=`);t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function fr(e){let t=e.indexOf(`?`);if(!t)return``;let n=e.indexOf(`#`,t);return e.substring(t,n>0?n:void 0)}function pr(e,t){let n=new mr(e,t);return n.subscribe.bind(n)}var mr=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw Error(`Missing Observer.`);r=hr(e,[`next`,`error`,`complete`])?e:{next:e,error:t,complete:n},r.next===void 0&&(r.next=gr),r.error===void 0&&(r.error=gr),r.complete===void 0&&(r.complete=gr);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],--this.observerCount,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(e){typeof console<`u`&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function hr(e,t){if(typeof e!=`object`||!e)return!1;for(let n of t)if(n in e&&typeof e[n]==`function`)return!0;return!1}function gr(){}
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function _r(e){return e&&e._delegate?e._delegate:e}var vr=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode=`LAZY`,this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}},yr=`[DEFAULT]`,br=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new Ln;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}else if(n)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(Sr(e))try{this.getOrInitializeService({instanceIdentifier:yr})}catch{}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch{}}}}clearInstance(e=yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>`INTERNAL`in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>`_delete`in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yr){return this.instances.has(e)}getOptions(e=yr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(e);n===i&&t.resolve(r)}return r}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);let i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:xr(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=yr){return this.component?this.component.multipleInstances?e:yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!==`EXPLICIT`}};function xr(e){return e===yr?void 0:e}function Sr(e){return e.instantiationMode===`EAGER`}
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Cr=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new br(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}},wr=[],Tr;(function(e){e[e.DEBUG=0]=`DEBUG`,e[e.VERBOSE=1]=`VERBOSE`,e[e.INFO=2]=`INFO`,e[e.WARN=3]=`WARN`,e[e.ERROR=4]=`ERROR`,e[e.SILENT=5]=`SILENT`})(Tr||={});var Er={debug:Tr.DEBUG,verbose:Tr.VERBOSE,info:Tr.INFO,warn:Tr.WARN,error:Tr.ERROR,silent:Tr.SILENT},Dr=Tr.INFO,Or={[Tr.DEBUG]:`log`,[Tr.VERBOSE]:`log`,[Tr.INFO]:`info`,[Tr.WARN]:`warn`,[Tr.ERROR]:`error`},kr=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=Or[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Ar=class{constructor(e){this.name=e,this._logLevel=Dr,this._logHandler=kr,this._userLogHandler=null,wr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Tr))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==`string`?Er[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=`function`)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Tr.DEBUG,...e),this._logHandler(this,Tr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Tr.VERBOSE,...e),this._logHandler(this,Tr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Tr.INFO,...e),this._logHandler(this,Tr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Tr.WARN,...e),this._logHandler(this,Tr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Tr.ERROR,...e),this._logHandler(this,Tr.ERROR,...e)}},jr=(e,t)=>t.some(t=>e instanceof t),Mr,Nr;function Pr(){return Mr||=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]}function Fr(){return Nr||=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]}var Ir=new WeakMap,Lr=new WeakMap,Rr=new WeakMap,zr=new WeakMap,Br=new WeakMap;function Vr(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`success`,i),e.removeEventListener(`error`,a)},i=()=>{t(qr(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener(`success`,i),e.addEventListener(`error`,a)});return t.then(t=>{t instanceof IDBCursor&&Ir.set(t,e)}).catch(()=>{}),Br.set(t,e),t}function Hr(e){if(Lr.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`complete`,i),e.removeEventListener(`error`,a),e.removeEventListener(`abort`,a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException(`AbortError`,`AbortError`)),r()};e.addEventListener(`complete`,i),e.addEventListener(`error`,a),e.addEventListener(`abort`,a)});Lr.set(e,t)}var Ur={get(e,t,n){if(e instanceof IDBTransaction){if(t===`done`)return Lr.get(e);if(t===`objectStoreNames`)return e.objectStoreNames||Rr.get(e);if(t===`store`)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t===`done`||t===`store`)?!0:t in e}};function Wr(e){Ur=e(Ur)}function Gr(e){return e===IDBDatabase.prototype.transaction&&!(`objectStoreNames`in IDBTransaction.prototype)?function(t,...n){let r=e.call(Jr(this),t,...n);return Rr.set(r,t.sort?t.sort():[t]),qr(r)}:Fr().includes(e)?function(...t){return e.apply(Jr(this),t),qr(Ir.get(this))}:function(...t){return qr(e.apply(Jr(this),t))}}function Kr(e){return typeof e==`function`?Gr(e):(e instanceof IDBTransaction&&Hr(e),jr(e,Pr())?new Proxy(e,Ur):e)}function qr(e){if(e instanceof IDBRequest)return Vr(e);if(zr.has(e))return zr.get(e);let t=Kr(e);return t!==e&&(zr.set(e,t),Br.set(t,e)),t}var Jr=e=>Br.get(e);function Yr(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let o=indexedDB.open(e,t),s=qr(o);return r&&o.addEventListener(`upgradeneeded`,e=>{r(qr(o.result),e.oldVersion,e.newVersion,qr(o.transaction),e)}),n&&o.addEventListener(`blocked`,e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener(`close`,()=>a()),i&&e.addEventListener(`versionchange`,e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}var Xr=[`get`,`getKey`,`getAll`,`getAllKeys`,`count`],Zr=[`put`,`add`,`delete`,`clear`],Qr=new Map;function $r(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==`string`))return;if(Qr.get(t))return Qr.get(t);let n=t.replace(/FromIndex$/,``),r=t!==n,i=Zr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Xr.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?`readwrite`:`readonly`),o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return Qr.set(t,a),a}Wr(e=>({...e,get:(t,n,r)=>$r(t,n)||e.get(t,n,r),has:(t,n)=>!!$r(t,n)||e.has(t,n)}));
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var ei=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(ti(e)){let t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(` `)}};function ti(e){return e.getComponent()?.type===`VERSION`}var ni=`@firebase/app`,ri=`0.14.6`,ii=new Ar(`@firebase/app`),ai=`@firebase/app-compat`,oi=`@firebase/analytics-compat`,si=`@firebase/analytics`,ci=`@firebase/app-check-compat`,li=`@firebase/app-check`,ui=`@firebase/auth`,di=`@firebase/auth-compat`,fi=`@firebase/database`,pi=`@firebase/data-connect`,mi=`@firebase/database-compat`,hi=`@firebase/functions`,gi=`@firebase/functions-compat`,_i=`@firebase/installations`,vi=`@firebase/installations-compat`,yi=`@firebase/messaging`,bi=`@firebase/messaging-compat`,xi=`@firebase/performance`,Si=`@firebase/performance-compat`,Ci=`@firebase/remote-config`,wi=`@firebase/remote-config-compat`,Ti=`@firebase/storage`,Ei=`@firebase/storage-compat`,Di=`@firebase/firestore`,Oi=`@firebase/ai`,ki=`@firebase/firestore-compat`,Ai=`firebase`,ji=`12.6.0`,Mi=`[DEFAULT]`,Ni={[ni]:`fire-core`,[ai]:`fire-core-compat`,[si]:`fire-analytics`,[oi]:`fire-analytics-compat`,[li]:`fire-app-check`,[ci]:`fire-app-check-compat`,[ui]:`fire-auth`,[di]:`fire-auth-compat`,[fi]:`fire-rtdb`,[pi]:`fire-data-connect`,[mi]:`fire-rtdb-compat`,[hi]:`fire-fn`,[gi]:`fire-fn-compat`,[_i]:`fire-iid`,[vi]:`fire-iid-compat`,[yi]:`fire-fcm`,[bi]:`fire-fcm-compat`,[xi]:`fire-perf`,[Si]:`fire-perf-compat`,[Ci]:`fire-rc`,[wi]:`fire-rc-compat`,[Ti]:`fire-gcs`,[Ei]:`fire-gcs-compat`,[Di]:`fire-fst`,[ki]:`fire-fst-compat`,[Oi]:`fire-vertex`,"fire-js":`fire-js`,[Ai]:`fire-js-all`},Pi=new Map,Fi=new Map,Ii=new Map;function Li(e,t){try{e.container.addComponent(t)}catch(n){ii.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ri(e){let t=e.name;if(Ii.has(t))return ii.debug(`There were multiple attempts to register component ${t}.`),!1;Ii.set(t,e);for(let t of Pi.values())Li(t,e);for(let t of Fi.values())Li(t,e);return!0}function zi(e,t){let n=e.container.getProvider(`heartbeat`).getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Bi(e){return e==null?!1:e.settings!==void 0}var Vi=new ir(`app`,`Firebase`,{"no-app":`No Firebase App '{$appName}' has been created - call initializeApp() first`,"bad-app-name":`Illegal App name: '{$appName}'`,"duplicate-app":`Firebase App named '{$appName}' already exists with different options or config`,"app-deleted":`Firebase App named '{$appName}' already deleted`,"server-app-deleted":`Firebase Server App has been deleted`,"no-options":`Need to provide options, when not being deployed to hosting via source.`,"invalid-app-argument":`firebase.{$appName}() takes either no argument or a Firebase App instance.`,"invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":`Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.`,"idb-get":`Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.`,"idb-set":`Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.`,"idb-delete":`Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.`,"finalization-registry-not-supported":`FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.`,"invalid-server-app-environment":`FirebaseServerApp is not for use in browser environments.`}),Hi=class{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new vr(`app`,()=>this,`PUBLIC`))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create(`app-deleted`,{appName:this._name})}},Ui=ji;function Wi(e,t={}){let n=e;typeof t!=`object`&&(t={name:t});let r={name:Mi,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!=`string`||!i)throw Vi.create(`bad-app-name`,{appName:String(i)});if(n||=Fn(),!n)throw Vi.create(`no-options`);let a=Pi.get(i);if(a){if(cr(n,a.options)&&cr(r,a.config))return a;throw Vi.create(`duplicate-app`,{appName:i})}let o=new Cr(i);for(let e of Ii.values())o.addComponent(e);let s=new Hi(n,r,o);return Pi.set(i,s),s}function Gi(e=Mi){let t=Pi.get(e);if(!t&&e===`[DEFAULT]`&&Fn())return Wi();if(!t)throw Vi.create(`no-app`,{appName:e});return t}function Ki(e,t,n){let r=Ni[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){let e=[`Unable to register library "${r}" with version "${t}":`];i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push(`and`),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ii.warn(e.join(` `));return}Ri(new vr(`${r}-version`,()=>({library:r,version:t}),`VERSION`))}
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var qi=`firebase-heartbeat-database`,Ji=1,Yi=`firebase-heartbeat-store`,Xi=null;function Zi(){return Xi||=Yr(qi,Ji,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Yi)}catch(e){console.warn(e)}}}}).catch(e=>{throw Vi.create(`idb-open`,{originalErrorMessage:e.message})}),Xi}async function Qi(e){try{let t=(await Zi()).transaction(Yi),n=await t.objectStore(Yi).get(ea(e));return await t.done,n}catch(e){if(e instanceof rr)ii.warn(e.message);else{let t=Vi.create(`idb-get`,{originalErrorMessage:e?.message});ii.warn(t.message)}}}async function $i(e,t){try{let n=(await Zi()).transaction(Yi,`readwrite`);await n.objectStore(Yi).put(t,ea(e)),await n.done}catch(e){if(e instanceof rr)ii.warn(e.message);else{let t=Vi.create(`idb-set`,{originalErrorMessage:e?.message});ii.warn(t.message)}}}function ea(e){return`${e.name}!${e.options.appId}`}
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var ta=1024,na=30,ra=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider(`app`).getImmediate();this._storage=new oa(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider(`platform-logger`).getImmediate().getPlatformInfoString(),t=ia();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>na){let e=ca(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ii.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return``;let e=ia(),{heartbeatsToSend:t,unsentEntries:n}=aa(this._heartbeatsCache.heartbeats),r=En(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return ii.warn(e),``}}};function ia(){return new Date().toISOString().substring(0,10)}function aa(e,t=ta){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),sa(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sa(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var oa=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return er()?tr().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let e=await Qi(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return $i(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return $i(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}else return}};function sa(e){return En(JSON.stringify({version:2,heartbeats:e})).length}function ca(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function la(e){Ri(new vr(`platform-logger`,e=>new ei(e),`PRIVATE`)),Ri(new vr(`heartbeat`,e=>new ra(e),`PRIVATE`)),Ki(ni,ri,e),Ki(ni,ri,`esm2020`),Ki(`fire-js`,``)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
la(``),Ki(`firebase`,`12.6.0`,`app`);function ua(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var da=ua,fa=new ir(`auth`,`Firebase`,ua()),pa=new Ar(`@firebase/auth`);function ma(e,...t){pa.logLevel<=Tr.WARN&&pa.warn(`Auth (${Ui}): ${e}`,...t)}function ha(e,...t){pa.logLevel<=Tr.ERROR&&pa.error(`Auth (${Ui}): ${e}`,...t)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function ga(e,...t){throw ba(e,...t)}function _a(e,...t){return ba(e,...t)}function va(e,t,n){let r={...da(),[t]:n};return new ir(`auth`,`Firebase`,r).create(t,{appName:e.name})}function ya(e){return va(e,`operation-not-supported-in-this-environment`,`Operations that alter the current user are not supported in conjunction with FirebaseServerApp`)}function ba(e,...t){if(typeof e!=`string`){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return fa.create(e,...t)}function V(e,t,...n){if(!e)throw ba(t,...n)}function xa(e){let t=`INTERNAL ASSERTION FAILED: `+e;throw ha(t),Error(t)}function Sa(e,t){e||xa(t)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Ca(){return typeof self<`u`&&self.location?.href||``}function wa(){return Ta()===`http:`||Ta()===`https:`}function Ta(){return typeof self<`u`&&self.location?.protocol||null}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Ea(){return typeof navigator<`u`&&navigator&&`onLine`in navigator&&typeof navigator.onLine==`boolean`&&(wa()||Xn()||`connection`in navigator)?navigator.onLine:!0}function Da(){if(typeof navigator>`u`)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Oa=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Sa(t>e,`Short delay should be less than long delay!`),this.isMobile=qn()||Zn()}get(){return Ea()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function ka(e,t){Sa(e.emulator,`Emulator should always be set here`);let{url:n}=e.emulator;return t?`${n}${t.startsWith(`/`)?t.slice(1):t}`:n}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Aa=class{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<`u`&&`fetch`in self)return self.fetch;if(typeof globalThis<`u`&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<`u`)return fetch;xa(`Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<`u`&&`Headers`in self)return self.Headers;if(typeof globalThis<`u`&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<`u`)return Headers;xa(`Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<`u`&&`Response`in self)return self.Response;if(typeof globalThis<`u`&&globalThis.Response)return globalThis.Response;if(typeof Response<`u`)return Response;xa(`Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}},ja={CREDENTIAL_MISMATCH:`custom-token-mismatch`,MISSING_CUSTOM_TOKEN:`internal-error`,INVALID_IDENTIFIER:`invalid-email`,MISSING_CONTINUE_URI:`internal-error`,INVALID_PASSWORD:`wrong-password`,MISSING_PASSWORD:`missing-password`,INVALID_LOGIN_CREDENTIALS:`invalid-credential`,EMAIL_EXISTS:`email-already-in-use`,PASSWORD_LOGIN_DISABLED:`operation-not-allowed`,INVALID_IDP_RESPONSE:`invalid-credential`,INVALID_PENDING_TOKEN:`invalid-credential`,FEDERATED_USER_ID_ALREADY_LINKED:`credential-already-in-use`,MISSING_REQ_TYPE:`internal-error`,EMAIL_NOT_FOUND:`user-not-found`,RESET_PASSWORD_EXCEED_LIMIT:`too-many-requests`,EXPIRED_OOB_CODE:`expired-action-code`,INVALID_OOB_CODE:`invalid-action-code`,MISSING_OOB_CODE:`internal-error`,CREDENTIAL_TOO_OLD_LOGIN_AGAIN:`requires-recent-login`,INVALID_ID_TOKEN:`invalid-user-token`,TOKEN_EXPIRED:`user-token-expired`,USER_NOT_FOUND:`user-token-expired`,TOO_MANY_ATTEMPTS_TRY_LATER:`too-many-requests`,PASSWORD_DOES_NOT_MEET_REQUIREMENTS:`password-does-not-meet-requirements`,INVALID_CODE:`invalid-verification-code`,INVALID_SESSION_INFO:`invalid-verification-id`,INVALID_TEMPORARY_PROOF:`invalid-credential`,MISSING_SESSION_INFO:`missing-verification-id`,SESSION_EXPIRED:`code-expired`,MISSING_ANDROID_PACKAGE_NAME:`missing-android-pkg-name`,UNAUTHORIZED_DOMAIN:`unauthorized-continue-uri`,INVALID_OAUTH_CLIENT_ID:`invalid-oauth-client-id`,ADMIN_ONLY_OPERATION:`admin-restricted-operation`,INVALID_MFA_PENDING_CREDENTIAL:`invalid-multi-factor-session`,MFA_ENROLLMENT_NOT_FOUND:`multi-factor-info-not-found`,MISSING_MFA_ENROLLMENT_ID:`missing-multi-factor-info`,MISSING_MFA_PENDING_CREDENTIAL:`missing-multi-factor-session`,SECOND_FACTOR_EXISTS:`second-factor-already-in-use`,SECOND_FACTOR_LIMIT_EXCEEDED:`maximum-second-factor-count-exceeded`,BLOCKING_FUNCTION_ERROR_RESPONSE:`internal-error`,RECAPTCHA_NOT_ENABLED:`recaptcha-not-enabled`,MISSING_RECAPTCHA_TOKEN:`missing-recaptcha-token`,INVALID_RECAPTCHA_TOKEN:`invalid-recaptcha-token`,INVALID_RECAPTCHA_ACTION:`invalid-recaptcha-action`,MISSING_CLIENT_TYPE:`missing-client-type`,MISSING_RECAPTCHA_VERSION:`missing-recaptcha-version`,INVALID_RECAPTCHA_VERSION:`invalid-recaptcha-version`,INVALID_REQ_TYPE:`invalid-req-type`},Ma=[`/v1/accounts:signInWithCustomToken`,`/v1/accounts:signInWithEmailLink`,`/v1/accounts:signInWithIdp`,`/v1/accounts:signInWithPassword`,`/v1/accounts:signInWithPhoneNumber`,`/v1/token`],Na=new Oa(3e4,6e4);function Pa(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Fa(e,t,n,r,i={}){return H(e,i,async()=>{let i={},a={};r&&(t===`GET`?a=r:i={body:JSON.stringify(r)});let o=ur({key:e.config.apiKey,...a}).slice(1),s=await e._getAdditionalHeaders();s[`Content-Type`]=`application/json`,e.languageCode&&(s[`X-Firebase-Locale`]=e.languageCode);let c={method:t,headers:s,...i};return Yn()||(c.referrerPolicy=`no-referrer`),e.emulatorConfig&&Rn(e.emulatorConfig.host)&&(c.credentials=`include`),Aa.fetch()(await La(e,e.config.apiHost,n,o),c)})}async function H(e,t,n){e._canInitEmulator=!1;let r={...ja,...t};try{let t=new za(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let a=await i.json();if(`needConfirmation`in a)throw Ba(e,`account-exists-with-different-credential`,a);if(i.ok&&!(`errorMessage`in a))return a;{let[t,n]=(i.ok?a.errorMessage:a.error.message).split(` : `);if(t===`FEDERATED_USER_ID_ALREADY_LINKED`)throw Ba(e,`credential-already-in-use`,a);if(t===`EMAIL_EXISTS`)throw Ba(e,`email-already-in-use`,a);if(t===`USER_DISABLED`)throw Ba(e,`user-disabled`,a);let o=r[t]||t.toLowerCase().replace(/[_\s]+/g,`-`);if(n)throw va(e,o,n);ga(e,o)}}catch(t){if(t instanceof rr)throw t;ga(e,`network-request-failed`,{message:String(t)})}}async function Ia(e,t,n,r,i={}){let a=await Fa(e,t,n,r,i);return`mfaPendingCredential`in a&&ga(e,`multi-factor-auth-required`,{_serverResponse:a}),a}async function La(e,t,n,r){let i=`${t}${n}?${r}`,a=e,o=a.config.emulator?ka(e.config,i):`${e.config.apiScheme}://${i}`;return Ma.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()===`COOKIE`)?a._getPersistence()._getFinalTarget(o).toString():o}function Ra(e){switch(e){case`ENFORCE`:return`ENFORCE`;case`AUDIT`:return`AUDIT`;case`OFF`:return`OFF`;default:return`ENFORCEMENT_STATE_UNSPECIFIED`}}var za=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(_a(this.auth,`network-request-failed`)),Na.get())})}};function Ba(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=_a(e,t,r);return i.customData._tokenResponse=n,i}function Va(e){return e!==void 0&&e.enterprise!==void 0}var Ha=class{constructor(e){if(this.siteKey=``,this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw Error(`recaptchaKey undefined`);this.siteKey=e.recaptchaKey.split(`/`)[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ra(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)===`ENFORCE`||this.getProviderEnforcementState(e)===`AUDIT`}isAnyProviderEnabled(){return this.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)||this.isProviderEnabled(`PHONE_PROVIDER`)}};async function Ua(e,t){return Fa(e,`GET`,`/v2/recaptchaConfig`,Pa(e,t))}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function Wa(e,t){return Fa(e,`POST`,`/v1/accounts:delete`,t)}async function Ga(e,t){return Fa(e,`POST`,`/v1/accounts:lookup`,t)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Ka(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function qa(e,t=!1){let n=_r(e),r=await n.getIdToken(t),i=Ya(r);V(i&&i.exp&&i.auth_time&&i.iat,n.auth,`internal-error`);let a=typeof i.firebase==`object`?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:Ka(Ja(i.auth_time)),issuedAtTime:Ka(Ja(i.iat)),expirationTime:Ka(Ja(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Ja(e){return Number(e)*1e3}function Ya(e){let[t,n,r]=e.split(`.`);if(t===void 0||n===void 0||r===void 0)return ha(`JWT malformed, contained fewer than 3 sections`),null;try{let e=Dn(n);return e?JSON.parse(e):(ha(`Failed to decode base64 JWT payload`),null)}catch(e){return ha(`Caught error parsing JWT payload as JSON`,e?.toString()),null}}function Xa(e){let t=Ya(e);return V(t,`internal-error`),V(t.exp!==void 0,`internal-error`),V(t.iat!==void 0,`internal-error`),Number(t.exp)-Number(t.iat)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function Za(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof rr&&Qa(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}function Qa({code:e}){return e===`auth/user-disabled`||e===`auth/user-token-expired`}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var $a=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;let e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code===`auth/network-request-failed`&&this.schedule(!0);return}this.schedule()}},eo=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ka(this.lastLoginAt),this.creationTime=Ka(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function to(e){let t=e.auth,n=await e.getIdToken(),r=await Za(e,Ga(t,{idToken:n}));V(r?.users.length,t,`internal-error`);let i=r.users[0];e._notifyReloadListener(i);let a=i.providerUserInfo?.length?io(i.providerUserInfo):[],o=ro(e.providerData,a),s=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!o?.length,l=s?c:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new eo(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(e,u)}async function no(e){let t=_r(e);await to(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ro(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function io(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||``,displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function ao(e,t){let n=await H(e,{},async()=>{let n=ur({grant_type:`refresh_token`,refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await La(e,r,`/v1/token`,`key=${i}`),o=await e._getAdditionalHeaders();o[`Content-Type`]=`application/x-www-form-urlencoded`;let s={method:`POST`,headers:o,body:n};return e.emulatorConfig&&Rn(e.emulatorConfig.host)&&(s.credentials=`include`),Aa.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oo(e,t){return Fa(e,`POST`,`/v2/accounts:revokeToken`,Pa(e,t))}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var so=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,`internal-error`),V(e.idToken!==void 0,`internal-error`),V(e.refreshToken!==void 0,`internal-error`);let t=`expiresIn`in e&&e.expiresIn!==void 0?Number(e.expiresIn):Xa(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){V(e.length!==0,`internal-error`);let t=Xa(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(V(this.refreshToken,e,`user-token-expired`),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await ao(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new e;return r&&(V(typeof r==`string`,`internal-error`,{appName:t}),o.refreshToken=r),i&&(V(typeof i==`string`,`internal-error`,{appName:t}),o.accessToken=i),a&&(V(typeof a==`number`,`internal-error`,{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return xa(`not implemented`)}};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function co(e,t){V(typeof e==`string`||e===void 0,`internal-error`,{appName:t})}var lo=class e{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId=`firebase`,this.proactiveRefresh=new $a(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new eo(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){let t=await Za(this,this.stsTokenManager.getToken(this.auth,e));return V(t,this.auth,`internal-error`),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return qa(this,e)}reload(){return no(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,`internal-error`),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(t){let n=new e({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,`internal-error`),this.reloadListener=e,this.reloadUserInfo&&=(this._notifyReloadListener(this.reloadUserInfo),null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await to(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bi(this.auth.app))return Promise.reject(ya(this.auth));let e=await this.getIdToken();return await Za(this,Wa(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||``}static _fromJSON(t,n){let r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,c=n._redirectEventId??void 0,l=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:m,stsTokenManager:h}=n;V(d&&h,t,`internal-error`);let g=so.fromJSON(this.name,h);V(typeof d==`string`,t,`internal-error`),co(r,t.name),co(i,t.name),V(typeof f==`boolean`,t,`internal-error`),V(typeof p==`boolean`,t,`internal-error`),co(a,t.name),co(o,t.name),co(s,t.name),co(c,t.name),co(l,t.name),co(u,t.name);let _=new e({uid:d,auth:t,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:g,createdAt:l,lastLoginAt:u});return m&&Array.isArray(m)&&(_.providerData=m.map(e=>({...e}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(t,n,r=!1){let i=new so;i.updateFromServerResponse(n);let a=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await to(a),a}static async _fromGetAccountInfoResponse(t,n,r){let i=n.users[0];V(i.localId!==void 0,`internal-error`);let a=i.providerUserInfo===void 0?[]:io(i.providerUserInfo),o=!(i.email&&i.passwordHash)&&!a?.length,s=new so;s.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new eo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,l),c}},uo=new Map;function fo(e){Sa(e instanceof Function,`Expected a class definition`);let t=uo.get(e);return t?(Sa(t instanceof e,`Instance stored in cache mismatched with class`),t):(t=new e,uo.set(e,t),t)}
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var po=class{constructor(){this.type=`NONE`,this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};po.type=`NONE`;var mo=po;
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function ho(e,t,n){return`firebase:${e}:${t}:${n}`}var go=class e{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=ho(this.userKey,r.apiKey,i),this.fullPersistenceKey=ho(`persistence`,r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e==`string`){let t=await Ga(this.auth,{idToken:e}).catch(()=>void 0);return t?lo._fromGetAccountInfoResponse(this.auth,t,e):null}return lo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r=`authUser`){if(!n.length)return new e(fo(mo),t,r);let i=(await Promise.all(n.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),a=i[0]||fo(mo),o=ho(r,t.config.apiKey,t.name),s=null;for(let e of n)try{let n=await e._get(o);if(n){let r;if(typeof n==`string`){let e=await Ga(t,{idToken:n}).catch(()=>void 0);if(!e)break;r=await lo._fromGetAccountInfoResponse(t,e,n)}else r=lo._fromJSON(t,n);e!==a&&(s=r),a=e;break}}catch{}let c=i.filter(e=>e._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new e(a,t,r):(a=c[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async e=>{if(e!==a)try{await e._remove(o)}catch{}})),new e(a,t,r))}};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function _o(e){let t=e.toLowerCase();if(t.includes(`opera/`)||t.includes(`opr/`)||t.includes(`opios/`))return`Opera`;if(xo(t))return`IEMobile`;if(t.includes(`msie`)||t.includes(`trident/`))return`IE`;if(t.includes(`edge/`))return`Edge`;if(vo(t))return`Firefox`;if(t.includes(`silk/`))return`Silk`;if(Co(t))return`Blackberry`;if(wo(t))return`Webos`;if(yo(t))return`Safari`;if((t.includes(`chrome/`)||bo(t))&&!t.includes(`edge/`))return`Chrome`;if(So(t))return`Android`;{let t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(t?.length===2)return t[1]}return`Other`}function vo(e=Kn()){return/firefox\//i.test(e)}function yo(e=Kn()){let t=e.toLowerCase();return t.includes(`safari/`)&&!t.includes(`chrome/`)&&!t.includes(`crios/`)&&!t.includes(`android`)}function bo(e=Kn()){return/crios\//i.test(e)}function xo(e=Kn()){return/iemobile/i.test(e)}function So(e=Kn()){return/android/i.test(e)}function Co(e=Kn()){return/blackberry/i.test(e)}function wo(e=Kn()){return/webos/i.test(e)}function To(e=Kn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Eo(e=Kn()){return To(e)&&!!window.navigator?.standalone}function Do(){return Qn()&&document.documentMode===10}function Oo(e=Kn()){return To(e)||So(e)||wo(e)||Co(e)||/windows phone/i.test(e)||xo(e)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function ko(e,t=[]){let n;switch(e){case`Browser`:n=_o(Kn());break;case`Worker`:n=`${_o(Kn())}-${e}`;break;default:n=e}let r=t.length?t.join(`,`):`FirebaseCore-web`;return`${n}/JsCore/${Ui}/${r}`}
/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Ao=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(let e of t)try{e()}catch{}throw this.auth._errorFactory.create(`login-blocked`,{originalMessage:e?.message})}}};
/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function jo(e,t={}){return Fa(e,`GET`,`/v2/passwordPolicy`,Pa(e,t))}
/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Mo=6,No=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Mo,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState===`ENFORCEMENT_STATE_UNSPECIFIED`&&(this.enforcementState=`OFF`),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join(``)??``,this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&=t.meetsMinPasswordLength??!0,t.isValid&&=t.meetsMaxPasswordLength??!0,t.isValid&&=t.containsLowercaseLetter??!0,t.isValid&&=t.containsUppercaseLetter??!0,t.isValid&&=t.containsNumericCharacter??!0,t.isValid&&=t.containsNonAlphanumericCharacter??!0,t}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>=`a`&&n<=`z`,n>=`A`&&n<=`Z`,n>=`0`&&n<=`9`,this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||=t),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||=n),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||=r),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||=i)}},Po=class{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Io(this),this.idTokenSubscription=new Io(this),this.beforeStateQueue=new Ao(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fa,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fo(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await go.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await Ga(this,{idToken:e}),n=await lo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn(`FirebaseServerApp could not login user with provided authIdToken: `,e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Bi(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,a=await this.tryRedirectSignIn(e);(!t||t===i)&&a?.user&&(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,`argument-error`),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await to(e)}catch(e){if(e?.code!==`auth/network-request-failed`)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Da()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bi(this.app))return Promise.reject(ya(this));let t=e?_r(e):null;return t&&V(t.auth.config.apiKey===this.config.apiKey,this,`invalid-user-token`),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,`tenant-id-mismatch`),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bi(this.app)?Promise.reject(ya(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bi(this.app)?Promise.reject(ya(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?t.validatePassword(e):Promise.reject(this._errorFactory.create(`unsupported-password-policy-schema-version`,{}))}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await jo(this),t=new No(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ir(`auth`,`Firebase`,e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),n={providerId:`apple.com`,tokenType:`ACCESS_TOKEN`,token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await oo(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&fo(e)||this._popupRedirectResolver;V(t,this,`argument-error`),this.redirectPersistenceManager=await go.create(this,[fo(t._redirectPersistence)],`redirectUser`),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i=typeof t==`function`?t:t.next.bind(t),a=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(V(o,this,`internal-error`),o.then(()=>{a||i(this.currentUser)}),typeof t==`function`){let i=e.addObserver(t,n,r);return()=>{a=!0,i()}}else{let n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,`internal-error`),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ko(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e[`X-Firebase-gmpid`]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e[`X-Firebase-Client`]=t);let n=await this._getAppCheckToken();return n&&(e[`X-Firebase-AppCheck`]=n),e}async _getAppCheckToken(){if(Bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ma(`Error while retrieving App Check token: ${e.error}`),e?.token}};function Fo(e){return _r(e)}var Io=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=pr(e=>this.observer=e)}get next(){return V(this.observer,this.auth,`internal-error`),this.observer.next.bind(this.observer)}},Lo={async loadJS(){throw Error(`Unable to load external scripts`)},recaptchaV2Script:``,recaptchaEnterpriseScript:``,gapiScript:``};function Ro(e){Lo=e}function zo(e){return Lo.loadJS(e)}function Bo(){return Lo.recaptchaEnterpriseScript}function Vo(){return Lo.gapiScript}function Ho(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var Uo=class{constructor(){this.enterprise=new Wo}ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},Wo=class{ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},Go=`recaptcha-enterprise`,Ko=`NO_RECAPTCHA`,qo=class{constructor(e){this.type=Go,this.auth=Fo(e)}async verify(e=`verify`,t=!1){async function n(e){if(!t){if(e.tenantId==null&&e._agentRecaptchaConfig!=null)return e._agentRecaptchaConfig.siteKey;if(e.tenantId!=null&&e._tenantRecaptchaConfigs[e.tenantId]!==void 0)return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Ua(e,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}).then(r=>{if(r.recaptchaKey===void 0)n(Error(`recaptcha Enterprise site key undefined`));else{let n=new Ha(r);return e.tenantId==null?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;Va(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Ko)})}):r(Error(`No reCAPTCHA enterprise script loaded.`))}return this.auth.settings.appVerificationDisabledForTesting?new Uo().execute(`siteKey`,{action:`verify`}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&Va(window.grecaptcha))r(n,e,i);else{if(typeof window>`u`){i(Error(`RecaptchaVerifier is only supported in browser`));return}let t=Bo();t.length!==0&&(t+=n),zo(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}};async function Jo(e,t,n,r=!1,i=!1){let a=new qo(e),o;if(i)o=Ko;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}let s={...t};if(n===`mfaSmsEnrollment`||n===`mfaSmsSignIn`){if(`phoneEnrollmentInfo`in s){let e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}else if(`phoneSignInInfo`in s){let e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:`CLIENT_TYPE_WEB`}),Object.assign(s,{recaptchaVersion:`RECAPTCHA_ENTERPRISE`}),s}async function Yo(e,t,n,r,i){if(i===`EMAIL_PASSWORD_PROVIDER`)if(e._getRecaptchaConfig()?.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)){let i=await Jo(e,t,n,n===`getOobCode`);return r(e,i)}else return r(e,t).catch(async i=>{if(i.code===`auth/missing-recaptcha-token`){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await Jo(e,t,n,n===`getOobCode`);return r(e,i)}else return Promise.reject(i)});else if(i===`PHONE_PROVIDER`)if(e._getRecaptchaConfig()?.isProviderEnabled(`PHONE_PROVIDER`)){let i=await Jo(e,t,n);return r(e,i).catch(async i=>{if(e._getRecaptchaConfig()?.getProviderEnforcementState(`PHONE_PROVIDER`)===`AUDIT`&&(i.code===`auth/missing-recaptcha-token`||i.code===`auth/invalid-app-credential`)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let i=await Jo(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}else{let i=await Jo(e,t,n,!1,!0);return r(e,i)}else return Promise.reject(i+` provider is not supported.`)}async function Xo(e){let t=Fo(e),n=await Ua(t,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}),r=new Ha(n);t.tenantId==null?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()&&new qo(t).verify()}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Zo(e,t){let n=zi(e,`auth`);if(n.isInitialized()){let e=n.getImmediate(),r=n.getOptions();if(cr(r,t??{}))return e;ga(e,`already-initialized`)}return n.initialize({options:t})}function Qo(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(fo);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function $o(e,t,n){let r=Fo(e);V(/^https?:\/\//.test(t),r,`invalid-emulator-scheme`);let i=!!n?.disableWarnings,a=es(t),{host:o,port:s}=ts(t),c=s===null?``:`:${s}`,l={url:`${a}//${o}${c}/`},u=Object.freeze({host:o,port:s,protocol:a.replace(`:`,``),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){V(r.config.emulator&&r.emulatorConfig,r,`emulator-config-failed`),V(cr(l,r.config.emulator)&&cr(u,r.emulatorConfig),r,`emulator-config-failed`);return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Rn(o)?(zn(`${a}//${o}${c}`),Gn(`Auth`,!0)):i||rs()}function es(e){let t=e.indexOf(`:`);return t<0?``:e.substr(0,t+1)}function ts(e){let t=es(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:``,port:null};let r=n[2].split(`@`).pop()||``,i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:ns(r.substr(e.length+1))}}else{let[e,t]=r.split(`:`);return{host:e,port:ns(t)}}}function ns(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function rs(){function e(){let e=document.createElement(`p`),t=e.style;e.innerText=`Running in emulator mode. Do not use with production credentials.`,t.position=`fixed`,t.width=`100%`,t.backgroundColor=`#ffffff`,t.border=`.1em solid #000000`,t.color=`#b50000`,t.bottom=`0px`,t.left=`0px`,t.margin=`0px`,t.zIndex=`10000`,t.textAlign=`center`,e.classList.add(`firebase-emulator-warning`),document.body.appendChild(e)}typeof console<`u`&&typeof console.info==`function`&&console.info(`WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.`),typeof window<`u`&&typeof document<`u`&&(document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,e):e())}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var os=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xa(`not implemented`)}_getIdTokenResponse(e){return xa(`not implemented`)}_linkToIdToken(e,t){return xa(`not implemented`)}_getReauthenticationResolver(e){return xa(`not implemented`)}};async function ss(e,t){return Fa(e,`POST`,`/v1/accounts:update`,t)}async function cs(e,t){return Fa(e,`POST`,`/v1/accounts:signUp`,t)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function ls(e,t){return Ia(e,`POST`,`/v1/accounts:signInWithPassword`,Pa(e,t))}async function us(e,t){return Fa(e,`POST`,`/v1/accounts:sendOobCode`,Pa(e,t))}async function ds(e,t){return us(e,t)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function fs(e,t){return Ia(e,`POST`,`/v1/accounts:signInWithEmailLink`,Pa(e,t))}async function ps(e,t){return Ia(e,`POST`,`/v1/accounts:signInWithEmailLink`,Pa(e,t))}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var ms=class e extends os{constructor(e,t,n,r=null){super(`password`,n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(t,n){return new e(t,n,`password`)}static _fromEmailAndCode(t,n,r=null){return new e(t,n,`emailLink`,r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e==`string`?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod===`password`)return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod===`emailLink`)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case`password`:let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`};return Yo(e,t,`signInWithPassword`,ls,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return fs(e,{email:this._email,oobCode:this._password});default:ga(e,`internal-error`)}}async _linkToIdToken(e,t){switch(this.signInMethod){case`password`:let n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`};return Yo(e,n,`signUpPassword`,cs,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return ps(e,{idToken:t,email:this._email,oobCode:this._password});default:ga(e,`internal-error`)}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function hs(e,t){return Ia(e,`POST`,`/v1/accounts:signInWithIdp`,Pa(e,t))}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var gs=`http://localhost`,_s=class e extends os{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let n=new e(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ga(`argument-error`),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let{providerId:n,signInMethod:r,...i}=typeof t==`string`?JSON.parse(t):t;if(!n||!r)return null;let a=new e(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){let t=this.buildRequest();return hs(e,t)}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,hs(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,hs(e,t)}buildRequest(){let e={requestUri:gs,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ur(t)}return e}};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function vs(e,t){return Fa(e,`POST`,`/v1/accounts:sendVerificationCode`,Pa(e,t))}async function ys(e,t){return Ia(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Pa(e,t))}async function bs(e,t){let n=await Ia(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Pa(e,t));if(n.temporaryProof)throw Ba(e,`account-exists-with-different-credential`,n);return n}var xs={USER_NOT_FOUND:`user-not-found`};async function Ss(e,t){let n={...t,operation:`REAUTH`};return Ia(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Pa(e,n),xs)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Cs=class e extends os{constructor(e){super(`phone`,`phone`),this.params=e}static _fromVerification(t,n){return new e({verificationId:t,verificationCode:n})}static _fromTokenResponse(t,n){return new e({phoneNumber:t,temporaryProof:n})}_getIdTokenResponse(e){return ys(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return bs(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return Ss(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(t){typeof t==`string`&&(t=JSON.parse(t));let{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=t;return!r&&!n&&!i&&!a?null:new e({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function ws(e){switch(e){case`recoverEmail`:return`RECOVER_EMAIL`;case`resetPassword`:return`PASSWORD_RESET`;case`signIn`:return`EMAIL_SIGNIN`;case`verifyEmail`:return`VERIFY_EMAIL`;case`verifyAndChangeEmail`:return`VERIFY_AND_CHANGE_EMAIL`;case`revertSecondFactorAddition`:return`REVERT_SECOND_FACTOR_ADDITION`;default:return null}}function Ts(e){let t=dr(fr(e)).link,n=t?dr(fr(t)).deep_link_id:null,r=dr(fr(e)).deep_link_id;return(r?dr(fr(r)).link:null)||r||n||t||e}var Es=class e{constructor(e){let t=dr(fr(e)),n=t.apiKey??null,r=t.oobCode??null,i=ws(t.mode??null);V(n&&r&&i,`argument-error`),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(t){let n=Ts(t);try{return new e(n)}catch{return null}}},Ds=class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return ms._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=Es.parseLink(t);return V(n,`argument-error`),ms._fromEmailAndCode(e,n.code,n.tenantId)}};Ds.PROVIDER_ID=`password`,Ds.EMAIL_PASSWORD_SIGN_IN_METHOD=`password`,Ds.EMAIL_LINK_SIGN_IN_METHOD=`emailLink`;
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Os=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}},ks=class extends Os{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},As=class e extends ks{constructor(){super(`facebook.com`)}static credential(t){return _s._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};As.FACEBOOK_SIGN_IN_METHOD=`facebook.com`,As.PROVIDER_ID=`facebook.com`;
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var js=class e extends ks{constructor(){super(`google.com`),this.addScope(`profile`)}static credential(t,n){return _s._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch{return null}}};js.GOOGLE_SIGN_IN_METHOD=`google.com`,js.PROVIDER_ID=`google.com`;
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Ms=class e extends ks{constructor(){super(`github.com`)}static credential(t){return _s._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};Ms.GITHUB_SIGN_IN_METHOD=`github.com`,Ms.PROVIDER_ID=`github.com`;
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Ns=class e extends ks{constructor(){super(`twitter.com`)}static credential(t,n){return _s._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch{return null}}};Ns.TWITTER_SIGN_IN_METHOD=`twitter.com`,Ns.PROVIDER_ID=`twitter.com`;
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function Ps(e,t){return Ia(e,`POST`,`/v1/accounts:signUp`,Pa(e,t))}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Fs=class e{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){let a=await lo._fromIdTokenResponse(t,r,i),o=Is(r);return new e({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);let i=Is(r);return new e({user:t,providerId:i,_tokenResponse:r,operationType:n})}};function Is(e){return e.providerId?e.providerId:`phoneNumber`in e?`phone`:null}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Ls=class e extends rr{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function Rs(e,t,n,r){return(t===`reauthenticate`?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{throw n.code===`auth/multi-factor-auth-required`?Ls._fromErrorAndOperation(e,n,t,r):n})}async function zs(e,t,n=!1){let r=await Za(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Fs._forOperation(e,`link`,r)}
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function Bs(e,t,n=!1){let{auth:r}=e;if(Bi(r.app))return Promise.reject(ya(r));let i=`reauthenticate`;try{let a=await Za(e,Rs(r,i,t,e),n);V(a.idToken,r,`internal-error`);let o=Ya(a.idToken);V(o,r,`internal-error`);let{sub:s}=o;return V(e.uid===s,r,`user-mismatch`),Fs._forOperation(e,i,a)}catch(e){throw e?.code===`auth/user-not-found`&&ga(r,`user-mismatch`),e}}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function Vs(e,t,n=!1){if(Bi(e.app))return Promise.reject(ya(e));let r=`signIn`,i=await Rs(e,r,t),a=await Fs._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function Hs(e,t){return Vs(Fo(e),t)}async function Us(e,t){return Bs(_r(e),t)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Ws(e,t,n){V(n.url?.length>0,e,`invalid-continue-uri`),V(n.dynamicLinkDomain===void 0||n.dynamicLinkDomain.length>0,e,`invalid-dynamic-link-domain`),V(n.linkDomain===void 0||n.linkDomain.length>0,e,`invalid-hosting-link-domain`),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(V(n.iOS.bundleId.length>0,e,`missing-ios-bundle-id`),t.iOSBundleId=n.iOS.bundleId),n.android&&(V(n.android.packageName.length>0,e,`missing-android-pkg-name`),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function Gs(e){let t=Fo(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ks(e,t,n){let r=Fo(e),i={requestType:`PASSWORD_RESET`,email:t,clientType:`CLIENT_TYPE_WEB`};n&&Ws(r,i,n),await Yo(r,i,`getOobCode`,ds,`EMAIL_PASSWORD_PROVIDER`)}async function qs(e,t,n){if(Bi(e.app))return Promise.reject(ya(e));let r=Fo(e),i=await Yo(r,{returnSecureToken:!0,email:t,password:n,clientType:`CLIENT_TYPE_WEB`},`signUpPassword`,Ps,`EMAIL_PASSWORD_PROVIDER`).catch(t=>{throw t.code===`auth/password-does-not-meet-requirements`&&Gs(e),t}),a=await Fs._fromIdTokenResponse(r,`signIn`,i);return await r._updateCurrentUser(a.user),a}function Js(e,t,n){return Bi(e.app)?Promise.reject(ya(e)):Hs(_r(e),Ds.credential(t,n)).catch(async t=>{throw t.code===`auth/password-does-not-meet-requirements`&&Gs(e),t})}function Ys(e,t){return Xs(_r(e),null,t)}async function Xs(e,t,n){let{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);let a=await Za(e,ss(r,i));await e._updateTokensIfNecessary(a,!0)}function Zs(e,t,n,r){return _r(e).onIdTokenChanged(t,n,r)}function Qs(e,t,n){return _r(e).beforeAuthStateChanged(t,n)}function $s(e,t,n,r){return _r(e).onAuthStateChanged(t,n,r)}function ec(e){return _r(e).signOut()}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function tc(e,t){return Fa(e,`POST`,`/v2/accounts/mfaEnrollment:start`,Pa(e,t))}function nc(e,t){return Fa(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,Pa(e,t))}function rc(e,t){return Fa(e,`POST`,`/v2/accounts/mfaEnrollment:start`,Pa(e,t))}function ic(e,t){return Fa(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,Pa(e,t))}var ac=`__sak`,oc=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ac,`1`),this.storage.removeItem(ac),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}},sc=1e3,cc=10,lc=class extends oc{constructor(){super(()=>window.localStorage,`LOCAL`),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Oo(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);!t&&this.localCache[n]===e||this.notifyListeners(n,e)},i=this.storage.getItem(n);Do()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,cc):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent(`storage`,{key:e,oldValue:t,newValue:n}),!0)})},sc)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}attachListener(){window.addEventListener(`storage`,this.boundEventHandler)}detachListener(){window.removeEventListener(`storage`,this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};lc.type=`LOCAL`;var uc=lc,dc=1e3;function fc(e){let t=e.replace(/[\\^$.*+?()[\]{}|]/g,`\\$&`),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function pc(e){return`${window.location.protocol===`http:`?`__dev_`:`__HOST-`}FIREBASE_${e.split(`:`)[3]}`}var mc=class{constructor(){this.type=`COOKIE`,this.listenerUnsubscribes=new Map}_getFinalTarget(e){let t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set(`finalTarget`,e),t}async _isAvailable(){return typeof isSecureContext==`boolean`&&!isSecureContext||typeof navigator>`u`||typeof document>`u`?!1:navigator.cookieEnabled??!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;let t=pc(e);return window.cookieStore?(await window.cookieStore.get(t))?.value:fc(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;let t=pc(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch(`/__cookies__`,{method:`DELETE`}).catch(()=>void 0)}_addListener(e,t){if(!this._isAvailable())return;let n=pc(e);if(window.cookieStore){let e=(e=>{let r=e.changed.find(e=>e.name===n);r&&t(r.value),e.deleted.find(e=>e.name===n)&&t(null)});return this.listenerUnsubscribes.set(t,()=>window.cookieStore.removeEventListener(`change`,e)),window.cookieStore.addEventListener(`change`,e)}let r=fc(n),i=setInterval(()=>{let e=fc(n);e!==r&&(t(e),r=e)},dc);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){let n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}};mc.type=`COOKIE`;
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var hc=class extends oc{constructor(){super(()=>window.sessionStorage,`SESSION`)}_addListener(e,t){}_removeListener(e,t){}};hc.type=`SESSION`;var gc=hc;
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function _c(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var vc=class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;let r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!a?.size)return;t.ports[0].postMessage({status:`ack`,eventId:n,eventType:r});let o=Array.from(a).map(async e=>e(t.origin,i)),s=await _c(o);t.ports[0].postMessage({status:`done`,eventId:n,eventType:r,response:s})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener(`message`,this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener(`message`,this.boundEventHandler)}};vc.receivers=[];
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function yc(e=``,t=10){let n=``;for(let e=0;e<t;e++)n+=Math.floor(Math.random()*10);return e+n}
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var bc=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener(`message`,e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r=typeof MessageChannel<`u`?new MessageChannel:null;if(!r)throw Error(`connection_unavailable`);let i,a;return new Promise((o,s)=>{let c=yc(``,20);r.port1.start();let l=setTimeout(()=>{s(Error(`unsupported_event`))},n);a={messageChannel:r,onMessage(e){let t=e;if(t.data.eventId===c)switch(t.data.status){case`ack`:clearTimeout(l),i=setTimeout(()=>{s(Error(`timeout`))},3e3);break;case`done`:clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),s(Error(`invalid_response`));break}}},this.handlers.add(a),r.port1.addEventListener(`message`,a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function xc(){return window}function Sc(e){xc().location.href=e}
/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Cc(){return xc().WorkerGlobalScope!==void 0&&typeof xc().importScripts==`function`}async function wc(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Tc(){return navigator?.serviceWorker?.controller||null}function Ec(){return Cc()?self:null}
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Dc=`firebaseLocalStorageDb`,Oc=1,kc=`firebaseLocalStorage`,Ac=`fbase_key`,jc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener(`success`,()=>{e(this.request.result)}),this.request.addEventListener(`error`,()=>{t(this.request.error)})})}};function Mc(e,t){return e.transaction([kc],t?`readwrite`:`readonly`).objectStore(kc)}function Nc(){let e=indexedDB.deleteDatabase(Dc);return new jc(e).toPromise()}function Pc(){let e=indexedDB.open(Dc,Oc);return new Promise((t,n)=>{e.addEventListener(`error`,()=>{n(e.error)}),e.addEventListener(`upgradeneeded`,()=>{let t=e.result;try{t.createObjectStore(kc,{keyPath:Ac})}catch(e){n(e)}}),e.addEventListener(`success`,async()=>{let n=e.result;n.objectStoreNames.contains(kc)?t(n):(n.close(),await Nc(),t(await Pc()))})})}async function Fc(e,t,n){let r=Mc(e,!0).put({[Ac]:t,value:n});return new jc(r).toPromise()}async function Ic(e,t){let n=Mc(e,!1).get(t),r=await new jc(n).toPromise();return r===void 0?null:r.value}function Lc(e,t){let n=Mc(e,!0).delete(t);return new jc(n).toPromise()}var Rc=800,zc=3,Bc=class{constructor(){this.type=`LOCAL`,this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||=await Pc(),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>zc)throw e;this.db&&=(this.db.close(),void 0)}}async initializeServiceWorkerMessaging(){return Cc()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vc._getInstance(Ec()),this.receiver._subscribe(`keyChanged`,async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe(`ping`,async(e,t)=>[`keyChanged`])}async initializeSender(){if(this.activeServiceWorker=await wc(),!this.activeServiceWorker)return;this.sender=new bc(this.activeServiceWorker);let e=await this.sender._send(`ping`,{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes(`keyChanged`)&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Tc()!==this.activeServiceWorker))try{await this.sender._send(`keyChanged`,{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await Pc();return await Fc(e,ac,`1`),await Lc(e,ac),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fc(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>Ic(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Lc(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>{let t=Mc(e,!1).getAll();return new jc(t).toPromise()});if(!e||this.pendingWrites!==0)return[];let t=[],n=new Set;if(e.length!==0)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Rc)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};Bc.type=`LOCAL`;var Vc=Bc;
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function U(e,t){return Fa(e,`POST`,`/v2/accounts/mfaSignIn:start`,Pa(e,t))}function Hc(e,t){return Fa(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,Pa(e,t))}function Uc(e,t){return Fa(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,Pa(e,t))}Ho(`rcb`),new Oa(3e4,6e4);
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Wc=`recaptcha`;async function Gc(e,t,n){if(!e._getRecaptchaConfig())try{await Xo(e)}catch{console.log(`Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.`)}try{let r;if(r=typeof t==`string`?{phoneNumber:t}:t,`session`in r){let t=r.session;if(`phoneNumber`in r){V(t.type===`enroll`,e,`internal-error`);let i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`}};return(await Yo(e,i,`mfaSmsEnrollment`,async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ko){V(n?.type===Wc,e,`argument-error`);let r=await Kc(e,t,n);return tc(e,r)}return tc(e,t)},`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}else{V(t.type===`signin`,e,`internal-error`);let i=r.multiFactorHint?.uid||r.multiFactorUid;V(i,e,`missing-multi-factor-info`);let a={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:`CLIENT_TYPE_WEB`}};return(await Yo(e,a,`mfaSmsSignIn`,async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ko){V(n?.type===Wc,e,`argument-error`);let r=await Kc(e,t,n);return U(e,r)}return U(e,t)},`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}else{let t={phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`};return(await Yo(e,t,`sendVerificationCode`,async(e,t)=>{if(t.captchaResponse===Ko){V(n?.type===Wc,e,`argument-error`);let r=await Kc(e,t,n);return vs(e,r)}return vs(e,t)},`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).sessionInfo}}finally{n?._reset()}}async function Kc(e,t,n){V(n.type===Wc,e,`argument-error`);let r=await n.verify();V(typeof r==`string`,e,`argument-error`);let i={...t};if(`phoneEnrollmentInfo`in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}else if(`phoneSignInInfo`in i){let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}else return Object.assign(i,{recaptchaToken:r}),i}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var qc=class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=Fo(t)}verifyPhoneNumber(e,t){return Gc(this.auth,e,_r(t))}static credential(e,t){return Cs._fromVerification(e,t)}static credentialFromResult(t){let n=t;return e.credentialFromTaggedObject(n)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?Cs._fromTokenResponse(t,n):null}};qc.PROVIDER_ID=`phone`,qc.PHONE_SIGN_IN_METHOD=`phone`;
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Jc(e,t){return t?fo(t):(V(e._popupRedirectResolver,e,`argument-error`),e._popupRedirectResolver)}
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Yc=class extends os{constructor(e){super(`custom`,`custom`),this.params=e}_getIdTokenResponse(e){return hs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hs(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Xc(e){return Vs(e.auth,new Yc(e),e.bypassAuthState)}function Zc(e){let{auth:t,user:n}=e;return V(n,t,`internal-error`),Bs(n,new Yc(e),e.bypassAuthState)}async function Qc(e){let{auth:t,user:n}=e;return V(n,t,`internal-error`),zs(n,new Yc(e),e.bypassAuthState)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var $c=class{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}let s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case`signInViaPopup`:case`signInViaRedirect`:return Xc;case`linkViaPopup`:case`linkViaRedirect`:return Qc;case`reauthViaPopup`:case`reauthViaRedirect`:return Zc;default:ga(this.auth,`internal-error`)}}resolve(e){Sa(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sa(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}},el=new Oa(2e3,1e4),tl=class e extends $c{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return V(e,this.auth,`internal-error`),e}async onExecution(){Sa(this.filter.length===1,`Popup operations only handle one event`);let e=yc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(_a(this.auth,`web-storage-unsupported`))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_a(this.auth,`cancelled-popup-request`))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_a(this.auth,`popup-closed-by-user`))},8e3);return}this.pollId=window.setTimeout(e,el.get())};e()}};tl.currentPopupAction=null;
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var nl=`pendingRedirect`,rl=new Map,il=class extends $c{constructor(e,t,n=!1){super(e,[`signInViaRedirect`,`linkViaRedirect`,`reauthViaRedirect`,`unknown`],t,void 0,n),this.eventId=null}async execute(){let e=rl.get(this.auth._key());if(!e){try{let t=await al(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}rl.set(this.auth._key(),e)}return this.bypassAuthState||rl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type===`signInViaRedirect`)return super.onAuthEvent(e);if(e.type===`unknown`){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function al(e,t){let n=cl(t),r=sl(e);if(!await r._isAvailable())return!1;let i=await r._get(n)===`true`;return await r._remove(n),i}function ol(e,t){rl.set(e._key(),t)}function sl(e){return fo(e._redirectPersistence)}function cl(e){return ho(nl,e.config.apiKey,e.name)}async function ll(e,t,n=!1){if(Bi(e.app))return Promise.reject(ya(e));let r=Fo(e),i=Jc(r,t),a=await new il(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var ul=600*1e3,dl=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ml(e)?t:(this.hasHandledPotentialRedirect=!0,t||=(this.queuedRedirectEvent=e,!0),t)}sendToConsumer(e,t){if(e.error&&!pl(e)){let n=e.error.code?.split(`auth/`)[1]||`internal-error`;t.onError(_a(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ul&&this.cachedEventUids.clear(),this.cachedEventUids.has(fl(e))}saveEventToCache(e){this.cachedEventUids.add(fl(e)),this.lastProcessedEventTime=Date.now()}};function fl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join(`-`)}function pl({type:e,error:t}){return e===`unknown`&&t?.code===`auth/no-auth-event`}function ml(e){switch(e.type){case`signInViaRedirect`:case`linkViaRedirect`:case`reauthViaRedirect`:return!0;case`unknown`:return pl(e);default:return!1}}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function hl(e,t={}){return Fa(e,`GET`,`/v1/projects`,t)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var gl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_l=/^https?/;async function vl(e){if(e.config.emulator)return;let{authorizedDomains:t}=await hl(e);for(let e of t)try{if(yl(e))return}catch{}ga(e,`unauthorized-domain`)}function yl(e){let t=Ca(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith(`chrome-extension://`)){let i=new URL(e);return i.hostname===``&&r===``?n===`chrome-extension:`&&e.replace(`chrome-extension://`,``)===t.replace(`chrome-extension://`,``):n===`chrome-extension:`&&i.hostname===r}if(!_l.test(n))return!1;if(gl.test(e))return r===e;let i=e.replace(/\./g,`\\.`);return RegExp(`^(.+\\.`+i+`|`+i+`)$`,`i`).test(r)}
/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var bl=new Oa(3e4,6e4);function xl(){let e=xc().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}function Sl(e){return new Promise((t,n)=>{function r(){xl(),gapi.load(`gapi.iframes`,{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xl(),n(_a(e,`network-request-failed`))},timeout:bl.get()})}if(xc().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(xc().gapi?.load)r();else{let t=Ho(`iframefcb`);return xc()[t]=()=>{gapi.load?r():n(_a(e,`network-request-failed`))},zo(`${Vo()}?onload=${t}`).catch(e=>n(e))}}).catch(e=>{throw Cl=null,e})}var Cl=null;function wl(e){return Cl||=Sl(e),Cl}
/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Tl=new Oa(5e3,15e3),El=`__/auth/iframe`,Dl=`emulator/auth/iframe`,Ol={style:{position:`absolute`,top:`-100px`,width:`1px`,height:`1px`},"aria-hidden":`true`,tabindex:`-1`},kl=new Map([[`identitytoolkit.googleapis.com`,`p`],[`staging-identitytoolkit.sandbox.googleapis.com`,`s`],[`test-identitytoolkit.sandbox.googleapis.com`,`t`]]);function Al(e){let t=e.config;V(t.authDomain,e,`auth-domain-config-required`);let n=t.emulator?ka(t,Dl):`https://${e.config.authDomain}/${El}`,r={apiKey:t.apiKey,appName:e.name,v:Ui},i=kl.get(e.config.apiHost);i&&(r.eid=i);let a=e._getFrameworks();return a.length&&(r.fw=a.join(`,`)),`${n}?${ur(r).slice(1)}`}async function jl(e){let t=await wl(e),n=xc().gapi;return V(n,e,`internal-error`),t.open({where:document.body,url:Al(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ol,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=_a(e,`network-request-failed`),a=xc().setTimeout(()=>{r(i)},Tl.get());function o(){xc().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}
/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Ml={location:`yes`,resizable:`yes`,statusbar:`yes`,toolbar:`no`},Nl=500,Pl=600,Fl=`_blank`,Il=`http://localhost`,Ll=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Rl(e,t,n,r=Nl,i=Pl){let a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s=``,c={...Ml,width:r.toString(),height:i.toString(),top:a,left:o},l=Kn().toLowerCase();n&&(s=bo(l)?Fl:n),vo(l)&&(t||=Il,c.scrollbars=`yes`);let u=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,``);if(Eo(l)&&s!==`_self`)return zl(t||``,s),new Ll(null);let d=window.open(t||``,s,u);V(d,e,`popup-blocked`);try{d.focus()}catch{}return new Ll(d)}function zl(e,t){let n=document.createElement(`a`);n.href=e,n.target=t;let r=document.createEvent(`MouseEvent`);r.initMouseEvent(`click`,!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Bl=`__/auth/handler`,Vl=`emulator/auth/handler`,Hl=`fac`;async function Ul(e,t,n,r,i,a){V(e.config.authDomain,e,`auth-domain-config-required`),V(e.config.apiKey,e,`invalid-api-key`);let o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ui,eventId:i};if(t instanceof Os){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||``,sr(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof ks){let e=t.getScopes().filter(e=>e!==``);e.length>0&&(o.scopes=e.join(`,`))}e.tenantId&&(o.tid=e.tenantId);let s=o;for(let e of Object.keys(s))s[e]===void 0&&delete s[e];let c=await e._getAppCheckToken(),l=c?`#${Hl}=${encodeURIComponent(c)}`:``;return`${Wl(e)}?${ur(s).slice(1)}${l}`}function Wl({config:e}){return e.emulator?ka(e,Vl):`https://${e.authDomain}/${Bl}`}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Gl=`webStorageSupport`,Kl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gc,this._completeRedirectFn=ll,this._overrideRedirectResult=ol}async _openPopup(e,t,n,r){Sa(this.eventManagers[e._key()]?.manager,`_initialize() not called before _openPopup()`);let i=await Ul(e,t,n,Ca(),r);return Rl(e,i,yc())}async _openRedirect(e,t,n,r){await this._originValidation(e);let i=await Ul(e,t,n,Ca(),r);return Sc(i),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Sa(n,`If manager is not set, promise should be`),n)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){let t=await jl(e),n=new dl(e);return t.register(`authEvent`,t=>(V(t?.authEvent,e,`invalid-auth-event`),{status:n.onEvent(t.authEvent)?`ACK`:`ERROR`}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gl,{type:Gl},n=>{let r=n?.[0]?.[Gl];r!==void 0&&t(!!r),ga(e,`internal-error`)},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vl(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Oo()||yo()||To()}},ql=class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case`enroll`:return this._finalizeEnroll(e,t.credential,n);case`signin`:return this._finalizeSignIn(e,t.credential);default:return xa(`unexpected MultiFactorSessionType`)}}},Jl=class e extends ql{constructor(e){super(`phone`),this.credential=e}static _fromCredential(t){return new e(t)}_finalizeEnroll(e,t,n){return nc(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Hc(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},Yl=class{constructor(){}static assertion(e){return Jl._fromCredential(e)}};Yl.FACTOR_ID=`phone`;var Xl=class{static assertionForEnrollment(e,t){return Zl._fromSecret(e,t)}static assertionForSignIn(e,t){return Zl._fromEnrollmentId(e,t)}static async generateSecret(e){let t=e;V(t.user?.auth!==void 0,`internal-error`);let n=await rc(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return Ql._fromStartTotpMfaEnrollmentResponse(n,t.user.auth)}};Xl.FACTOR_ID=`totp`;var Zl=class e extends ql{constructor(e,t,n){super(`totp`),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(t,n){return new e(n,void 0,t)}static _fromEnrollmentId(t,n){return new e(n,t)}async _finalizeEnroll(e,t,n){return V(this.secret!==void 0,e,`argument-error`),ic(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){V(this.enrollmentId!==void 0&&this.otp!==void 0,e,`argument-error`);let n={verificationCode:this.otp};return Uc(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}},Ql=class e{constructor(e,t,n,r,i,a,o){this.sessionInfo=a,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let n=!1;return($l(e)||$l(t))&&(n=!0),n&&($l(e)&&(e=this.auth.currentUser?.email||`unknownuser`),$l(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};function $l(e){return e===void 0||e?.length===0}var eu=`@firebase/auth`,tu=`1.11.1`,nu=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,`dependent-sdk-initialized-before-auth`)}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function ru(e){switch(e){case`Node`:return`node`;case`ReactNative`:return`rn`;case`Worker`:return`webworker`;case`Cordova`:return`cordova`;case`WebExtension`:return`web-extension`;default:return}}function iu(e){Ri(new vr(`auth`,(t,{options:n})=>{let r=t.getProvider(`app`).getImmediate(),i=t.getProvider(`heartbeat`),a=t.getProvider(`app-check-internal`),{apiKey:o,authDomain:s}=r.options;V(o&&!o.includes(`:`),`invalid-api-key`,{appName:r.name});let c={apiKey:o,authDomain:s,clientPlatform:e,apiHost:`identitytoolkit.googleapis.com`,tokenApiHost:`securetoken.googleapis.com`,apiScheme:`https`,sdkClientVersion:ko(e)},l=new Po(r,i,a,c);return Qo(l,n),l},`PUBLIC`).setInstantiationMode(`EXPLICIT`).setInstanceCreatedCallback((e,t,n)=>{e.getProvider(`auth-internal`).initialize()})),Ri(new vr(`auth-internal`,e=>(e=>new nu(e))(Fo(e.getProvider(`auth`).getImmediate())),`PRIVATE`).setInstantiationMode(`EXPLICIT`)),Ki(eu,tu,ru(e)),Ki(eu,tu,`esm2020`)}var au=In(`authIdTokenMaxAge`)||300,ou=null,su=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>au)return;let i=n?.token;ou!==i&&(ou=i,await fetch(e,{method:i?`POST`:`DELETE`,headers:i?{Authorization:`Bearer ${i}`}:{}}))};function cu(e=Gi()){let t=zi(e,`auth`);if(t.isInitialized())return t.getImmediate();let n=Zo(e,{popupRedirectResolver:Kl,persistence:[Vc,uc,gc]}),r=In(`authTokenSyncURL`);if(r&&typeof isSecureContext==`boolean`&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){let t=su(e.toString());Qs(n,t,()=>t(n.currentUser)),Zs(n,e=>t(e))}}let i=Nn(`auth`);return i&&$o(n,`http://${i}`),n}function lu(){return document.getElementsByTagName(`head`)?.[0]??document}Ro({loadJS(e){return new Promise((t,n)=>{let r=document.createElement(`script`);r.setAttribute(`src`,e),r.onload=t,r.onerror=e=>{let t=_a(`internal-error`);t.customData=e,n(t)},r.type=`text/javascript`,r.charset=`UTF-8`,lu().appendChild(r)})},gapiScript:`https://apis.google.com/js/api.js`,recaptchaV2Script:`https://www.google.com/recaptcha/api.js`,recaptchaEnterpriseScript:`https://www.google.com/recaptcha/enterprise.js?render=`}),iu(`Browser`);var uu=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},du={},fu,pu;(function(){var e;function t(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(e,t,n){n||=0;let r=Array(16);if(typeof t==`string`)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a=e.g[3],o;o=t+(a^n&(i^a))+r[0]+3614090360&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[1]+3905402710&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[2]+606105819&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[5]+1200080426&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[6]+2821735955&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[9]+2336552879&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[10]+4294925233&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[13]+4254626195&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[14]+2792965006&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^a&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[6]+3225465664&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[11]+643717713&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[10]+38016083&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[15]+3634488961&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[14]+3275163606&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[3]+4107603335&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[2]+4243563512&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[7]+1735328473&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^a)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[8]+2272392833&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[11]+1839030562&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[4]+1272893353&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[7]+4139469664&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[0]+3936430074&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[3]+3572445317&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[12]+3873151461&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[15]+530742520&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~a))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[7]+1126891415&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[14]+2878612391&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[3]+2399980690&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[10]+4293915773&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[15]+4264355552&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[6]+2734768916&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[11]+3174756917&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[2]+718787259&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}r.prototype.v=function(e,t){t===void 0&&(t=e.length);let n=t-this.blockSize,r=this.C,a=this.h,o=0;for(;o<t;){if(a==0)for(;o<=n;)i(this,e,o),o+=this.blockSize;if(typeof e==`string`){for(;o<t;)if(r[a++]=e.charCodeAt(o++),a==this.blockSize){i(this,r),a=0;break}}else for(;o<t;)if(r[a++]=e[o++],a==this.blockSize){i(this,r),a=0;break}}this.h=a,this.o+=t},r.prototype.A=function(){var e=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=this.o*8;for(var n=e.length-8;n<e.length;++n)e[n]=t&255,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};function a(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function o(e,t){this.h=t;let n=[],r=!0;for(let i=e.length-1;i>=0;i--){let a=e[i]|0;r&&a==t||(n[i]=a,r=!1)}this.g=n}var s={};function c(e){return-128<=e&&e<128?a(e,function(e){return new o([e|0],e<0?-1:0)}):new o([e|0],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return d;if(e<0)return g(l(-e));let t=[],n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}function u(e,t){if(e.length==0)throw Error(`number format error: empty string`);if(t||=10,t<2||36<t)throw Error(`radix out of range: `+t);if(e.charAt(0)==`-`)return g(u(e.substring(1),t));if(e.indexOf(`-`)>=0)throw Error(`number format error: interior "-" character`);let n=l(t**8),r=d;for(let a=0;a<e.length;a+=8){var i=Math.min(8,e.length-a);let o=parseInt(e.substring(a,a+i),t);i<8?(i=l(t**+i),r=r.j(i).add(l(o))):(r=r.j(n),r=r.add(l(o)))}return r}var d=c(0),f=c(1),p=c(16777216);e=o.prototype,e.m=function(){if(h(this))return-g(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){let r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(e||=10,e<2||36<e)throw Error(`radix out of range: `+e);if(m(this))return`0`;if(h(this))return`-`+g(this).toString(e);let t=l(e**6);var n=this;let r=``;for(;;){let i=b(n,t).g;n=_(n,i.j(t));let a=((n.g.length>0?n.g[0]:n.h)>>>0).toString(e);if(n=i,m(n))return a+r;for(;a.length<6;)a=`0`+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h};function m(e){if(e.h!=0)return!1;for(let t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function h(e){return e.h==-1}e.l=function(e){return e=_(this,e),h(e)?-1:m(e)?0:1};function g(e){let t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(f)}e.abs=function(){return h(this)?g(this):this},e.add=function(e){let t=Math.max(this.g.length,e.g.length),n=[],r=0;for(let i=0;i<=t;i++){let t=r+(this.i(i)&65535)+(e.i(i)&65535),a=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=a>>>16,t&=65535,a&=65535,n[i]=a<<16|t}return new o(n,n[n.length-1]&-2147483648?-1:0)};function _(e,t){return e.add(g(t))}e.j=function(e){if(m(this)||m(e))return d;if(h(this))return h(e)?g(this).j(g(e)):g(g(this).j(e));if(h(e))return g(this.j(g(e)));if(this.l(p)<0&&e.l(p)<0)return l(this.m()*e.m());let t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){let i=this.i(r)>>>16,a=this.i(r)&65535,o=e.i(t)>>>16,s=e.i(t)&65535;n[2*r+2*t]+=a*s,v(n,2*r+2*t),n[2*r+2*t+1]+=i*s,v(n,2*r+2*t+1),n[2*r+2*t+1]+=a*o,v(n,2*r+2*t+1),n[2*r+2*t+2]+=i*o,v(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new o(n,0)};function v(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(m(t))throw Error(`division by zero`);if(m(e))return new y(d,d);if(h(e))return t=b(g(e),t),new y(g(t.g),g(t.h));if(h(t))return t=b(e,g(t)),new y(g(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error(`slowDivide_ only works with positive integers.`);for(var n=f,r=t;r.l(e)<=0;)n=x(n),r=x(r);var i=S(n,1),a=S(r,1);for(r=S(r,2),n=S(n,2);!m(r);){var o=a.add(r);o.l(e)<=0&&(i=i.add(n),a=o),r=S(r,1),n=S(n,1)}return t=_(e,i.j(t)),new y(i,t)}for(i=d;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=Math.ceil(Math.log(n)/Math.LN2),r=r<=48?1:2**(r-48),a=l(n),o=a.j(t);h(o)||o.l(e)>0;)n-=r,a=l(n),o=a.j(t);m(a)&&(a=f),i=i.add(a),e=_(e,o)}return new y(i,e)}e.B=function(e){return b(this,e).h},e.and=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)};function x(e){let t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function S(e,t){let n=t>>5;t%=32;let r=e.g.length-n,i=[];for(let a=0;a<r;a++)i[a]=t>0?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new o(i,e.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,pu=du.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,fu=du.Integer=o}).apply(uu===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:uu);var mu=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},hu={},gu,_u,vu,yu,bu,xu,Su,Cu;(function(){var e,t=Object.defineProperty;function n(e){e=[typeof globalThis==`object`&&globalThis,e,typeof window==`object`&&window,typeof self==`object`&&self,typeof mu==`object`&&mu];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error(`Cannot find global object`)}var r=n(this);function i(e,n){if(n)a:{var i=r;e=e.split(`.`);for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break a;i=i[o]}e=e[e.length-1],a=i[e],n=n(a),n!=a&&n!=null&&t(i,e,{configurable:!0,writable:!0,value:n})}}i(`Symbol.dispose`,function(e){return e||Symbol(`Symbol.dispose`)}),i(`Array.prototype.values`,function(e){return e||function(){return this[Symbol.iterator]()}}),i(`Object.entries`,function(e){return e||function(e){var t=[],n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push([n,e[n]]);return t}});var a=a||{},o=this||self;function s(e){var t=typeof e;return t==`object`&&e!=null||t==`function`}function c(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return l=c,l.apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var f=typeof AsyncContext<`u`&&typeof AsyncContext.Snapshot==`function`?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function p(e){let t=e.length;if(t>0){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(let t=1;t<arguments.length;t++){let r=arguments[t];var n=typeof r;if(n=n==`object`?r?Array.isArray(r)?`array`:n:`null`:n,n==`array`||n==`object`&&typeof r.length==`number`){n=e.length||0;let t=r.length||0;e.length=n+t;for(let i=0;i<t;i++)e[n+i]=r[i]}else e.push(r)}}class h{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function g(e){o.setTimeout(()=>{throw e},0)}function _(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class v{constructor(){this.h=this.g=null}add(e,t){let n=y.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var y=new h(()=>new b,e=>e.reset());class b{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,S=!1,C=new v,w=()=>{let e=Promise.resolve(void 0);x=()=>{e.then(T)}};function T(){for(var e;e=_();){try{e.h.call(e.g)}catch(e){g(e)}var t=y;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}S=!1}function E(){this.u=this.u,this.C=this.C}E.prototype.u=!1,E.prototype.dispose=function(){this.u||(this.u=!0,this.N())},E.prototype[Symbol.dispose]=function(){this.dispose()},E.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},`passive`,{get:function(){e=!0}});try{let e=()=>{};o.addEventListener(`test`,e,t),o.removeEventListener(`test`,e,t)}catch{}return e}();function k(e){return/^[\s\xa0]*$/.test(e)}function A(e,t){D.call(this,e?e.type:``),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=``,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType=``,this.i=null,e&&this.init(e,t)}d(A,D),A.prototype.init=function(e,t){let n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget,t||(n==`mouseover`?t=e.fromElement:n==`mouseout`&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=r.clientX===void 0?r.pageX:r.clientX,this.clientY=r.clientY===void 0?r.pageY:r.clientY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX===void 0?e.pageX:e.clientX,this.clientY=e.clientY===void 0?e.pageY:e.clientY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||``,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&A.Z.h.call(this)},A.prototype.h=function(){A.Z.h.call(this);let e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var j=`closure_listenable_`+(Math.random()*1e6|0),M=0;function N(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++M,this.da=this.fa=!1}function ee(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function P(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function F(e,t){for(let n in e)t.call(void 0,e[n],n,e)}function I(e){let t={};for(let n in e)t[n]=e[n];return t}let te=`constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf`.split(` `);function ne(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<te.length;t++)n=te[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function re(e){this.src=e,this.g={},this.h=0}re.prototype.add=function(e,t,n,r,i){let a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);let o=L(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):(t=new N(t,this.src,a,!!r,i),t.fa=n,e.push(t)),t};function ie(e,t){let n=t.type;if(n in e.g){var r=e.g[n],i=Array.prototype.indexOf.call(r,t,void 0),a;(a=i>=0)&&Array.prototype.splice.call(r,i,1),a&&(ee(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function L(e,t,n,r){for(let i=0;i<e.length;++i){let a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}var R=`closure_lm_`+(Math.random()*1e6|0),ae={};function oe(e,t,n,r,i){if(r&&r.once)return le(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)oe(e,t[a],n,r,i);return null}return n=ge(n),e&&e[j]?e.J(t,n,s(r)?!!r.capture:!!r,i):se(e,t,n,!1,r,i)}function se(e,t,n,r,i,a){if(!t)throw Error(`Invalid event type`);let o=s(i)?!!i.capture:!!i,c=me(e);if(c||(e[R]=c=new re(e)),n=c.add(t,n,r,o,a),n.proxy)return n;if(r=ce(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)O||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(fe(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error(`addEventListener and attachEvent are unavailable.`);return n}function ce(){function e(n){return t.call(e.src,e.listener,n)}let t=pe;return e}function le(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)le(e,t[a],n,r,i);return null}return n=ge(n),e&&e[j]?e.K(t,n,s(r)?!!r.capture:!!r,i):se(e,t,n,!0,r,i)}function ue(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ue(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=ge(n),e&&e[j]?(e=e.i,a=String(t).toString(),a in e.g&&(t=e.g[a],n=L(t,n,r,i),n>-1&&(ee(t[n]),Array.prototype.splice.call(t,n,1),t.length==0&&(delete e.g[a],e.h--)))):(e&&=me(e))&&(t=e.g[t.toString()],e=-1,t&&(e=L(t,n,r,i)),(n=e>-1?t[e]:null)&&de(n))}function de(e){if(typeof e!=`number`&&e&&!e.da){var t=e.src;if(t&&t[j])ie(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(fe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=me(t))?(ie(n,e),n.h==0&&(n.src=null,t[R]=null)):ee(e)}}}function fe(e){return e in ae?ae[e]:ae[e]=`on`+e}function pe(e,t){if(e.da)e=!0;else{t=new A(t,this);let n=e.listener,r=e.ha||e.src;e.fa&&de(e),e=n.call(r,t)}return e}function me(e){return e=e[R],e instanceof re?e:null}var he=`__closure_events_fn_`+(Math.random()*1e9>>>0);function ge(e){return typeof e==`function`?e:(e[he]||(e[he]=function(t){return e.handleEvent(t)}),e[he])}function _e(){E.call(this),this.i=new re(this),this.M=this,this.G=null}d(_e,E),_e.prototype[j]=!0,_e.prototype.removeEventListener=function(e,t,n,r){ue(this,e,t,n,r)};function z(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,typeof t==`string`)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var i=t;t=new D(r,e),ne(t,i)}i=!0;let a,o;if(n)for(o=n.length-1;o>=0;o--)a=t.g=n[o],i=ve(a,r,!0,t)&&i;if(a=t.g=e,i=ve(a,r,!0,t)&&i,i=ve(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=ve(a,r,!1,t)&&i}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var e=this.i;for(let t in e.g){let n=e.g[t];for(let e=0;e<n.length;e++)ee(n[e]);delete e.g[t],e.h--}}this.G=null},_e.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},_e.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function ve(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){let o=t[a];if(o&&!o.da&&o.capture==n){let t=o.listener,n=o.ha||o.src;o.fa&&ie(e.i,o),i=t.call(n,r)!==!1&&i}}return i&&!r.defaultPrevented}function ye(e,t){if(typeof e!=`function`)if(e&&typeof e.handleEvent==`function`)e=l(e.handleEvent,e);else throw Error(`Invalid listener argument`);return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}function be(e){e.g=ye(()=>{e.g=null,e.i&&(e.i=!1,be(e))},e.l);let t=e.h;e.h=null,e.m.apply(null,t)}class xe extends E{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:be(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Se(e){E.call(this),this.h=e,this.g={}}d(Se,E);var Ce=[];function we(e){P(e.g,function(e,t){this.g.hasOwnProperty(t)&&de(e)},e),e.g={}}Se.prototype.N=function(){Se.Z.N.call(this),we(this)},Se.prototype.handleEvent=function(){throw Error(`EventHandler.handleEvent not implemented`)};var B=o.JSON.stringify,Te=o.JSON.parse,Ee=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function De(){}function Oe(){}var ke={OPEN:`a`,hb:`b`,ERROR:`c`,tb:`d`};function Ae(){D.call(this,`d`)}d(Ae,D);function je(){D.call(this,`c`)}d(je,D);var Me={},Ne=null;function Pe(){return Ne||=new _e}Me.Ia=`serverreachability`;function Fe(e){D.call(this,Me.Ia,e)}d(Fe,D);function Ie(e){let t=Pe();z(t,new Fe(t))}Me.STAT_EVENT=`statevent`;function Le(e,t){D.call(this,Me.STAT_EVENT,e),this.stat=t}d(Le,D);function Re(e){let t=Pe();z(t,new Le(t,e))}Me.Ja=`timingevent`;function ze(e,t){D.call(this,Me.Ja,e),this.size=t}d(ze,D);function Be(e,t){if(typeof e!=`function`)throw Error(`Fn must not be null and must be a function`);return o.setTimeout(function(){e()},t)}function Ve(){this.g=!0}Ve.prototype.ua=function(){this.g=!1};function He(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var o=``,s=a.split(`&`);for(let e=0;e<s.length;e++){var c=s[e].split(`=`);if(c.length>1){let e=c[0];c=c[1];let t=e.split(`_`);o=t.length>=2&&t[1]==`type`?o+(e+`=`+c+`&`):o+(e+`=redacted&`)}}}else o=null;else o=a;return`XMLHTTP REQ (`+r+`) [attempt `+i+`]: `+t+`
`+n+`
`+o})}function Ue(e,t,n,r,i,a,o){e.info(function(){return`XMLHTTP RESP (`+r+`) [ attempt `+i+`]: `+t+`
`+n+`
`+a+` `+o})}function We(e,t,n,r){e.info(function(){return`XMLHTTP TEXT (`+t+`): `+Ke(e,n)+(r?` `+r:``)})}function Ge(e,t){e.info(function(){return`TIMEOUT: `+t})}Ve.prototype.info=function(){};function Ke(e,t){if(!e.g)return t;if(!t)return null;try{let a=JSON.parse(t);if(a){for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if(i!=`noop`&&i!=`stop`&&i!=`close`)for(let e=1;e<r.length;e++)r[e]=``}}}}return B(a)}catch{return t}}var qe={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Je={ib:`complete`,Fb:`success`,ERROR:`error`,Ga:`abort`,xb:`ready`,yb:`readystatechange`,TIMEOUT:`timeout`,sb:`incrementaldata`,wb:`progress`,lb:`downloadprogress`,Nb:`uploadprogress`},Ye;function Xe(){}d(Xe,De),Xe.prototype.g=function(){return new XMLHttpRequest},Ye=new Xe;function Ze(e){return encodeURIComponent(String(e))}function Qe(e){var t=1;e=e.split(`:`);let n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(`:`)),n}function $e(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new Se(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new et}function et(){this.i=null,this.g=``,this.h=!1}var tt={},nt={};function rt(e,t,n){e.M=1,e.A=At(Tt(t)),e.u=n,e.R=!0,it(e,null)}function it(e,t){e.F=Date.now(),ct(e),e.B=Tt(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),Wt(n.i,`t`,r),e.C=0,n=e.j.L,e.h=new et,e.g=In(e.j,n?t:null,!e.u),e.P>0&&(e.O=new xe(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i=`readystatechange`;Array.isArray(i)||(i&&(Ce[0]=i.toString()),i=Ce);for(let e=0;e<i.length;e++){let a=oe(n,i[e],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.J?I(e.J):{},e.u?(e.v||=`POST`,t[`Content-Type`]=`application/x-www-form-urlencoded`,e.g.ea(e.B,e.v,e.u,t)):(e.v=`GET`,e.g.ea(e.B,e.v,null,t)),Ie(),He(e.i,e.v,e.B,e.l,e.S,e.u)}$e.prototype.ba=function(e){e=e.target;let t=this.O;t&&pn(e)==3?t.j():this.Y(e)},$e.prototype.Y=function(e){try{if(e==this.g)a:{let s=pn(this.g),c=this.g.ya(),l=this.g.ca();if(!(s<3)&&(s!=3||this.g&&(this.h.h||this.g.la()||mn(this.g)))){this.K||s!=4||c==7||Ie(c==8||l<=0?3:2),ut(this);var t=this.g.ca();this.X=t;var n=at(this);if(this.o=t==200,Ue(this.i,this.v,this.B,this.l,this.S,s,t),this.o){if(this.U&&!this.L){b:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader(`X-HTTP-Initial-Response`):null)&&!k(r)){var a=r;break b}}a=null}if(e=a)We(this.i,this.l,e,`Initial handshake response via X-HTTP-Initial-Response`),this.L=!0,pt(this,e);else{this.o=!1,this.m=3,Re(12),ft(this),dt(this);break a}}if(this.R){e=!0;let t;for(;!this.K&&this.C<n.length;)if(t=st(this,n),t==nt){s==4&&(this.m=4,Re(14),e=!1),We(this.i,this.l,null,`[Incomplete Response]`);break}else if(t==tt){this.m=4,Re(15),We(this.i,this.l,n,`[Invalid Chunk]`),e=!1;break}else We(this.i,this.l,t,null),pt(this,t);if(ot(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),s!=4||n.length!=0||this.h.h||(this.m=1,Re(16),e=!1),this.o=this.o&&e,!e)We(this.i,this.l,n,`[Invalid Chunked Response]`),ft(this),dt(this);else if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info(`Great, no buffering proxy detected. Bytes received: `+n.length),On(o),o.P=!0,Re(11))}}else We(this.i,this.l,n,null),pt(this,n);s==4&&ft(this),this.o&&!this.K&&(s==4?jn(this.j,this):(this.o=!1,ct(this)))}else hn(this.g),t==400&&n.indexOf(`Unknown SID`)>0?(this.m=3,Re(12)):(this.m=0,Re(13)),ft(this),dt(this)}}}catch{}};function at(e){if(!ot(e))return e.g.la();let t=mn(e.g);if(t===``)return``;let n=``,r=t.length,i=pn(e.g)==4;if(!e.h.i){if(typeof TextDecoder>`u`)return ft(e),dt(e),``;e.h.i=new o.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}function ot(e){return e.g?e.v==`GET`&&e.M!=2&&e.j.Aa:!1}function st(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?nt:(n=Number(t.substring(n,r)),isNaN(n)?tt:(r+=1,r+n>t.length?nt:(t=t.slice(r,r+n),e.C=r+n,t)))}$e.prototype.cancel=function(){this.K=!0,ft(this)};function ct(e){e.T=Date.now()+e.H,lt(e,e.H)}function lt(e,t){if(e.D!=null)throw Error(`WatchDog timer not null`);e.D=Be(l(e.aa,e),t)}function ut(e){e.D&&=(o.clearTimeout(e.D),null)}$e.prototype.aa=function(){this.D=null;let e=Date.now();e-this.T>=0?(Ge(this.i,this.B),this.M!=2&&(Ie(),Re(17)),ft(this),this.m=2,dt(this)):lt(this,this.T-e)};function dt(e){e.j.I==0||e.K||jn(e.j,e)}function ft(e){ut(e);var t=e.O;t&&typeof t.dispose==`function`&&t.dispose(),e.O=null,we(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function pt(e,t){try{var n=e.j;if(n.I!=0&&(n.g==e||vt(n.h,e))){if(!e.L&&vt(n.h,e)&&n.I==3){try{var r=n.Ba.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){a:if(!n.v){if(n.g)if(n.g.F+3e3<e.F)An(n),yn(n);else break a;Dn(n),Re(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&n.A==0&&!n.C&&(n.C=Be(l(n.Va,n),6e3));_t(n.h)<=1&&n.ta&&(n.ta=void 0)}else Nn(n,11)}else if((e.L||n.g==e)&&An(n),!k(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t],u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],n.I==2)if(l[0]==`c`){n.M=l[1],n.ba=l[2];let t=l[3];t!=null&&(n.ka=t,n.j.info(`VER=`+n.ka));let i=l[4];i!=null&&(n.za=i,n.j.info(`SVER=`+n.za));let u=l[5];u!=null&&typeof u==`number`&&u>0&&(r=1.5*u,n.O=r,n.j.info(`backChannelRequestTimeoutMs_=`+r)),r=n;let d=e.g;if(d){let e=d.g?d.g.getResponseHeader(`X-Client-Wire-Protocol`):null;if(e){var a=r.h;a.g||e.indexOf(`spdy`)==-1&&e.indexOf(`quic`)==-1&&e.indexOf(`h2`)==-1||(a.j=a.l,a.g=new Set,a.h&&=(yt(a,a.h),null))}if(r.G){let e=d.g?d.g.getResponseHeader(`X-HTTP-Session-Id`):null;e&&(r.wa=e,kt(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info(`Handshake RTT: `+n.T+`ms`)),r=n;var o=e;if(r.na=Fn(r,r.L?r.ba:null,r.W),o.L){bt(r.h,o);var s=o,c=r.O;c&&(s.H=c),s.D&&(ut(s),ct(s)),r.g=o}else En(r);n.i.length>0&&xn(n)}else l[0]!=`stop`&&l[0]!=`close`||Nn(n,7);else n.I==3&&(l[0]==`stop`||l[0]==`close`?l[0]==`stop`?Nn(n,7):vn(n):l[0]!=`noop`&&n.l&&n.l.qa(l),n.A=0)}}Ie(4)}catch{}}var mt=class{constructor(e,t){this.g=e,this.map=t}};function ht(e){this.l=e||10,o.PerformanceNavigationTiming?(e=o.performance.getEntriesByType(`navigation`),e=e.length>0&&(e[0].nextHopProtocol==`hq`||e[0].nextHopProtocol==`h2`)):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gt(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function _t(e){return e.h?1:e.g?e.g.size:0}function vt(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function yt(e,t){e.g?e.g.add(t):e.h=t}function bt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}ht.prototype.cancel=function(){if(this.i=xt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function xt(e){if(e.h!=null)return e.i.concat(e.h.G);if(e.g!=null&&e.g.size!==0){let t=e.i;for(let n of e.g.values())t=t.concat(n.G);return t}return p(e.i)}var St=RegExp(`^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$`);function Ct(e,t){if(e){e=e.split(`&`);for(let n=0;n<e.length;n++){let r=e[n].indexOf(`=`),i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g,` `)):``)}}}function wt(e){this.g=this.o=this.j=``,this.u=null,this.m=this.h=``,this.l=!1;let t;e instanceof wt?(this.l=e.l,Et(this,e.j),this.o=e.o,this.g=e.g,Dt(this,e.u),this.h=e.h,Ot(this,Gt(e.i)),this.m=e.m):e&&(t=String(e).match(St))?(this.l=!1,Et(this,t[1]||``,!0),this.o=jt(t[2]||``),this.g=jt(t[3]||``,!0),Dt(this,t[4]),this.h=jt(t[5]||``,!0),Ot(this,t[6]||``,!0),this.m=jt(t[7]||``)):(this.l=!1,this.i=new zt(null,this.l))}wt.prototype.toString=function(){let e=[];var t=this.j;t&&e.push(Mt(t,Pt,!0),`:`);var n=this.g;return(n||t==`file`)&&(e.push(`//`),(t=this.o)&&e.push(Mt(t,Pt,!0),`@`),e.push(Ze(n).replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),n=this.u,n!=null&&e.push(`:`,String(n))),(n=this.h)&&(this.g&&n.charAt(0)!=`/`&&e.push(`/`),e.push(Mt(n,n.charAt(0)==`/`?It:Ft,!0))),(n=this.i.toString())&&e.push(`?`,n),(n=this.m)&&e.push(`#`,Mt(n,Rt)),e.join(``)},wt.prototype.resolve=function(e){let t=Tt(this),n=!!e.j;n?Et(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=e.u!=null;var r=e.h;if(n)Dt(t,e.u);else if(n=!!e.h){if(r.charAt(0)!=`/`)if(this.g&&!this.h)r=`/`+r;else{var i=t.h.lastIndexOf(`/`);i!=-1&&(r=t.h.slice(0,i+1)+r)}if(i=r,i==`..`||i==`.`)r=``;else if(i.indexOf(`./`)!=-1||i.indexOf(`/.`)!=-1){r=i.lastIndexOf(`/`,0)==0,i=i.split(`/`);let e=[];for(let t=0;t<i.length;){let n=i[t++];n==`.`?r&&t==i.length&&e.push(``):n==`..`?((e.length>1||e.length==1&&e[0]!=``)&&e.pop(),r&&t==i.length&&e.push(``)):(e.push(n),r=!0)}r=e.join(`/`)}else r=i}return n?t.h=r:n=e.i.toString()!==``,n?Ot(t,Gt(e.i)):n=!!e.m,n&&(t.m=e.m),t};function Tt(e){return new wt(e)}function Et(e,t,n){e.j=n?jt(t,!0):t,e.j&&=e.j.replace(/:$/,``)}function Dt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error(`Bad port number `+t);e.u=t}else e.u=null}function Ot(e,t,n){t instanceof zt?(e.i=t,qt(e.i,e.l)):(n||(t=Mt(t,Lt)),e.i=new zt(t,e.l))}function kt(e,t,n){e.i.set(t,n)}function At(e){return kt(e,`zx`,Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),e}function jt(e,t){return e?t?decodeURI(e.replace(/%25/g,`%2525`)):decodeURIComponent(e):``}function Mt(e,t,n){return typeof e==`string`?(e=encodeURI(e).replace(t,Nt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),e):null}function Nt(e){return e=e.charCodeAt(0),`%`+(e>>4&15).toString(16)+(e&15).toString(16)}var Pt=/[#\/\?@]/g,Ft=/[#\?:]/g,It=/[#\?]/g,Lt=/[#\?@]/g,Rt=/#/g;function zt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Bt(e){e.g||(e.g=new Map,e.h=0,e.i&&Ct(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g,` `)),n)}))}e=zt.prototype,e.add=function(e,t){Bt(this),this.i=null,e=Kt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Vt(e,t){Bt(e),t=Kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ht(e,t){return Bt(e),t=Kt(e,t),e.g.has(t)}e.forEach=function(e,t){Bt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)};function Ut(e,t){Bt(e);let n=[];if(typeof t==`string`)Ht(e,t)&&(n=n.concat(e.g.get(Kt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}e.set=function(e,t){return Bt(this),this.i=null,e=Kt(this,e),Ht(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e?(e=Ut(this,e),e.length>0?String(e[0]):t):t};function Wt(e,t,n){Vt(e,t),n.length>0&&(e.i=null,e.g.set(Kt(e,t),p(n)),e.h+=n.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return``;let e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];let i=Ze(n);n=Ut(this,n);for(let t=0;t<n.length;t++){let r=i;n[t]!==``&&(r+=`=`+Ze(n[t])),e.push(r)}}return this.i=e.join(`&`)};function Gt(e){let t=new zt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function Kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function qt(e,t){t&&!e.j&&(Bt(e),e.i=null,e.g.forEach(function(e,t){let n=t.toLowerCase();t!=n&&(Vt(this,t),Wt(this,n,e))},e)),e.j=t}function Jt(e,t){let n=new Ve;if(o.Image){let r=new Image;r.onload=u(Xt,n,`TestLoadImage: loaded`,!0,t,r),r.onerror=u(Xt,n,`TestLoadImage: error`,!1,t,r),r.onabort=u(Xt,n,`TestLoadImage: abort`,!1,t,r),r.ontimeout=u(Xt,n,`TestLoadImage: timeout`,!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Yt(e,t){let n=new Ve,r=new AbortController,i=setTimeout(()=>{r.abort(),Xt(n,`TestPingServer: timeout`,!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?Xt(n,`TestPingServer: ok`,!0,t):Xt(n,`TestPingServer: server error`,!1,t)}).catch(()=>{clearTimeout(i),Xt(n,`TestPingServer: error`,!1,t)})}function Xt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch{}}function Zt(){this.g=new Ee}function Qt(e){this.i=e.Sb||null,this.h=e.ab||!1}d(Qt,De),Qt.prototype.g=function(){return new $t(this.i,this.h)};function $t(e,t){_e.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText=``,this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F=`GET`,this.D=``,this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d($t,_e),e=$t.prototype,e.open=function(e,t){if(this.readyState!=0)throw this.abort(),Error(`Error reopening a connection`);this.F=e,this.D=t,this.readyState=1,nn(this)},e.send=function(e){if(this.readyState!=1)throw this.abort(),Error(`need to call open() first. `);if(this.v.signal.aborted)throw this.abort(),Error(`Request was aborted.`);this.g=!0;let t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText=``,this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel(`Request was aborted.`).catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,tn(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,nn(this)),this.g&&(this.readyState=3,nn(this),this.g)))if(this.responseType===`arraybuffer`)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(o.ReadableStream!==void 0&&`body`in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error(`responseType must be empty for "streamBinaryChunks" mode responses.`);this.response=[]}else this.response=this.responseText=``,this.B=new TextDecoder;en(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))};function en(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array;(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tn(this):nn(this),this.readyState==3&&en(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,tn(this))},e.Na=function(e){this.g&&(this.response=e,tn(this))},e.ga=function(){this.g&&tn(this)};function tn(e){e.readyState=4,e.l=null,e.j=null,e.B=null,nn(e)}e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||``},e.getAllResponseHeaders=function(){if(!this.h)return``;let e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+`: `+n[1]),n=t.next();return e.join(`\r
`)};function nn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty($t.prototype,`withCredentials`,{get:function(){return this.m===`include`},set:function(e){this.m=e?`include`:`same-origin`}});function rn(e){let t=``;return P(e,function(e,n){t+=n,t+=`:`,t+=e,t+=`\r
`}),t}function an(e,t,n){a:{for(r in n){var r=!1;break a}r=!0}r||(n=rn(n),typeof e==`string`||kt(e,t,n))}function on(e){_e.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D=``,this.o=0,this.l=``,this.j=this.B=this.v=this.A=!1,this.m=null,this.F=``,this.H=!1}d(on,_e);var sn=/^https?$/i,cn=[`POST`,`PUT`];e=on.prototype,e.Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error(`[goog.net.XhrIo] Object is active with another request=`+this.D+`; newUri=`+e);t=t?t.toUpperCase():`GET`,this.D=e,this.l=``,this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ye.g(),this.g.onreadystatechange=f(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){ln(this,e);return}if(e=n||``,n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys==`function`&&typeof r.get==`function`)for(let e of r.keys())n.set(e,r.get(e));else throw Error(`Unknown input type for opt_headers: `+String(r));r=Array.from(n.keys()).find(e=>e.toLowerCase()==`content-type`),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(cn,t,void 0)>=0)||r||i||n.set(`Content-Type`,`application/x-www-form-urlencoded;charset=utf-8`);for(let[e,t]of n)this.g.setRequestHeader(e,t);this.F&&(this.g.responseType=this.F),`withCredentials`in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&=(clearTimeout(this.m),null),this.v=!0,this.g.send(e),this.v=!1}catch(e){ln(this,e)}};function ln(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,un(e),fn(e)}function un(e){e.A||(e.A=!0,z(e,`complete`),z(e,`error`))}e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,z(this,`complete`),z(this,`abort`),fn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fn(this,!0)),on.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?dn(this):this.Xa())},e.Xa=function(){dn(this)};function dn(e){if(e.h&&a!==void 0){if(e.v&&pn(e)==4)setTimeout(e.Ca.bind(e),0);else if(z(e,`readystatechange`),pn(e)==4){e.h=!1;try{let a=e.ca();a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break a;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){let t=String(e.D).match(St)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!sn.test(t?t.toLowerCase():``)}n=r}if(n)z(e,`complete`),z(e,`success`);else{e.o=6;try{var i=pn(e)>2?e.g.statusText:``}catch{i=``}e.l=i+` [`+e.ca()+`]`,un(e)}}finally{fn(e)}}}}function fn(e,t){if(e.g){e.m&&=(clearTimeout(e.m),null);let n=e.g;e.g=null,t||z(e,`ready`);try{n.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function pn(e){return e.g?e.g.readyState:0}e.ca=function(){try{return pn(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:``}catch{return``}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Te(t)}};function mn(e){try{if(!e.g)return null;if(`response`in e.g)return e.g.response;switch(e.F){case``:case`text`:return e.g.responseText;case`arraybuffer`:if(`mozResponseArrayBuffer`in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function hn(e){let t={};e=(e.g&&pn(e)>=2&&e.g.getAllResponseHeaders()||``).split(`\r
`);for(let r=0;r<e.length;r++){if(k(e[r]))continue;var n=Qe(e[r]);let i=n[0];if(n=n[1],typeof n!=`string`)continue;n=n.trim();let a=t[i]||[];t[i]=a,a.push(n)}F(t,function(e){return e.join(`, `)})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l==`string`?this.l:String(this.l)};function gn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function _n(e){this.za=0,this.i=[],this.j=new Ve,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gn(`failFast`,!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gn(`baseRetryDelayMs`,5e3,e),this.Za=gn(`retryDelaySeedMs`,1e4,e),this.Ta=gn(`forwardChannelMaxRetries`,2,e),this.va=gn(`forwardChannelRequestTimeoutMs`,2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M=``,this.h=new ht(e&&e.concurrentRequestLimit),this.Ba=new Zt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=_n.prototype,e.ka=8,e.I=1,e.connect=function(e,t,n,r){Re(0),this.W=e,this.H=t||{},n&&r!==void 0&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=Fn(this,null,this.W),xn(this)};function vn(e){if(bn(e),e.I==3){var t=e.V++,n=Tt(e.J);if(kt(n,`SID`,e.M),kt(n,`RID`,t),kt(n,`TYPE`,`terminate`),wn(e,n),t=new $e(e,e.j,t),t.M=2,t.A=At(Tt(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),``)}catch{}!n&&o.Image&&(new Image().src=t.A,n=!0),n||(t.g=In(t.j,null),t.g.ea(t.A)),t.F=Date.now(),ct(t)}Pn(e)}function yn(e){e.g&&=(On(e),e.g.cancel(),null)}function bn(e){yn(e),e.v&&=(o.clearTimeout(e.v),null),An(e),e.h.cancel(),e.m&&=(typeof e.m==`number`&&o.clearTimeout(e.m),null)}function xn(e){if(!gt(e.h)&&!e.m){e.m=!0;var t=e.Ea;x||w(),S||=(x(),!0),C.add(t,e),e.D=0}}function Sn(e,t){return _t(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.G.concat(e.i),!0):e.I==1||e.I==2||e.D>=(e.Sa?0:e.Ta)?!1:(e.m=Be(l(e.Ea,e,t),Mn(e,e.D)),e.D++,!0)}e.Ea=function(e){if(this.m)if(this.m=null,this.I==1){if(!e){this.V=Math.floor(Math.random()*1e5),e=this.V++;let i=new $e(this,this.j,e),a=this.o;if(this.U&&(a?(a=I(a),ne(a,this.U)):a=this.U),this.u!==null||this.R||(i.J=a,a=null),this.S)a:{for(var t=0,n=0;n<this.i.length;n++){b:{var r=this.i[n];if(`__data__`in r.map&&(r=r.map.__data__,typeof r==`string`)){r=r.length;break b}r=void 0}if(r===void 0)break;if(t+=r,t>4096){t=n;break a}if(t===4096||n===this.i.length-1){t=n+1;break a}}t=1e3}else t=1e3;t=Tn(this,i,t),n=Tt(this.J),kt(n,`RID`,e),kt(n,`CVER`,22),this.G&&kt(n,`X-HTTP-Session-Id`,this.G),wn(this,n),a&&(this.R?t=`headers=`+Ze(rn(a))+`&`+t:this.u&&an(n,this.u,a)),yt(this.h,i),this.Ra&&kt(n,`TYPE`,`init`),this.S?(kt(n,`$req`,t),kt(n,`SID`,`null`),i.U=!0,rt(i,n,null)):rt(i,n,t),this.I=2}}else this.I==3&&(e?Cn(this,e):this.i.length==0||gt(this.h)||Cn(this))};function Cn(e,t){var n=t?t.l:e.V++;let r=Tt(e.J);kt(r,`SID`,e.M),kt(r,`RID`,n),kt(r,`AID`,e.K),wn(e,r),e.u&&e.o&&an(r,e.u,e.o),n=new $e(e,e.j,n,e.D+1),e.u===null&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Tn(e,n,1e3),n.H=Math.round(e.va*.5)+Math.round(e.va*.5*Math.random()),yt(e.h,n),rt(n,r,t)}function wn(e,t){e.H&&P(e.H,function(e,n){kt(t,n,e)}),e.l&&P({},function(e,n){kt(t,n,e)})}function Tn(e,t,n){n=Math.min(e.i.length,n);let r=e.l?l(e.l.Ka,e.l,e):null;a:{var i=e.i;let t=-1;for(;;){let e=[`count=`+n];t==-1?n>0?(t=i[0].g,e.push(`ofs=`+t)):t=0:e.push(`ofs=`+t);let c=!0;for(let l=0;l<n;l++){var a=i[l].g;let n=i[l].map;if(a-=t,a<0)t=Math.max(0,i[l].g-100),c=!1;else try{a=`req`+a+`_`||``;try{var o=n instanceof Map?n:Object.entries(n);for(let[t,n]of o){let r=n;s(n)&&(r=B(n)),e.push(a+t+`=`+encodeURIComponent(r))}}catch(t){throw e.push(a+`type=_badmap`),t}}catch{r&&r(n)}}if(c){o=e.join(`&`);break a}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function En(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;x||w(),S||=(x(),!0),C.add(t,e),e.A=0}}function Dn(e){return e.g||e.v||e.A>=3?!1:(e.Y++,e.v=Be(l(e.Da,e),Mn(e,e.A)),e.A++,!0)}e.Da=function(){if(this.v=null,kn(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var e=4*this.T;this.j.info(`BP detection timer enabled: `+e),this.B=Be(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info(`BP detection timeout reached.`),this.j.info(`Buffering proxy detected and switch to long-polling!`),this.F=!1,this.P=!0,Re(10),yn(this),kn(this))};function On(e){e.B!=null&&(o.clearTimeout(e.B),e.B=null)}function kn(e){e.g=new $e(e,e.j,`rpc`,e.Y),e.u===null&&(e.g.J=e.o),e.g.P=0;var t=Tt(e.na);kt(t,`RID`,`rpc`),kt(t,`SID`,e.M),kt(t,`AID`,e.K),kt(t,`CI`,e.F?`0`:`1`),!e.F&&e.ia&&kt(t,`TO`,e.ia),kt(t,`TYPE`,`xmlhttp`),wn(e,t),e.u&&e.o&&an(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=At(Tt(t)),n.u=null,n.R=!0,it(n,e)}e.Va=function(){this.C!=null&&(this.C=null,yn(this),Dn(this),Re(19))};function An(e){e.C!=null&&(o.clearTimeout(e.C),e.C=null)}function jn(e,t){var n=null;if(e.g==t){An(e),On(e),e.g=null;var r=2}else if(vt(e.h,t))n=t.G,bt(e.h,t),r=1;else return;if(e.I!=0){if(t.o)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;r=Pe(),z(r,new ze(r,n)),xn(e)}else En(e);else if(i=t.m,i==3||i==0&&t.X>0||!(r==1&&Sn(e,t)||r==2&&Dn(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Nn(e,5);break;case 4:Nn(e,10);break;case 3:Nn(e,6);break;default:Nn(e,2)}}}function Mn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function Nn(e,t){if(e.j.info(`Error code `+t),t==2){var n=l(e.bb,e),r=e.Ua;let t=!r;r=new wt(r||`//www.google.com/images/cleardot.gif`),o.location&&o.location.protocol==`http`||Et(r,`https`),At(r),t?Jt(r.toString(),n):Yt(r.toString(),n)}else Re(2);e.I=0,e.l&&e.l.pa(t),Pn(e),bn(e)}e.bb=function(e){e?(this.j.info(`Successfully pinged google.com`),Re(2)):(this.j.info(`Failed to ping google.com`),Re(1))};function Pn(e){if(e.I=0,e.ja=[],e.l){let t=xt(e.h);(t.length!=0||e.i.length!=0)&&(m(e.ja,t),m(e.ja,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.oa()}}function Fn(e,t,n){var r=n instanceof wt?Tt(n):new wt(n);if(r.g!=``)t&&(r.g=t+`.`+r.g),Dt(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+`.`+i.hostname:i.hostname,i=+i.port;let e=new wt(null);r&&Et(e,r),t&&(e.g=t),i&&Dt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&kt(r,n,t),kt(r,`VER`,e.ka),wn(e,r),r}function In(e,t,n){if(t&&!e.L)throw Error(`Can't create secondary domain capable XhrIo object.`);return t=e.Aa&&!e.ma?new on(new Qt({ab:n})):new on(e.ma),t.Fa(e.L),t}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ln(){}e=Ln.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Rn(){}Rn.prototype.g=function(e,t){return new zn(e,t)};function zn(e,t){_e.call(this),this.g=new _n(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e[`X-Client-Protocol`]=`webchannel`:e={"X-Client-Protocol":`webchannel`}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e[`X-WebChannel-Content-Type`]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e[`X-WebChannel-Client-Profile`]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!k(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t&&=t.httpSessionIdParam)&&!k(t)&&(this.g.G=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Hn(this)}d(zn,_e),zn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){vn(this.g)},zn.prototype.o=function(e){var t=this.g;if(typeof e==`string`){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=B(e),e=n);t.i.push(new mt(t.Ya++,e)),t.I==3&&xn(t)},zn.prototype.N=function(){this.g.l=null,delete this.j,vn(this.g),delete this.g,zn.Z.N.call(this)};function Bn(e){Ae.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){a:{for(let n in t){e=n;break a}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}d(Bn,Ae);function Vn(){je.call(this),this.status=1}d(Vn,je);function Hn(e){this.g=e}d(Hn,Ln),Hn.prototype.ra=function(){z(this.g,`a`)},Hn.prototype.qa=function(e){z(this.g,new Bn(e))},Hn.prototype.pa=function(e){z(this.g,new Vn)},Hn.prototype.oa=function(){z(this.g,`b`)},Rn.prototype.createWebChannel=Rn.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,Cu=hu.createWebChannelTransport=function(){return new Rn},Su=hu.getStatEventTarget=function(){return Pe()},xu=hu.Event=Me,bu=hu.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qe.NO_ERROR=0,qe.TIMEOUT=8,qe.HTTP_ERROR=6,yu=hu.ErrorCode=qe,Je.COMPLETE=`complete`,vu=hu.EventType=Je,Oe.EventType=ke,ke.OPEN=`a`,ke.CLOSE=`b`,ke.ERROR=`c`,ke.MESSAGE=`d`,_e.prototype.listen=_e.prototype.J,_u=hu.WebChannel=Oe,hu.FetchXmlHttpFactory=Qt,on.prototype.listenOnce=on.prototype.K,on.prototype.getLastError=on.prototype.Ha,on.prototype.getLastErrorCode=on.prototype.ya,on.prototype.getStatus=on.prototype.ca,on.prototype.getResponseJson=on.prototype.La,on.prototype.getResponseText=on.prototype.la,on.prototype.send=on.prototype.ea,on.prototype.setWithCredentials=on.prototype.Fa,gu=hu.XhrIo=on}).apply(mu===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:mu);var wu=`@firebase/firestore`,Tu=`4.9.2`,Eu=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?`uid:`+this.uid:`anonymous-user`}isEqual(e){return e.uid===this.uid}};Eu.UNAUTHENTICATED=new Eu(null),Eu.GOOGLE_CREDENTIALS=new Eu(`google-credentials-uid`),Eu.FIRST_PARTY=new Eu(`first-party-uid`),Eu.MOCK_USER=new Eu(`mock-user`);
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Du=`12.3.0`,Ou=new Ar(`@firebase/firestore`);function ku(){return Ou.logLevel}function W(e,...t){if(Ou.logLevel<=Tr.DEBUG){let n=t.map(Mu);Ou.debug(`Firestore (${Du}): ${e}`,...n)}}function Au(e,...t){if(Ou.logLevel<=Tr.ERROR){let n=t.map(Mu);Ou.error(`Firestore (${Du}): ${e}`,...n)}}function ju(e,...t){if(Ou.logLevel<=Tr.WARN){let n=t.map(Mu);Ou.warn(`Firestore (${Du}): ${e}`,...n)}}function Mu(e){if(typeof e==`string`)return e;try{
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
return function(e){return JSON.stringify(e)}(e)}catch{return e}}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function G(e,t,n){let r=`Unexpected state`;typeof t==`string`?r=t:n=t,Nu(e,r,n)}function Nu(e,t,n){let r=`FIRESTORE (${Du}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=` CONTEXT: `+JSON.stringify(n)}catch{r+=` CONTEXT: `+n}throw Au(r),Error(r)}function Pu(e,t,n,r){let i=`Unexpected state`;typeof n==`string`?i=n:r=n,e||Nu(t,i,r)}function Fu(e,t){return e}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var K={OK:`ok`,CANCELLED:`cancelled`,UNKNOWN:`unknown`,INVALID_ARGUMENT:`invalid-argument`,DEADLINE_EXCEEDED:`deadline-exceeded`,NOT_FOUND:`not-found`,ALREADY_EXISTS:`already-exists`,PERMISSION_DENIED:`permission-denied`,UNAUTHENTICATED:`unauthenticated`,RESOURCE_EXHAUSTED:`resource-exhausted`,FAILED_PRECONDITION:`failed-precondition`,ABORTED:`aborted`,OUT_OF_RANGE:`out-of-range`,UNIMPLEMENTED:`unimplemented`,INTERNAL:`internal`,UNAVAILABLE:`unavailable`,DATA_LOSS:`data-loss`},q=class extends rr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}},Iu=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}},Lu=class{constructor(e,t){this.user=t,this.type=`OAuth`,this.headers=new Map,this.headers.set(`Authorization`,`Bearer ${e}`)}},Ru=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Eu.UNAUTHENTICATED)))}shutdown(){}},zu=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}},Bu=class{constructor(e){this.t=e,this.currentUser=Eu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Pu(this.o===void 0,42304);let n=this.i,r=e=>this.i===n?Promise.resolve():(n=this.i,t(e)),i=new Iu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Iu,e.enqueueRetryable((()=>r(this.currentUser)))};let a=()=>{let t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{W(`FirebaseAuthCredentialsProvider`,`Auth detected`),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?o(e):(W(`FirebaseAuthCredentialsProvider`,`Auth not yet detected`),i.resolve(),i=new Iu)}}),0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i===e?t?(Pu(typeof t.accessToken==`string`,31837,{l:t}),new Lu(t.accessToken,this.currentUser)):null:(W(`FirebaseAuthCredentialsProvider`,`getToken aborted due to token change.`),this.getToken()))):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Pu(e===null||typeof e==`string`,2055,{h:e}),new Eu(e)}},Vu=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type=`FirstParty`,this.user=Eu.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set(`X-Goog-AuthUser`,this.P);let e=this.R();return e&&this.A.set(`Authorization`,e),this.T&&this.A.set(`X-Goog-Iam-Authorization-Token`,this.T),this.A}},Hu=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Vu(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Eu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}},Uu=class{constructor(e){this.value=e,this.type=`AppCheck`,this.headers=new Map,e&&e.length>0&&this.headers.set(`x-firebase-appcheck`,this.value)}},Wu=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Pu(this.o===void 0,3512);let n=e=>{e.error!=null&&W(`FirebaseAppCheckTokenProvider`,`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.m;return this.m=e.token,W(`FirebaseAppCheckTokenProvider`,`Received ${n?`new`:`existing`} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};let r=e=>{W(`FirebaseAppCheckTokenProvider`,`AppCheck detected`),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){let e=this.V.getImmediate({optional:!0});e?r(e):W(`FirebaseAppCheckTokenProvider`,`AppCheck not yet detected`)}}),0)}getToken(){if(this.p)return Promise.resolve(new Uu(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Pu(typeof e.token==`string`,44558,{tokenResult:e}),this.m=e.token,new Uu(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Gu(e){let t=typeof self<`u`&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues==`function`)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Ku=class{static newId(){let e=``;for(;e.length<20;){let t=Gu(40);for(let n=0;n<t.length;++n)e.length<20&&t[n]<248&&(e+=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`.charAt(t[n]%62))}return e}};function qu(e,t){return e<t?-1:e>t?1:0}function Ju(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.charAt(r),i=t.charAt(r);if(n!==i)return Zu(n)===Zu(i)?qu(n,i):Zu(n)?1:-1}return qu(e.length,t.length)}var Yu=55296,Xu=57343;function Zu(e){let t=e.charCodeAt(0);return t>=Yu&&t<=Xu}function Qu(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var $u=`__name__`,ed=class e{constructor(e,t,n){t===void 0?t=0:t>e.length&&G(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&G(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((e=>{n.push(e)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){let r=Math.min(t.length,n.length);for(let i=0;i<r;i++){let r=e.compareSegments(t.get(i),n.get(i));if(r!==0)return r}return qu(t.length,n.length)}static compareSegments(t,n){let r=e.isNumericId(t),i=e.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?e.extractNumericId(t).compare(e.extractNumericId(n)):Ju(t,n)}static isNumericId(e){return e.startsWith(`__id`)&&e.endsWith(`__`)}static extractNumericId(e){return fu.fromString(e.substring(4,e.length-2))}},td=class e extends ed{construct(t,n,r){return new e(t,n,r)}canonicalString(){return this.toArray().join(`/`)}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join(`/`)}static fromString(...t){let n=[];for(let e of t){if(e.indexOf(`//`)>=0)throw new q(K.INVALID_ARGUMENT,`Invalid segment (${e}). Paths must not contain // in them.`);n.push(...e.split(`/`).filter((e=>e.length>0)))}return new e(n)}static emptyPath(){return new e([])}},nd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rd=class e extends ed{construct(t,n,r){return new e(t,n,r)}static isValidIdentifier(e){return nd.test(e)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,`\\\\`).replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(`.`)}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$u}static keyField(){return new e([$u])}static fromServerFormat(t){let n=[],r=``,i=0,a=()=>{if(r.length===0)throw new q(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=``},o=!1;for(;i<t.length;){let e=t[i];if(e===`\\`){if(i+1===t.length)throw new q(K.INVALID_ARGUMENT,`Path has trailing escape character: `+t);let e=t[i+1];if(e!==`\\`&&e!==`.`&&e!=="`")throw new q(K.INVALID_ARGUMENT,`Path has invalid escape sequence: `+t);r+=e,i+=2}else e==="`"?(o=!o,i++):e!==`.`||o?(r+=e,i++):(a(),i++)}if(a(),o)throw new q(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)}static emptyPath(){return new e([])}},J=class e{constructor(e){this.path=e}static fromPath(t){return new e(td.fromString(t))}static fromName(t){return new e(td.fromString(t).popFirst(5))}static empty(){return new e(td.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&td.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return td.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(t){return new e(new td(t.slice()))}};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function id(e,t,n){if(!n)throw new q(K.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ad(e,t,n,r){if(!0===t&&!0===r)throw new q(K.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function od(e){if(!J.isDocumentKey(e))throw new q(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function sd(e){if(J.isDocumentKey(e))throw new q(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function cd(e){return typeof e==`object`&&!!e&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function ld(e){if(e===void 0)return`undefined`;if(e===null)return`null`;if(typeof e==`string`)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e==`number`||typeof e==`boolean`)return``+e;if(typeof e==`object`){if(e instanceof Array)return`an array`;{let t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:`an object`}}return typeof e==`function`?`a function`:G(12329,{type:typeof e})}function ud(e,t){if(`_delegate`in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new q(K.INVALID_ARGUMENT,`Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?`);{let n=ld(e);throw new q(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
* @license
* Copyright 2025 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function dd(e,t){let n={typeString:e};return t&&(n.value=t),n}function fd(e,t){if(!cd(e))throw new q(K.INVALID_ARGUMENT,`JSON must be an object`);let n;for(let r in t)if(t[r]){let i=t[r].typeString,a=`value`in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}let o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new q(K.INVALID_ARGUMENT,n);return!0}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var pd=-62135596800,md=1e6,hd=class e{static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*md);return new e(n,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new q(K.INVALID_ARGUMENT,`Timestamp nanoseconds out of range: `+t);if(e<pd||e>=253402300800)throw new q(K.INVALID_ARGUMENT,`Timestamp seconds out of range: `+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/md}_compareTo(e){return this.seconds===e.seconds?qu(this.nanoseconds,e.nanoseconds):qu(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return`Timestamp(seconds=`+this.seconds+`, nanoseconds=`+this.nanoseconds+`)`}toJSON(){return{type:e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(fd(t,e._jsonSchema))return new e(t.seconds,t.nanoseconds)}valueOf(){let e=this.seconds-pd;return String(e).padStart(12,`0`)+`.`+String(this.nanoseconds).padStart(9,`0`)}};hd._jsonSchemaVersion=`firestore/timestamp/1.0`,hd._jsonSchema={type:dd(`string`,hd._jsonSchemaVersion),seconds:dd(`number`),nanoseconds:dd(`number`)};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var gd=class e{static fromTimestamp(t){return new e(t)}static min(){return new e(new hd(0,0))}static max(){return new e(new hd(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return`SnapshotVersion(`+this.timestamp.toString()+`)`}toTimestamp(){return this.timestamp}},_d=-1,vd=class{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}};vd.UNKNOWN_ID=-1;function yd(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=gd.fromTimestamp(r===1e9?new hd(n+1,0):new hd(n,r));return new xd(i,J.empty(),t)}function bd(e){return new xd(e.readTime,e.key,_d)}var xd=class e{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new e(gd.min(),J.empty(),_d)}static max(){return new e(gd.max(),J.empty(),_d)}};function Sd(e,t){let n=e.readTime.compareTo(t.readTime);return n===0?(n=J.comparator(e.documentKey,t.documentKey),n===0?qu(e.largestBatchId,t.largestBatchId):n):n}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Cd=`The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.`,wd=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function Td(e){if(e.code!==K.FAILED_PRECONDITION||e.message!==Cd)throw e;W(`LocalStore`,`Unexpectedly lost primary lease`)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Y=class e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(t,n){return this.callbackAttached&&G(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(((e,r)=>{this.nextCallback=n=>{this.wrapSuccess(t,n).next(e,r)},this.catchCallback=t=>{this.wrapFailure(n,t).next(e,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(t){try{let n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):e.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):e.reject(n)}static resolve(t){return new e(((e,n)=>{e(t)}))}static reject(t){return new e(((e,n)=>{n(t)}))}static waitFor(t){return new e(((e,n)=>{let r=0,i=0,a=!1;t.forEach((t=>{++r,t.next((()=>{++i,a&&i===r&&e()}),(e=>n(e)))})),a=!0,i===r&&e()}))}static or(t){let n=e.resolve(!1);for(let r of t)n=n.next((t=>t?e.resolve(t):r()));return n}static forEach(e,t){let n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(t,n){return new e(((e,r)=>{let i=t.length,a=Array(i),o=0;for(let s=0;s<i;s++){let c=s;n(t[c]).next((t=>{a[c]=t,++o,o===i&&e(a)}),(e=>r(e)))}}))}static doWhile(t,n){return new e(((e,r)=>{let i=()=>{!0===t()?n().next((()=>{i()}),r):e()};i()}))}};function Ed(e){let t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(`.`).slice(0,2).join(`.`):`-1`;return Number(n)}function Dd(e){return e.name===`IndexedDbTransactionError`}
/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Od=class{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}};Od.ce=-1;
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var kd=-1;function Ad(e){return e==null}function jd(e){return e===0&&1/e==-1/0}function Md(e){return typeof e==`number`&&Number.isInteger(e)&&!jd(e)&&e<=2**53-1&&e>=-(2**53-1)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Nd=``;function Pd(e){let t=``;for(let n=0;n<e.length;n++)t.length>0&&(t=Id(t)),t=Fd(e.get(n),t);return Id(t)}function Fd(e,t){let n=t,r=e.length;for(let t=0;t<r;t++){let r=e.charAt(t);switch(r){case`\0`:n+=``;break;case Nd:n+=``;break;default:n+=r}}return n}function Id(e){return e+Nd+``}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ld(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Rd(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function zd(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Bd=class e{constructor(e,t){this.comparator=e,this.root=t||Hd.EMPTY}insert(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Hd.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Hd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){let e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(`, `)}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vd(this.root,e,this.comparator,!0)}},Vd=class{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Hd=class e{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=a??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new e(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):i===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return 2**this.check()<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw G(43730,{key:this.key,value:this.value});if(this.right.isRed())throw G(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw G(27949);return e+(this.isRed()?0:1)}};Hd.EMPTY=null,Hd.RED=!0,Hd.BLACK=!1,Hd.EMPTY=new class{constructor(){this.size=0}get key(){throw G(57766)}get value(){throw G(16141)}get color(){throw G(16727)}get left(){throw G(29726)}get right(){throw G(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Hd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Ud=class e{constructor(e){this.comparator=e,this.data=new Bd(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t===void 0?this.data.getIterator():this.data.getIteratorFrom(t);n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wd(this.data.getIterator())}getIteratorFrom(e){return new Wd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(this.comparator(e,t)!==0)return!1}return!0}toArray(){let e=[];return this.forEach((t=>{e.push(t)})),e}toString(){let e=[];return this.forEach((t=>e.push(t))),`SortedSet(`+e.toString()+`)`}copy(t){let n=new e(this.comparator);return n.data=t,n}},Wd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}},Gd=class e{constructor(e){this.fields=e,e.sort(rd.comparator)}static empty(){return new e([])}unionWith(t){let n=new Ud(rd.comparator);for(let e of this.fields)n=n.add(e);for(let e of t)n=n.add(e);return new e(n.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qu(this.fields,e.fields,((e,t)=>e.isEqual(t)))}},Kd=class extends Error{constructor(){super(...arguments),this.name=`Base64DecodeError`}},qd=class e{constructor(e){this.binaryString=e}static fromBase64String(t){let n=function(e){try{return atob(e)}catch(e){throw typeof DOMException<`u`&&e instanceof DOMException?new Kd(`Invalid base64 string: `+e):e}}(t);return new e(n)}static fromUint8Array(t){let n=function(e){let t=``;for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qu(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};qd.EMPTY_BYTE_STRING=new qd(``);var Jd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yd(e){if(Pu(!!e,39018),typeof e==`string`){let t=0,n=Jd.exec(e);if(Pu(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+`000000000`).substr(0,9),t=Number(e)}let r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Xd(e.seconds),nanos:Xd(e.nanos)}}function Xd(e){return typeof e==`number`?e:typeof e==`string`?Number(e):0}function Zd(e){return typeof e==`string`?qd.fromBase64String(e):qd.fromUint8Array(e)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Qd=`server_timestamp`,$d=`__type__`,ef=`__previous_value__`,tf=`__local_write_time__`;function nf(e){return(e?.mapValue?.fields||{})[$d]?.stringValue===Qd}function rf(e){let t=e.mapValue.fields[ef];return nf(t)?rf(t):t}function af(e){let t=Yd(e.mapValue.fields[tf].timestampValue);return new hd(t.seconds,t.nanos)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var sf=class{constructor(e,t,n,r,i,a,o,s,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=c,this.isUsingEmulator=l}},cf=`(default)`,lf=class e{constructor(e,t){this.projectId=e,this.database=t||cf}static empty(){return new e(``,``)}get isDefaultDatabase(){return this.database===cf}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}},uf=`__type__`,df=`__max__`,ff={mapValue:{fields:{__type__:{stringValue:df}}}},pf=`__vector__`,mf=`value`;function hf(e){return`nullValue`in e?0:`booleanValue`in e?1:`integerValue`in e||`doubleValue`in e?2:`timestampValue`in e?3:`stringValue`in e?5:`bytesValue`in e?6:`referenceValue`in e?7:`geoPointValue`in e?8:`arrayValue`in e?9:`mapValue`in e?nf(e)?4:Mf(e)?9007199254740991:Af(e)?10:11:G(28295,{value:e})}function gf(e,t){if(e===t)return!0;let n=hf(e);if(n!==hf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return af(e).isEqual(af(t));case 3:return function(e,t){if(typeof e.timestampValue==`string`&&typeof t.timestampValue==`string`&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=Yd(e.timestampValue),r=Yd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Zd(e.bytesValue).isEqual(Zd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Xd(e.geoPointValue.latitude)===Xd(t.geoPointValue.latitude)&&Xd(e.geoPointValue.longitude)===Xd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if(`integerValue`in e&&`integerValue`in t)return Xd(e.integerValue)===Xd(t.integerValue);if(`doubleValue`in e&&`doubleValue`in t){let n=Xd(e.doubleValue),r=Xd(t.doubleValue);return n===r?jd(n)===jd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Qu(e.arrayValue.values||[],t.arrayValue.values||[],gf);case 10:case 11:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ld(n)!==Ld(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(r[e]===void 0||!gf(n[e],r[e])))return!1;return!0}(e,t);default:return G(52216,{left:e})}}function _f(e,t){return(e.values||[]).find((e=>gf(e,t)))!==void 0}function vf(e,t){if(e===t)return 0;let n=hf(e),r=hf(t);if(n!==r)return qu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qu(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=Xd(e.integerValue||e.doubleValue),r=Xd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return yf(e.timestampValue,t.timestampValue);case 4:return yf(af(e),af(t));case 5:return Ju(e.stringValue,t.stringValue);case 6:return function(e,t){let n=Zd(e),r=Zd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split(`/`),r=t.split(`/`);for(let e=0;e<n.length&&e<r.length;e++){let t=qu(n[e],r[e]);if(t!==0)return t}return qu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=qu(Xd(e.latitude),Xd(t.latitude));return n===0?qu(Xd(e.longitude),Xd(t.longitude)):n}(e.geoPointValue,t.geoPointValue);case 9:return bf(e.arrayValue,t.arrayValue);case 10:return function(e,t){let n=e.fields||{},r=t.fields||{},i=n[mf]?.arrayValue,a=r[mf]?.arrayValue,o=qu(i?.values?.length||0,a?.values?.length||0);return o===0?bf(i,a):o}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ff.mapValue&&t===ff.mapValue)return 0;if(e===ff.mapValue)return 1;if(t===ff.mapValue)return-1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){let t=Ju(r[e],a[e]);if(t!==0)return t;let o=vf(n[r[e]],i[a[e]]);if(o!==0)return o}return qu(r.length,a.length)}(e.mapValue,t.mapValue);default:throw G(23264,{he:n})}}function yf(e,t){if(typeof e==`string`&&typeof t==`string`&&e.length===t.length)return qu(e,t);let n=Yd(e),r=Yd(t),i=qu(n.seconds,r.seconds);return i===0?qu(n.nanos,r.nanos):i}function bf(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=vf(n[e],r[e]);if(t)return t}return qu(n.length,r.length)}function xf(e){return Sf(e)}function Sf(e){return`nullValue`in e?`null`:`booleanValue`in e?``+e.booleanValue:`integerValue`in e?``+e.integerValue:`doubleValue`in e?``+e.doubleValue:`timestampValue`in e?function(e){let t=Yd(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):`stringValue`in e?e.stringValue:`bytesValue`in e?function(e){return Zd(e).toBase64()}(e.bytesValue):`referenceValue`in e?function(e){return J.fromName(e).toString()}(e.referenceValue):`geoPointValue`in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):`arrayValue`in e?function(e){let t=`[`,n=!0;for(let r of e.values||[])n?n=!1:t+=`,`,t+=Sf(r);return t+`]`}(e.arrayValue):`mapValue`in e?function(e){let t=Object.keys(e.fields||{}).sort(),n=`{`,r=!0;for(let i of t)r?r=!1:n+=`,`,n+=`${i}:${Sf(e.fields[i])}`;return n+`}`}(e.mapValue):G(61005,{value:e})}function Cf(e){switch(hf(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=rf(e);return t?16+Cf(t):16;case 5:return 2*e.stringValue.length;case 6:return Zd(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Cf(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Rd(e.fields,((e,n)=>{t+=e.length+Cf(n)})),t}(e.mapValue);default:throw G(13486,{value:e})}}function wf(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Tf(e){return!!e&&`integerValue`in e}function Ef(e){return!!e&&`arrayValue`in e}function Df(e){return!!e&&`nullValue`in e}function Of(e){return!!e&&`doubleValue`in e&&isNaN(Number(e.doubleValue))}function kf(e){return!!e&&`mapValue`in e}function Af(e){return(e?.mapValue?.fields||{})[uf]?.stringValue===pf}function jf(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue==`object`)return{timestampValue:{...e.timestampValue}};if(e.mapValue){let t={mapValue:{fields:{}}};return Rd(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=jf(n))),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=jf(e.arrayValue.values[n]);return t}return{...e}}function Mf(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===df}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Nf=class e{constructor(e){this.value=e}static empty(){return new e({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!kf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jf(t)}setAll(e){let t=rd.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=jf(e):r.push(i.lastSegment())}));let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());kf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gf(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];kf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Rd(t,((t,n)=>e[t]=n));for(let t of n)delete e[t]}clone(){return new e(jf(this.value))}};function Pf(e){let t=[];return Rd(e.fields,((e,n)=>{let r=new rd([e]);if(kf(n)){let e=Pf(n.mapValue).fields;if(e.length===0)t.push(r);else for(let n of e)t.push(r.child(n))}else t.push(r)})),new Gd(t)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Ff=class e{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(t){return new e(t,0,gd.min(),gd.min(),gd.min(),Nf.empty(),0)}static newFoundDocument(t,n,r,i){return new e(t,1,n,gd.min(),r,i,0)}static newNoDocument(t,n){return new e(t,2,n,gd.min(),gd.min(),Nf.empty(),0)}static newUnknownDocument(t,n){return new e(t,3,n,gd.min(),gd.min(),Nf.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gd.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nf.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nf.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gd.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}},If=class{constructor(e,t){this.position=e,this.inclusive=t}};function Lf(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let a=t[i],o=e.position[i];if(r=a.field.isKeyField()?J.comparator(J.fromName(o.referenceValue),n.key):vf(o,n.data.field(a.field)),a.dir===`desc`&&(r*=-1),r!==0)break}return r}function Rf(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!gf(e.position[n],t.position[n]))return!1;return!0}
/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var zf=class{constructor(e,t=`asc`){this.field=e,this.dir=t}};function Bf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Vf=class{},Hf=class e extends Vf{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(t,n,r){return t.isKeyField()?n===`in`||n===`not-in`?this.createKeyFieldInFilter(t,n,r):new Xf(t,n,r):n===`array-contains`?new ep(t,r):n===`in`?new tp(t,r):n===`not-in`?new np(t,r):n===`array-contains-any`?new rp(t,r):new e(t,n,r)}static createKeyFieldInFilter(e,t,n){return t===`in`?new Zf(e,n):new Qf(e,n)}matches(e){let t=e.data.field(this.field);return this.op===`!=`?t!==null&&t.nullValue===void 0&&this.matchesComparison(vf(t,this.value)):t!==null&&hf(this.value)===hf(t)&&this.matchesComparison(vf(t,this.value))}matchesComparison(e){switch(this.op){case`<`:return e<0;case`<=`:return e<=0;case`==`:return e===0;case`!=`:return e!==0;case`>`:return e>0;case`>=`:return e>=0;default:return G(47266,{operator:this.op})}}isInequality(){return[`<`,`<=`,`>`,`>=`,`!=`,`not-in`].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Uf=class e extends Vf{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(t,n){return new e(t,n)}matches(e){return Wf(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function Wf(e){return e.op===`and`}function Gf(e){return Kf(e)&&Wf(e)}function Kf(e){for(let t of e.filters)if(t instanceof Uf)return!1;return!0}function qf(e){if(e instanceof Hf)return e.field.canonicalString()+e.op.toString()+xf(e.value);if(Gf(e))return e.filters.map((e=>qf(e))).join(`,`);{let t=e.filters.map((e=>qf(e))).join(`,`);return`${e.op}(${t})`}}function Jf(e,t){return e instanceof Hf?function(e,t){return t instanceof Hf&&e.op===t.op&&e.field.isEqual(t.field)&&gf(e.value,t.value)}(e,t):e instanceof Uf?function(e,t){return t instanceof Uf&&e.op===t.op&&e.filters.length===t.filters.length?e.filters.reduce(((e,n,r)=>e&&Jf(n,t.filters[r])),!0):!1}(e,t):void G(19439)}function Yf(e){return e instanceof Hf?function(e){return`${e.field.canonicalString()} ${e.op} ${xf(e.value)}`}(e):e instanceof Uf?function(e){return e.op.toString()+` {`+e.getFilters().map(Yf).join(` ,`)+`}`}(e):`Filter`}var Xf=class extends Hf{constructor(e,t,n){super(e,t,n),this.key=J.fromName(n.referenceValue)}matches(e){let t=J.comparator(e.key,this.key);return this.matchesComparison(t)}},Zf=class extends Hf{constructor(e,t){super(e,`in`,t),this.keys=$f(`in`,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}},Qf=class extends Hf{constructor(e,t){super(e,`not-in`,t),this.keys=$f(`not-in`,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}};function $f(e,t){return(t.arrayValue?.values||[]).map((e=>J.fromName(e.referenceValue)))}var ep=class extends Hf{constructor(e,t){super(e,`array-contains`,t)}matches(e){let t=e.data.field(this.field);return Ef(t)&&_f(t.arrayValue,this.value)}},tp=class extends Hf{constructor(e,t){super(e,`in`,t)}matches(e){let t=e.data.field(this.field);return t!==null&&_f(this.value.arrayValue,t)}},np=class extends Hf{constructor(e,t){super(e,`not-in`,t)}matches(e){if(_f(this.value.arrayValue,{nullValue:`NULL_VALUE`}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_f(this.value.arrayValue,t)}},rp=class extends Hf{constructor(e,t){super(e,`array-contains-any`,t)}matches(e){let t=e.data.field(this.field);return!(!Ef(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>_f(this.value.arrayValue,e)))}},ip=class{constructor(e,t=null,n=[],r=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}};function ap(e,t=null,n=[],r=[],i=null,a=null,o=null){return new ip(e,t,n,r,i,a,o)}function op(e){let t=Fu(e);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+=`|cg:`+t.collectionGroup),e+=`|f:`,e+=t.filters.map((e=>qf(e))).join(`,`),e+=`|ob:`,e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(`,`),Ad(t.limit)||(e+=`|l:`,e+=t.limit),t.startAt&&(e+=`|lb:`,e+=t.startAt.inclusive?`b:`:`a:`,e+=t.startAt.position.map((e=>xf(e))).join(`,`)),t.endAt&&(e+=`|ub:`,e+=t.endAt.inclusive?`a:`:`b:`,e+=t.endAt.position.map((e=>xf(e))).join(`,`)),t.Te=e}return t.Te}function sp(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Bf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Jf(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Rf(e.startAt,t.startAt)&&Rf(e.endAt,t.endAt)}function cp(e){return J.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var lp=class{constructor(e,t=null,n=[],r=[],i=null,a=`F`,o=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function up(e,t,n,r,i,a,o,s){return new lp(e,t,n,r,i,a,o,s)}function dp(e){return new lp(e)}function fp(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function pp(e){return e.collectionGroup!==null}function mp(e){let t=Fu(e);if(t.Ie===null){t.Ie=[];let e=new Set;for(let n of t.explicitOrderBy)t.Ie.push(n),e.add(n.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:`asc`;(function(e){let t=new Ud(rd.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new zf(r,n))})),e.has(rd.keyField().canonicalString())||t.Ie.push(new zf(rd.keyField(),n))}return t.Ie}function hp(e){let t=Fu(e);return t.Ee||=gp(t,mp(e)),t.Ee}function gp(e,t){if(e.limitType===`F`)return ap(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{let t=e.dir===`desc`?`asc`:`desc`;return new zf(e.field,t)}));let n=e.endAt?new If(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new If(e.startAt.position,e.startAt.inclusive):null;return ap(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function _p(e,t){let n=e.filters.concat([t]);return new lp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function vp(e,t,n){return new lp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yp(e,t){return sp(hp(e),hp(t))&&e.limitType===t.limitType}function bp(e){return`${op(hp(e))}|lt:${e.limitType}`}function xp(e){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=` collectionGroup=`+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Yf(e))).join(`, `)}]`),Ad(e.limit)||(t+=`, limit: `+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(`, `)}]`),e.startAt&&(t+=`, startAt: `,t+=e.startAt.inclusive?`b:`:`a:`,t+=e.startAt.position.map((e=>xf(e))).join(`,`)),e.endAt&&(t+=`, endAt: `,t+=e.endAt.inclusive?`a:`:`b:`,t+=e.endAt.position.map((e=>xf(e))).join(`,`)),`Target(${t})`}(hp(e))}; limitType=${e.limitType})`}function Sp(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return e.collectionGroup===null?J.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n):t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n)}(e,t)&&function(e,t){for(let n of mp(e))if(!n.field.isKeyField()&&t.data.field(n.field)===null)return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){let r=Lf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,mp(e),t)||e.endAt&&!function(e,t,n){let r=Lf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,mp(e),t))}(e,t)}function Cp(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function wp(e){return(t,n)=>{let r=!1;for(let i of mp(e)){let e=Tp(i,t,n);if(e!==0)return e;r||=i.field.isKeyField()}return 0}}function Tp(e,t,n){let r=e.field.isKeyField()?J.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return r!==null&&i!==null?vf(r,i):G(42886)}(e.field,t,n);switch(e.dir){case`asc`:return r;case`desc`:return-1*r;default:return G(19790,{direction:e.dir})}}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Ep=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Rd(this.inner,((t,n)=>{for(let[t,r]of n)e(t,r)}))}isEmpty(){return zd(this.inner)}size(){return this.innerSize}},Dp=new Bd(J.comparator);function Op(){return Dp}var kp=new Bd(J.comparator);function Ap(...e){let t=kp;for(let n of e)t=t.insert(n.key,n);return t}function jp(e){let t=kp;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Mp(){return Pp()}function Np(){return Pp()}function Pp(){return new Ep((e=>e.toString()),((e,t)=>e.isEqual(t)))}var Fp=new Bd(J.comparator),Ip=new Ud(J.comparator);function Lp(...e){let t=Ip;for(let n of e)t=t.add(n);return t}var Rp=new Ud(qu);function zp(){return Rp}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Bp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:`NaN`};if(t===1/0)return{doubleValue:`Infinity`};if(t===-1/0)return{doubleValue:`-Infinity`}}return{doubleValue:jd(t)?`-0`:t}}function Vp(e){return{integerValue:``+e}}function Hp(e,t){return Md(t)?Vp(t):Bp(e,t)}
/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Up=class{constructor(){this._=void 0}};function Wp(e,t,n){return e instanceof qp?function(e,t){let n={fields:{[$d]:{stringValue:Qd},[tf]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&nf(t)&&(t=rf(t)),t&&(n.fields[ef]=t),{mapValue:n}}(n,t):e instanceof Jp?Yp(e,t):e instanceof Xp?Zp(e,t):function(e,t){let n=Kp(e,t),r=$p(n)+$p(e.Ae);return Tf(n)&&Tf(e.Ae)?Vp(r):Bp(e.serializer,r)}(e,t)}function Gp(e,t,n){return e instanceof Jp?Yp(e,t):e instanceof Xp?Zp(e,t):n}function Kp(e,t){return e instanceof Qp?function(e){return Tf(e)||function(e){return!!e&&`doubleValue`in e}(e)}(t)?t:{integerValue:0}:null}var qp=class extends Up{},Jp=class extends Up{constructor(e){super(),this.elements=e}};function Yp(e,t){let n=em(t);for(let t of e.elements)n.some((e=>gf(e,t)))||n.push(t);return{arrayValue:{values:n}}}var Xp=class extends Up{constructor(e){super(),this.elements=e}};function Zp(e,t){let n=em(t);for(let t of e.elements)n=n.filter((e=>!gf(e,t)));return{arrayValue:{values:n}}}var Qp=class extends Up{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function $p(e){return Xd(e.integerValue||e.doubleValue)}function em(e){return Ef(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var tm=class{constructor(e,t){this.field=e,this.transform=t}};function nm(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Jp&&t instanceof Jp||e instanceof Xp&&t instanceof Xp?Qu(e.elements,t.elements,gf):e instanceof Qp&&t instanceof Qp?gf(e.Ae,t.Ae):e instanceof qp&&t instanceof qp}(e.transform,t.transform)}var rm=class{constructor(e,t){this.version=e,this.transformResults=t}},im=class e{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function am(e,t){return e.updateTime===void 0?e.exists===void 0||e.exists===t.isFoundDocument():t.isFoundDocument()&&t.version.isEqual(e.updateTime)}var om=class{};function sm(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new _m(e.key,im.none()):new fm(e.key,e.data,im.none());{let n=e.data,r=Nf.empty(),i=new Ud(rd.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);t===null&&e.length>1&&(e=e.popLast(),t=n.field(e)),t===null?r.delete(e):r.set(e,t),i=i.add(e)}return new pm(e.key,r,new Gd(i.toArray()),im.none())}}function cm(e,t,n){e instanceof fm?function(e,t,n){let r=e.value.clone(),i=hm(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof pm?function(e,t,n){if(!am(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=hm(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(mm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function lm(e,t,n,r){return e instanceof fm?function(e,t,n,r){if(!am(e.precondition,t))return n;let i=e.value.clone(),a=gm(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof pm?function(e,t,n,r){if(!am(e.precondition,t))return n;let i=gm(e.fieldTransforms,r,t),a=t.data;return a.setAll(mm(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),n===null?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return am(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function um(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=Kp(r.transform,e||null);i!=null&&(n===null&&(n=Nf.empty()),n.set(r.field,i))}return n||null}function dm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return e===void 0&&t===void 0||!(!e||!t)&&Qu(e,t,((e,t)=>nm(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var fm=class extends om{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},pm=class extends om{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};function mm(e){let t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}})),t}function hm(e,t,n){let r=new Map;Pu(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){let a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Gp(o,s,n[i]))}return r}function gm(e,t,n){let r=new Map;for(let i of e){let e=i.transform,a=n.data.field(i.field);r.set(i.field,Wp(e,a,t))}return r}var _m=class extends om{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},vm=class extends om{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}},ym=class{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&cm(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=lm(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=lm(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=Np();return this.mutations.forEach((r=>{let i=e.get(r.key),a=i.overlayedDocument,o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;let s=sm(a,o);s!==null&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(gd.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Lp())}isEqual(e){return this.batchId===e.batchId&&Qu(this.mutations,e.mutations,((e,t)=>dm(e,t)))&&Qu(this.baseMutations,e.baseMutations,((e,t)=>dm(e,t)))}},bm=class e{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(t,n,r){Pu(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return Fp}(),a=t.mutations;for(let e=0;e<a.length;e++)i=i.insert(a[e].key,r[e].version);return new e(t,n,r,i)}},xm=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}},Sm=class{constructor(e,t){this.count=e,this.unchangedNames=t}},Cm,wm;function Tm(e){switch(e){case K.OK:return G(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return G(15467,{code:e})}}function Em(e){if(e===void 0)return Au(`GRPC error has no .code`),K.UNKNOWN;switch(e){case Cm.OK:return K.OK;case Cm.CANCELLED:return K.CANCELLED;case Cm.UNKNOWN:return K.UNKNOWN;case Cm.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Cm.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Cm.INTERNAL:return K.INTERNAL;case Cm.UNAVAILABLE:return K.UNAVAILABLE;case Cm.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Cm.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Cm.NOT_FOUND:return K.NOT_FOUND;case Cm.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Cm.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Cm.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Cm.ABORTED:return K.ABORTED;case Cm.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Cm.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Cm.DATA_LOSS:return K.DATA_LOSS;default:return G(39323,{code:e})}}(wm=Cm||={})[wm.OK=0]=`OK`,wm[wm.CANCELLED=1]=`CANCELLED`,wm[wm.UNKNOWN=2]=`UNKNOWN`,wm[wm.INVALID_ARGUMENT=3]=`INVALID_ARGUMENT`,wm[wm.DEADLINE_EXCEEDED=4]=`DEADLINE_EXCEEDED`,wm[wm.NOT_FOUND=5]=`NOT_FOUND`,wm[wm.ALREADY_EXISTS=6]=`ALREADY_EXISTS`,wm[wm.PERMISSION_DENIED=7]=`PERMISSION_DENIED`,wm[wm.UNAUTHENTICATED=16]=`UNAUTHENTICATED`,wm[wm.RESOURCE_EXHAUSTED=8]=`RESOURCE_EXHAUSTED`,wm[wm.FAILED_PRECONDITION=9]=`FAILED_PRECONDITION`,wm[wm.ABORTED=10]=`ABORTED`,wm[wm.OUT_OF_RANGE=11]=`OUT_OF_RANGE`,wm[wm.UNIMPLEMENTED=12]=`UNIMPLEMENTED`,wm[wm.INTERNAL=13]=`INTERNAL`,wm[wm.UNAVAILABLE=14]=`UNAVAILABLE`,wm[wm.DATA_LOSS=15]=`DATA_LOSS`;
/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Dm=null;
/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Om(){return new TextEncoder}
/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var km=new fu([4294967295,4294967295],0);function Am(e){let t=Om().encode(e),n=new pu;return n.update(t),new Uint8Array(n.digest())}function jm(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new fu([n,r],0),new fu([i,a],0)]}var Mm=class e{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Nm(`Invalid padding: ${t}`);if(n<0||e.length>0&&this.hashCount===0)throw new Nm(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Nm(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=fu.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(fu.fromNumber(n)));return r.compare(km)===1&&(r=new fu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let t=Am(e),[n,r]=jm(t);for(let e=0;e<this.hashCount;e++){let t=this.ye(n,r,e);if(!this.we(t))return!1}return!0}static create(t,n,r){let i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),o=new e(a,i,n);return r.forEach((e=>o.insert(e))),o}insert(e){if(this.ge===0)return;let t=Am(e),[n,r]=jm(t);for(let e=0;e<this.hashCount;e++){let t=this.ye(n,r,e);this.Se(t)}}Se(e){let t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}},Nm=class extends Error{constructor(){super(...arguments),this.name=`BloomFilterError`}},Pm=class e{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){let i=new Map;return i.set(t,Fm.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(gd.min(),i,new Bd(qu),Op(),Lp())}},Fm=class e{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new e(r,n,Lp(),Lp(),Lp())}},Im=class{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}},Lm=class{constructor(e,t){this.targetId=e,this.Ce=t}},Rm=class{constructor(e,t,n=qd.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}},zm=class{constructor(){this.ve=0,this.Fe=Hm(),this.Me=qd.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Lp(),t=Lp(),n=Lp();return this.Fe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:G(38017,{changeType:i})}})),new Fm(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Hm()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){--this.ve,Pu(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},Bm=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Op(),this.Je=Vm(),this.He=Vm(),this.Ye=new Bd(qu)}Ze(e){for(let t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{let n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:G(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((e,n)=>{this.rt(n)&&t(n)}))}st(e){let t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){let i=r.target;if(cp(i))if(n===0){let e=new J(i.path);this.et(t,e,Ff.newNoDocument(e,gd.min()))}else Pu(n===1,20013,{expectedCount:n});else{let r=this._t(t);if(r!==n){let n=this.ut(e),i=n?this.ct(n,e,r):1;if(i!==0){this.it(t);let e=i===2?`TargetPurposeExistenceFilterMismatchBloom`:`TargetPurposeExistenceFilterMismatch`;this.Ye=this.Ye.insert(t,e)}Dm?.lt(function(e,t,n,r,i){let a={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},o=t.unchangedNames;return o&&(a.bloomFilter={applied:i===0,hashCount:o?.hashCount??0,bitmapLength:o?.bits?.bitmap?.length??0,padding:o?.bits?.padding??0,mightContain:e=>r?.mightContain(e)??!1}),a}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:n=``,padding:r=0},hashCount:i=0}=t,a,o;try{a=Zd(n).toUint8Array()}catch(e){if(e instanceof Kd)return ju(`Decoding the base64 bloom filter in existence filter failed (`+e.message+`); ignoring the bloom filter and falling back to full re-query.`),null;throw e}try{o=new Mm(a,r,i)}catch(e){return ju(e instanceof Nm?`BloomFilter error: `:`Applying bloom filter failed: `,e),null}return o.ge===0?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){let n=this.Ge.getRemoteKeysForTarget(t),r=0;return n.forEach((n=>{let i=this.Ge.ht(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.et(t,n,null),r++)})),r}Tt(e){let t=new Map;this.ze.forEach(((n,r)=>{let i=this.ot(r);if(i){if(n.current&&cp(i.target)){let t=new J(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Ff.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}}));let n=Lp();this.He.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{let t=this.ot(e);return!t||t.purpose===`TargetPurposeLimboResolution`||(r=!1,!1)})),r&&(n=n.add(e))})),this.je.forEach(((t,n)=>n.setReadTime(e)));let r=new Pm(e,t,this.Ye,this.je,n);return this.je=Op(),this.Je=Vm(),this.He=Vm(),this.Ye=new Bd(qu),r}Xe(e,t){if(!this.rt(e))return;let n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;let r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new zm,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ud(qu),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ud(qu),this.Je=this.Je.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||W(`WatchChangeAggregator`,`Detected inactive target`,e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zm),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function Vm(){return new Bd(J.comparator)}function Hm(){return new Bd(J.comparator)}var Um=(()=>({asc:`ASCENDING`,desc:`DESCENDING`}))(),Wm=(()=>({"<":`LESS_THAN`,"<=":`LESS_THAN_OR_EQUAL`,">":`GREATER_THAN`,">=":`GREATER_THAN_OR_EQUAL`,"==":`EQUAL`,"!=":`NOT_EQUAL`,"array-contains":`ARRAY_CONTAINS`,in:`IN`,"not-in":`NOT_IN`,"array-contains-any":`ARRAY_CONTAINS_ANY`}))(),Gm=(()=>({and:`AND`,or:`OR`}))(),Km=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function qm(e,t){return e.useProto3Json||Ad(t)?t:{value:t}}function Jm(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,``).replace(`Z`,``)}.${(`000000000`+t.nanoseconds).slice(-9)}Z`:{seconds:``+t.seconds,nanos:t.nanoseconds}}function Ym(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Xm(e,t){return Jm(e,t.toTimestamp())}function Zm(e){return Pu(!!e,49232),gd.fromTimestamp(function(e){let t=Yd(e);return new hd(t.seconds,t.nanos)}(e))}function Qm(e,t){return $m(e,t).canonicalString()}function $m(e,t){let n=function(e){return new td([`projects`,e.projectId,`databases`,e.database])}(e).child(`documents`);return t===void 0?n:n.child(t)}function eh(e){let t=td.fromString(e);return Pu(Ch(t),10190,{key:t.toString()}),t}function th(e,t){return Qm(e.databaseId,t.path)}function nh(e,t){let n=eh(t);if(n.get(1)!==e.databaseId.projectId)throw new q(K.INVALID_ARGUMENT,`Tried to deserialize key from different project: `+n.get(1)+` vs `+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new q(K.INVALID_ARGUMENT,`Tried to deserialize key from different database: `+n.get(3)+` vs `+e.databaseId.database);return new J(oh(n))}function rh(e,t){return Qm(e.databaseId,t)}function ih(e){let t=eh(e);return t.length===4?td.emptyPath():oh(t)}function ah(e){return new td([`projects`,e.databaseId.projectId,`databases`,e.databaseId.database]).canonicalString()}function oh(e){return Pu(e.length>4&&e.get(4)===`documents`,29091,{key:e.toString()}),e.popFirst(5)}function sh(e,t,n){return{name:th(e,t),fields:n.value.mapValue.fields}}function ch(e,t){let n;if(`targetChange`in t){t.targetChange;let r=function(e){return e===`NO_CHANGE`?0:e===`ADD`?1:e===`REMOVE`?2:e===`CURRENT`?3:e===`RESET`?4:G(39313,{state:e})}(t.targetChange.targetChangeType||`NO_CHANGE`),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Pu(t===void 0||typeof t==`string`,58123),qd.fromBase64String(t||``)):(Pu(t===void 0||t instanceof Buffer||t instanceof Uint8Array,16193),qd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){let t=e.code===void 0?K.UNKNOWN:Em(e.code);return new q(t,e.message||``)}(o);n=new Rm(r,i,a,s||null)}else if(`documentChange`in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=nh(e,r.document.name),a=Zm(r.document.updateTime),o=r.document.createTime?Zm(r.document.createTime):gd.min(),s=new Nf({mapValue:{fields:r.document.fields}}),c=Ff.newFoundDocument(i,a,o,s),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Im(l,u,c.key,c)}else if(`documentDelete`in t){t.documentDelete;let r=t.documentDelete;r.document;let i=nh(e,r.document),a=r.readTime?Zm(r.readTime):gd.min(),o=Ff.newNoDocument(i,a),s=r.removedTargetIds||[];n=new Im([],s,o.key,o)}else if(`documentRemove`in t){t.documentRemove;let r=t.documentRemove;r.document;let i=nh(e,r.document),a=r.removedTargetIds||[];n=new Im([],a,i,null)}else{if(!(`filter`in t))return G(11601,{Rt:t});{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,a=new Sm(r,i),o=e.targetId;n=new Lm(o,a)}}return n}function lh(e,t){let n;if(t instanceof fm)n={update:sh(e,t.key,t.value)};else if(t instanceof _m)n={delete:th(e,t.key)};else if(t instanceof pm)n={update:sh(e,t.key,t.data),updateMask:Sh(t.fieldMask)};else{if(!(t instanceof vm))return G(16599,{Vt:t.type});n={verify:th(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){let n=t.transform;if(n instanceof qp)return{fieldPath:t.field.canonicalString(),setToServerValue:`REQUEST_TIME`};if(n instanceof Jp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Xp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Qp)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw G(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return t.updateTime===void 0?t.exists===void 0?G(27497):{exists:t.exists}:{updateTime:Xm(e,t.updateTime)}}(e,t.precondition)),n}function uh(e,t){return e&&e.length>0?(Pu(t!==void 0,14353),e.map((e=>function(e,t){let n=e.updateTime?Zm(e.updateTime):Zm(t);return n.isEqual(gd.min())&&(n=Zm(t)),new rm(n,e.transformResults||[])}(e,t)))):[]}function dh(e,t){return{documents:[rh(e,t.path)]}}function fh(e,t){let n={structuredQuery:{}},r=t.path,i;t.collectionGroup===null?(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]):(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]),n.parent=rh(e,i);let a=function(e){if(e.length!==0)return xh(Uf.create(e,`and`))}(t.filters);a&&(n.structuredQuery.where=a);let o=function(e){if(e.length!==0)return e.map((e=>function(e){return{field:yh(e.field),direction:gh(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);let s=qm(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function ph(e){let t=ih(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Pu(r===1,65062);let e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){let t=hh(e);return t instanceof Uf&&Gf(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new zf(bh(e.field),function(e){switch(e){case`ASCENDING`:return`asc`;case`DESCENDING`:return`desc`;default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t=typeof e==`object`?e.value:e,Ad(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){let t=!!e.before,n=e.values||[];return new If(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){let t=!e.before,n=e.values||[];return new If(n,t)}(n.endAt)),up(t,i,o,a,s,`F`,c,l)}function mh(e,t){let n=function(e){switch(e){case`TargetPurposeListen`:return null;case`TargetPurposeExistenceFilterMismatch`:return`existence-filter-mismatch`;case`TargetPurposeExistenceFilterMismatchBloom`:return`existence-filter-mismatch-bloom`;case`TargetPurposeLimboResolution`:return`limbo-document`;default:return G(28987,{purpose:e})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function hh(e){return e.unaryFilter===void 0?e.fieldFilter===void 0?e.compositeFilter===void 0?G(30097,{filter:e}):function(e){return Uf.create(e.compositeFilter.filters.map((e=>hh(e))),function(e){switch(e){case`AND`:return`and`;case`OR`:return`or`;default:return G(1026)}}(e.compositeFilter.op))}(e):function(e){return Hf.create(bh(e.fieldFilter.field),function(e){switch(e){case`EQUAL`:return`==`;case`NOT_EQUAL`:return`!=`;case`GREATER_THAN`:return`>`;case`GREATER_THAN_OR_EQUAL`:return`>=`;case`LESS_THAN`:return`<`;case`LESS_THAN_OR_EQUAL`:return`<=`;case`ARRAY_CONTAINS`:return`array-contains`;case`IN`:return`in`;case`NOT_IN`:return`not-in`;case`ARRAY_CONTAINS_ANY`:return`array-contains-any`;case`OPERATOR_UNSPECIFIED`:return G(58110);default:return G(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):function(e){switch(e.unaryFilter.op){case`IS_NAN`:let t=bh(e.unaryFilter.field);return Hf.create(t,`==`,{doubleValue:NaN});case`IS_NULL`:let n=bh(e.unaryFilter.field);return Hf.create(n,`==`,{nullValue:`NULL_VALUE`});case`IS_NOT_NAN`:let r=bh(e.unaryFilter.field);return Hf.create(r,`!=`,{doubleValue:NaN});case`IS_NOT_NULL`:let i=bh(e.unaryFilter.field);return Hf.create(i,`!=`,{nullValue:`NULL_VALUE`});case`OPERATOR_UNSPECIFIED`:return G(61313);default:return G(60726)}}(e)}function gh(e){return Um[e]}function _h(e){return Wm[e]}function vh(e){return Gm[e]}function yh(e){return{fieldPath:e.canonicalString()}}function bh(e){return rd.fromServerFormat(e.fieldPath)}function xh(e){return e instanceof Hf?function(e){if(e.op===`==`){if(Of(e.value))return{unaryFilter:{field:yh(e.field),op:`IS_NAN`}};if(Df(e.value))return{unaryFilter:{field:yh(e.field),op:`IS_NULL`}}}else if(e.op===`!=`){if(Of(e.value))return{unaryFilter:{field:yh(e.field),op:`IS_NOT_NAN`}};if(Df(e.value))return{unaryFilter:{field:yh(e.field),op:`IS_NOT_NULL`}}}return{fieldFilter:{field:yh(e.field),op:_h(e.op),value:e.value}}}(e):e instanceof Uf?function(e){let t=e.getFilters().map((e=>xh(e)));return t.length===1?t[0]:{compositeFilter:{op:vh(e.op),filters:t}}}(e):G(54877,{filter:e})}function Sh(e){let t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Ch(e){return e.length>=4&&e.get(0)===`projects`&&e.get(2)===`databases`}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var wh=class e{constructor(e,t,n,r,i=gd.min(),a=gd.min(),o=qd.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}},Th=class{constructor(e){this.yt=e}};function Eh(e){let t=ph({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType===`LAST`?vp(t,t.limit,`L`):t}
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Dh=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if(`nullValue`in e)this.Ft(t,5);else if(`booleanValue`in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if(`integerValue`in e)this.Ft(t,15),t.Mt(Xd(e.integerValue));else if(`doubleValue`in e){let n=Xd(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),jd(n)?t.Mt(0):t.Mt(n))}else if(`timestampValue`in e){let n=e.timestampValue;this.Ft(t,20),typeof n==`string`&&(n=Yd(n)),t.xt(`${n.seconds||``}`),t.Mt(n.nanos||0)}else if(`stringValue`in e)this.Ot(e.stringValue,t),this.Nt(t);else if(`bytesValue`in e)this.Ft(t,30),t.Bt(Zd(e.bytesValue)),this.Nt(t);else if(`referenceValue`in e)this.Lt(e.referenceValue,t);else if(`geoPointValue`in e){let n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else `mapValue`in e?Mf(e)?this.Ft(t,2**53-1):Af(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):`arrayValue`in e?(this.Qt(e.arrayValue,t),this.Nt(t)):G(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){let n=e.fields||{};this.Ft(t,55);for(let e of Object.keys(n))this.Ot(e,t),this.Ct(n[e],t)}kt(e,t){let n=e.fields||{};this.Ft(t,53);let r=mf,i=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Xd(i)),this.Ot(r,t),this.Ct(n[r],t)}Qt(e,t){let n=e.values||[];this.Ft(t,50);for(let e of n)this.Ct(e,t)}Lt(e,t){this.Ft(t,37),J.fromName(e).path.forEach((e=>{this.Ft(t,60),this.Ut(e,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};Dh.Kt=new Dh;
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Oh=class{constructor(){this.Cn=new kh}addToCollectionParentIndex(e,t){return this.Cn.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(xd.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(xd.min())}updateCollectionGroup(e,t,n){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}},kh=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ud(td.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ud(td.comparator)).toArray()}};new Uint8Array;
/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ah={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jh=41943040,Mh=class e{static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Mh.DEFAULT_COLLECTION_PERCENTILE=10,Mh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mh.DEFAULT=new Mh(jh,Mh.DEFAULT_COLLECTION_PERCENTILE,Mh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mh.DISABLED=new Mh(-1,0,0);
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Nh=class e{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new e(0)}static cr(){return new e(-1)}},Ph=`LruGarbageCollector`,Fh=1048576;function Ih([e,t],[n,r]){let i=qu(e,n);return i===0?qu(t,r):i}var Lh=class{constructor(e){this.Ir=e,this.buffer=new Ud(Ih),this.Er=0}dr(){return++this.Er}Ar(e){let t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();Ih(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}},Rh=class{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&=(this.Rr.cancel(),null)}get started(){return this.Rr!==null}Vr(e){W(Ph,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay(`lru_garbage_collection`,e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Dd(e)?W(Ph,`Ignoring IndexedDB error during garbage collection: `,e):await Td(e)}await this.Vr(3e5)}))}},zh=class{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(Od.ce);let n=new Lh(t);return this.mr.forEachTarget(e,(e=>n.Ar(e.sequenceNumber))).next((()=>this.mr.pr(e,(e=>n.Ar(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(W(`LruGarbageCollector`,`Garbage collection skipped; disabled`),Y.resolve(Ah)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(W(`LruGarbageCollector`,`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ah):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,a,o,s,c,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(W(`LruGarbageCollector`,`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),ku()<=Tr.DEBUG&&W(`LruGarbageCollector`,`LRU Garbage Collection\n\tCounted targets in ${a-l}ms\n\tDetermined least recently used ${r} in `+(o-a)+`ms
\tRemoved ${i} targets in `+(s-o)+`ms
\tRemoved ${e} documents in `+(c-s)+`ms
Total Duration: ${c-l}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}};function Bh(e,t){return new zh(e,t)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Vh=class{constructor(){this.changes=new Ep((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ff.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return n===void 0?this.getFromCache(e,t):Y.resolve(n)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}},Hh=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}},Uh=class{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(n!==null&&lm(n.mutation,e,Gd.empty(),hd.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Lp()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Lp()){let r=Mp();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Ap();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){let n=Mp();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Lp())))}populateOverlays(e,t,n){let r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Op(),a=Pp(),o=function(){return Pp()}();return t.forEach(((e,t)=>{let o=n.get(t.key);r.has(t.key)&&(o===void 0||o.mutation instanceof pm)?i=i.insert(t.key,t):o===void 0?a.set(t.key,Gd.empty()):(a.set(t.key,o.mutation.getFieldMask()),lm(o.mutation,t,o.mutation.getFieldMask(),hd.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>o.set(e,new Hh(t,a.get(e)??null)))),o)))}recalculateAndSaveOverlays(e,t){let n=Pp(),r=new Bd(((e,t)=>e-t)),i=Lp();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(let i of e)i.keys().forEach((e=>{let a=t.get(e);if(a===null)return;let o=n.get(e)||Gd.empty();o=i.applyToLocalView(a,o),n.set(e,o);let s=(r.get(i.batchId)||Lp()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{let a=[],o=r.getReverseIterator();for(;o.hasNext();){let r=o.getNext(),s=r.key,c=r.value,l=Np();c.forEach((e=>{if(!i.has(e)){let r=sm(t.get(e),n.get(e));r!==null&&l.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,l))}return Y.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return J.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{let a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Y.resolve(Mp()),o=_d,s=i;return a.next((t=>Y.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Y.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,Lp()))).next((e=>({batchId:o,changes:jp(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new J(t)).next((e=>{let t=Ap();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,a=Ap();return this.indexManager.getCollectionParents(e,i).next((o=>Y.forEach(o,(o=>{let s=function(e,t){return new lp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{let r=n.getKey();e.get(r)===null&&(e=e.insert(r,Ff.newInvalidDocument(r)))}));let n=Ap();return e.forEach(((e,r)=>{let a=i.get(e);a!==void 0&&lm(a.mutation,r,Gd.empty(),hd.now()),Sp(t,r)&&(n=n.insert(e,r))})),n}))}},Wh=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Y.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Zm(e.createTime)}}(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Eh(e.bundledQuery),readTime:Zm(e.readTime)}}(t)),Y.resolve()}},Gh=class{constructor(){this.overlays=new Bd(J.comparator),this.qr=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){let n=Mp();return Y.forEach(t,(t=>this.getOverlay(e,t).next((e=>{e!==null&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),Y.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.qr.get(n);return r!==void 0&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.qr.delete(n)),Y.resolve()}getOverlaysForCollection(e,t,n){let r=Mp(),i=t.length+1,a=new J(t.child(``)),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){let e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Y.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Bd(((e,t)=>e-t)),a=this.overlays.getIterator();for(;a.hasNext();){let e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);t===null&&(t=Mp(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let o=Mp(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Y.resolve(o)}St(e,t,n){let r=this.overlays.get(n.key);if(r!==null){let e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new xm(t,n));let i=this.qr.get(t);i===void 0&&(i=Lp(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}},Kh=class{constructor(){this.sessionToken=qd.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}},qh=class{constructor(){this.Qr=new Ud(Jh.$r),this.Ur=new Ud(Jh.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){let n=new Jh(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Gr(new Jh(e,t))}zr(e,t){e.forEach((e=>this.removeReference(e,t)))}jr(e){let t=new J(new td([])),n=new Jh(t,e),r=new Jh(t,e+1),i=[];return this.Ur.forEachInRange([n,r],(e=>{this.Gr(e),i.push(e.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let t=new J(new td([])),n=new Jh(t,e),r=new Jh(t,e+1),i=Lp();return this.Ur.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){let t=new Jh(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}},Jh=class{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return J.comparator(e.key,t.key)||qu(e.Yr,t.Yr)}static Kr(e,t){return qu(e.Yr,t.Yr)||J.comparator(e.key,t.key)}},Yh=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ud(Jh.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){let i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new ym(i,t,n,r);this.mutationQueue.push(a);for(let t of r)this.Zr=this.Zr.add(new Jh(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return Y.resolve(a)}lookupMutationBatch(e,t){return Y.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){let n=t+1,r=this.ei(n),i=r<0?0:r;return Y.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?kd:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new Jh(t,0),r=new Jh(t,1/0),i=[];return this.Zr.forEachInRange([n,r],(e=>{let t=this.Xr(e.Yr);i.push(t)})),Y.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ud(qu);return t.forEach((e=>{let t=new Jh(e,0),r=new Jh(e,1/0);this.Zr.forEachInRange([t,r],(e=>{n=n.add(e.Yr)}))})),Y.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;J.isDocumentKey(i)||(i=i.child(``));let a=new Jh(new J(i),0),o=new Ud(qu);return this.Zr.forEachWhile((e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)}),a),Y.resolve(this.ti(o))}ti(e){let t=[];return e.forEach((e=>{let n=this.Xr(e);n!==null&&t.push(n)})),t}removeMutationBatch(e,t){Pu(this.ni(t.batchId,`removed`)===0,55003),this.mutationQueue.shift();let n=this.Zr;return Y.forEach(t.mutations,(r=>{let i=new Jh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){let n=new Jh(t,0),r=this.Zr.firstAfterOrEqual(n);return Y.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}},Xh=class{constructor(e){this.ri=e,this.docs=function(){return new Bd(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return Y.resolve(n?n.document.mutableCopy():Ff.newInvalidDocument(t))}getEntries(e,t){let n=Op();return t.forEach((e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ff.newInvalidDocument(e))})),Y.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Op(),a=t.path,o=new J(a.child(`__id-9223372036854775808__`)),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){let{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Sd(bd(o),n)<=0||(r.has(o.key)||Sp(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Y.resolve(i)}getAllFromCollectionGroup(e,t,n,r){G(9500)}ii(e,t){return Y.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Zh(this)}getSize(e){return Y.resolve(this.size)}},Zh=class extends Vh{constructor(e){super(),this.Nr=e}applyChanges(e){let t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)})),Y.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}},Qh=class{constructor(e){this.persistence=e,this.si=new Ep((e=>op(e)),sp),this.lastRemoteSnapshotVersion=gd.min(),this.highestTargetId=0,this.oi=0,this._i=new qh,this.targetCount=0,this.ai=Nh.ur()}forEachTarget(e,t){return this.si.forEach(((e,n)=>t(n))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Y.resolve()}Pr(e){this.si.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ai=new Nh(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Pr(t),Y.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),--this.targetCount,Y.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Y.waitFor(i).next((()=>r))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){let n=this.si.get(t)||null;return Y.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Y.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Y.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){let n=this._i.Hr(t);return Y.resolve(n)}containsKey(e,t){return Y.resolve(this._i.containsKey(t))}},$h=class{constructor(e,t){this.ui={},this.overlays={},this.ci=new Od(0),this.li=!1,this.li=!0,this.hi=new Kh,this.referenceDelegate=e(this),this.Pi=new Qh(this),this.indexManager=new Oh,this.remoteDocumentCache=function(e){return new Xh(e)}((e=>this.referenceDelegate.Ti(e))),this.serializer=new Th(t),this.Ii=new Wh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Gh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Yh(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){W(`MemoryPersistence`,`Starting transaction:`,e);let r=new eg(this.ci.next());return this.referenceDelegate.Ei(),n(r).next((e=>this.referenceDelegate.di(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ai(e,t){return Y.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}},eg=class extends wd{constructor(e){super(),this.currentSequenceNumber=e}},tg=class e{constructor(e){this.persistence=e,this.Ri=new qh,this.Vi=null}static mi(t){return new e(t)}get fi(){if(this.Vi)return this.Vi;throw G(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Y.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((e=>this.fi.add(e.toString())));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.fi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(n=>{let r=J.fromPath(n);return this.gi(e,r).next((e=>{e||t.removeEntry(r,gd.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Y.or([()=>Y.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}},ng=class e{constructor(e,t){this.persistence=e,this.pi=new Ep((e=>Pd(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Bh(this,t)}static mi(t,n){return new e(t,n)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){let t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}wr(e){let t=0;return this.pr(e,(e=>{t++})).next((()=>t))}pr(e,t){return Y.forEach(this.pi,((n,r)=>this.br(e,n,r).next((e=>e?Y.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0,r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,(r=>this.br(e,r,t).next((e=>{e||(n++,i.removeEntry(r,gd.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Y.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Cf(e.data.value)),t}br(e,t,n){return Y.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.pi.get(t);return Y.resolve(e!==void 0&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}},rg=class e{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(t,n){let r=Lp(),i=Lp();for(let e of n.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new e(t,n.fromCache,r,i)}},ig=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}},ag=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return $n()?8:Ed(Kn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.ys(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ws(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;let n=new ig;return this.Ss(e,t,n).next((r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)}))})).next((()=>i.result))}bs(e,t,n,r){return n.documentReadCount<this.fs?(ku()<=Tr.DEBUG&&W(`QueryEngine`,`SDK will not create cache indexes for query:`,xp(t),`since it only creates cache indexes for collection contains`,`more than or equal to`,this.fs,`documents`),Y.resolve()):(ku()<=Tr.DEBUG&&W(`QueryEngine`,`Query:`,xp(t),`scans`,n.documentReadCount,`local documents and returns`,r,`documents as results.`),n.documentReadCount>this.gs*r?(ku()<=Tr.DEBUG&&W(`QueryEngine`,`The SDK decides to create cache indexes for query:`,xp(t),`as using cache indexes may help improve performance.`),this.indexManager.createTargetIndexes(e,hp(t))):Y.resolve())}ys(e,t){if(fp(t))return Y.resolve(null);let n=hp(t);return this.indexManager.getIndexType(e,n).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=vp(t,null,`F`),n=hp(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{let i=Lp(...r);return this.ps.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{let a=this.Ds(t,r);return this.Cs(t,a,i,n.readTime)?this.ys(e,vp(t,null,`F`)):this.vs(e,a,t,n)}))))})))))}ws(e,t,n,r){return fp(t)||r.isEqual(gd.min())?Y.resolve(null):this.ps.getDocuments(e,n).next((i=>{let a=this.Ds(t,i);return this.Cs(t,a,n,r)?Y.resolve(null):(ku()<=Tr.DEBUG&&W(`QueryEngine`,`Re-using previous result from %s to execute query: %s`,r.toString(),xp(t)),this.vs(e,a,t,yd(r,_d)).next((e=>e)))}))}Ds(e,t){let n=new Ud(wp(e));return t.forEach(((t,r)=>{Sp(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;let i=e.limitType===`F`?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return ku()<=Tr.DEBUG&&W(`QueryEngine`,`Using full collection scan to execute query:`,xp(t)),this.ps.getDocumentsMatchingQuery(e,t,xd.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}},og=`LocalStore`,sg=3e8,cg=class{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Bd(qu),this.xs=new Ep((e=>op(e)),sp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uh(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction(`Collect garbage`,`readwrite-primary`,(t=>e.collect(t,this.Ms)))}};function lg(e,t,n,r){return new cg(e,t,n,r)}async function ug(e,t){let n=Fu(e);return await n.persistence.runTransaction(`Handle user change`,`readonly`,(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{let i=[],a=[],o=Lp();for(let e of r){i.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}for(let e of t){a.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Ls:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function dg(e,t){let n=Fu(e);return n.persistence.runTransaction(`Acknowledge batch`,`readwrite-primary`,(e=>{let r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){let i=n.batch,a=i.keys(),o=Y.resolve();return a.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{let a=n.docVersions.get(e);Pu(a!==null,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Lp();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}function fg(e){let t=Fu(e);return t.persistence.runTransaction(`Get last remote snapshot version`,`readonly`,(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function pg(e,t){let n=Fu(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction(`Apply remote event`,`readwrite-primary`,(e=>{let a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;let o=[];t.targetChanges.forEach(((a,s)=>{let c=i.get(s);if(!c)return;o.push(n.Pi.removeMatchingKeys(e,a.removedDocuments,s).next((()=>n.Pi.addMatchingKeys(e,a.addedDocuments,s))));let l=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.get(s)===null?a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)):l=l.withResumeToken(qd.EMPTY_BYTE_STRING,gd.min()).withLastLimboFreeSnapshotVersion(gd.min()),i=i.insert(s,l),function(e,t,n){return e.resumeToken.approximateByteSize()===0||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=sg?!0:n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,a)&&o.push(n.Pi.updateTargetData(e,l))}));let s=Op(),c=Lp();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(mg(e,a,t.documentUpdates).next((e=>{s=e.ks,c=e.qs}))),!r.isEqual(gd.min())){let t=n.Pi.getLastRemoteSnapshotVersion(e).next((t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Y.waitFor(o).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,c))).next((()=>s))})).then((e=>(n.Ms=i,e)))}function mg(e,t,n){let r=Lp(),i=Lp();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Op();return n.forEach(((n,a)=>{let o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(gd.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||a.version.compareTo(o.version)===0&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):W(og,`Ignoring outdated watch update for `,n,`. Current version:`,o.version,` Watch version:`,a.version)})),{ks:r,qs:i}}))}function hg(e,t){let n=Fu(e);return n.persistence.runTransaction(`Get next mutation batch`,`readonly`,(e=>(t===void 0&&(t=kd),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function gg(e,t){let n=Fu(e);return n.persistence.runTransaction(`Allocate target`,`readwrite`,(e=>{let r;return n.Pi.getTargetData(e,t).next((i=>i?(r=i,Y.resolve(r)):n.Pi.allocateTargetId(e).next((i=>(r=new wh(t,i,`TargetPurposeListen`,e.currentSequenceNumber),n.Pi.addTargetData(e,r).next((()=>r)))))))})).then((e=>{let r=n.Ms.get(e.targetId);return(r===null||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e}))}async function _g(e,t,n){let r=Fu(e),i=r.Ms.get(t),a=n?`readwrite`:`readwrite-primary`;try{n||await r.persistence.runTransaction(`Release target`,a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Dd(e))throw e;W(og,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function vg(e,t,n){let r=Fu(e),i=gd.min(),a=Lp();return r.persistence.runTransaction(`Execute query`,`readwrite`,(e=>function(e,t,n){let r=Fu(e),i=r.xs.get(n);return i===void 0?r.Pi.getTargetData(t,n):Y.resolve(r.Ms.get(i))}(r,e,hp(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:gd.min(),n?a:Lp()))).next((e=>(yg(r,Cp(t),e),{documents:e,Qs:a})))))}function yg(e,t,n){let r=e.Os.get(t)||gd.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Os.set(t,r)}var bg=class{constructor(){this.activeTargetIds=zp()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},xg=class{constructor(){this.Mo=new bg,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||`not-current`}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new bg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}},Sg=class{Oo(e){}shutdown(){}},Cg=`ConnectivityMonitor`,wg=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener(`online`,this.No),window.removeEventListener(`offline`,this.Lo)}Qo(){window.addEventListener(`online`,this.No),window.addEventListener(`offline`,this.Lo)}Bo(){W(Cg,`Network connectivity changed: AVAILABLE`);for(let e of this.qo)e(0)}ko(){W(Cg,`Network connectivity changed: UNAVAILABLE`);for(let e of this.qo)e(1)}static v(){return typeof window<`u`&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}},Tg=null;function Eg(){return Tg===null?Tg=function(){return 268435456+Math.round(2147483648*Math.random())}():Tg++,`0x`+Tg.toString(16)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Dg=`RestConnection`,Og={BatchGetDocuments:`batchGet`,Commit:`commit`,RunQuery:`runQuery`,RunAggregationQuery:`runAggregationQuery`},kg=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?`https`:`http`,n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+`://`+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===cf?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,i){let a=Eg(),o=this.zo(e,t.toUriEncodedString());W(Dg,`Sending RPC '${e}' ${a}:`,o,n);let s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,i);let{host:c}=new URL(o),l=Rn(c);return this.Jo(e,o,s,n,l).then((t=>(W(Dg,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw ju(Dg,`RPC '${e}' ${a} failed with error: `,t,`url: `,o,`request:`,n),t}))}Ho(e,t,n,r,i,a){return this.Go(e,t,n,r,i)}jo(e,t,n){e[`X-Goog-Api-Client`]=function(){return`gl-js/ fire/`+Du}(),e[`Content-Type`]=`text/plain`,this.databaseInfo.appId&&(e[`X-Firebase-GMPID`]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}zo(e,t){let n=Og[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}},Ag=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}},jg=`WebChannelConnection`,Mg=class extends kg{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){let a=Eg();return new Promise(((i,o)=>{let s=new gu;s.setWithCredentials(!0),s.listenOnce(vu.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case yu.NO_ERROR:let t=s.getResponseJson();W(jg,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case yu.TIMEOUT:W(jg,`RPC '${e}' ${a} timed out`),o(new q(K.DEADLINE_EXCEEDED,`Request time out`));break;case yu.HTTP_ERROR:let n=s.getStatus();if(W(jg,`RPC '${e}' ${a} failed with status:`,n,`response text:`,s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;if(t&&t.status&&t.message){let e=function(e){let t=e.toLowerCase().replace(/_/g,`-`);return Object.values(K).indexOf(t)>=0?t:K.UNKNOWN}(t.status);o(new q(e,t.message))}else o(new q(K.UNKNOWN,`Server responded with status `+s.getStatus()))}else o(new q(K.UNAVAILABLE,`Connection failed.`));break;default:G(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{W(jg,`RPC '${e}' ${a} completed.`)}}));let c=JSON.stringify(r);W(jg,`RPC '${e}' ${a} sending request:`,r),s.send(t,`POST`,c,n,15)}))}T_(e,t,n){let r=Eg(),i=[this.Uo,`/`,`google.firestore.v1.Firestore`,`/`,e,`/channel`],a=Cu(),o=Su(),s={httpSessionIdParam:`gsessionid`,initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;let l=i.join(``);W(jg,`Creating RPC '${e}' stream ${r}: ${l}`,s);let u=a.createWebChannel(l,s);this.I_(u);let d=!1,f=!1,p=new Ag({Yo:t=>{f?W(jg,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||=(W(jg,`Opening RPC '${e}' stream ${r} transport.`),u.open(),!0),W(jg,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,_u.EventType.OPEN,(()=>{f||(W(jg,`RPC '${e}' stream ${r} transport opened.`),p.o_())})),m(u,_u.EventType.CLOSE,(()=>{f||(f=!0,W(jg,`RPC '${e}' stream ${r} transport closed`),p.a_(),this.E_(u))})),m(u,_u.EventType.ERROR,(t=>{f||(f=!0,ju(jg,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,`Message:`,t.message),p.a_(new q(K.UNAVAILABLE,`The operation could not be completed`)))})),m(u,_u.EventType.MESSAGE,(t=>{if(!f){let n=t.data[0];Pu(!!n,16349);let i=n,a=i?.error||i[0]?.error;if(a){W(jg,`RPC '${e}' stream ${r} received error:`,a);let t=a.status,n=function(e){let t=Cm[e];if(t!==void 0)return Em(t)}(t),i=a.message;n===void 0&&(n=K.INTERNAL,i=`Unknown error status: `+t+` with message `+a.message),f=!0,p.a_(new q(n,i)),u.close()}else W(jg,`RPC '${e}' stream ${r} received:`,n),p.u_(n)}})),m(o,xu.STAT_EVENT,(t=>{t.stat===bu.PROXY?W(jg,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===bu.NOPROXY&&W(jg,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.__()}),0),p}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}};function Ng(){return typeof document<`u`?document:null}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Pg(e){return new Km(e,!0)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Fg=class{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&W(`ExponentialBackoff`,`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}},Ig=`PersistentStream`,Lg=class{constructor(e,t,n,r,i,a,o,s){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Fg(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state===4?this.N_():this.auth()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&=(this.C_.cancel(),null)}U_(){this.v_&&=(this.v_.cancel(),null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e===4?t&&t.code===K.RESOURCE_EXHAUSTED?(Au(t.toString()),Au(`Using maximum backoff delay to prevent overloading the backend.`),this.M_.g_()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()):this.M_.reset(),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.D_===t&&this.G_(e,n)}),(t=>{e((()=>{let e=new q(K.UNKNOWN,`Fetching auth token failed: `+t.message);return this.z_(e)}))}))}G_(e,t){let n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((e=>{n((()=>this.z_(e)))})),this.stream.onMessage((e=>{n((()=>++this.F_==1?this.J_(e):this.onNext(e)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return W(Ig,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(W(Ig,`stream callback skipped by getCloseGuardedDispatcher.`),Promise.resolve())))}}},Rg=class extends Lg{constructor(e,t,n,r,i,a){super(e,`listen_stream_connection_backoff`,`listen_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_(`Listen`,e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=ch(this.serializer,e),n=function(e){if(!(`targetChange`in e))return gd.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?gd.min():t.readTime?Zm(t.readTime):gd.min()}(e);return this.listener.H_(t,n)}Y_(e){let t={};t.database=ah(this.serializer),t.addTarget=function(e,t){let n,r=t.target;if(n=cp(r)?{documents:dh(e,r)}:{query:fh(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ym(e,t.resumeToken);let r=qm(e,t.expectedCount);r!==null&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(gd.min())>0){n.readTime=Jm(e,t.snapshotVersion.toTimestamp());let r=qm(e,t.expectedCount);r!==null&&(n.expectedCount=r)}return n}(this.serializer,e);let n=mh(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){let t={};t.database=ah(this.serializer),t.removeTarget=e,this.q_(t)}},zg=class extends Lg{constructor(e,t,n,r,i,a){super(e,`write_stream_connection_backoff`,`write_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_(`Write`,e,t)}J_(e){return Pu(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pu(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pu(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=uh(e.writeResults,e.commitTime),n=Zm(e.commitTime);return this.listener.na(n,t)}ra(){let e={};e.database=ah(this.serializer),this.q_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map((e=>lh(this.serializer,e)))};this.q_(t)}},Bg=class{},Vg=class extends Bg{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new q(K.FAILED_PRECONDITION,`The client has already been terminated.`)}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(e,$m(t,n),r,i,a))).catch((e=>{throw e.name===`FirebaseError`?(e.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new q(K.UNKNOWN,e.toString())}))}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,$m(t,n),r,a,o,i))).catch((e=>{throw e.name===`FirebaseError`?(e.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new q(K.UNKNOWN,e.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}},Hg=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=`Unknown`,this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca(`Unknown`),this._a=this.asyncQueue.enqueueAfterDelay(`online_state_timeout`,1e4,(()=>(this._a=null,this.la(`Backend didn't respond within 10 seconds.`),this.ca(`Offline`),Promise.resolve()))))}ha(e){this.state===`Online`?this.ca(`Unknown`):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca(`Offline`)))}set(e){this.Pa(),this.oa=0,e===`Online`&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Au(t),this.aa=!1):W(`OnlineStateTracker`,t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}},Ug=`RemoteStore`,Wg=class{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((e=>{n.enqueueAndForget((async()=>{$g(this)&&(W(Ug,`Restarting streams for network reachability change.`),await async function(e){let t=Fu(e);t.Ea.add(4),await Kg(t),t.Ra.set(`Unknown`),t.Ea.delete(4),await Gg(t)}(this))}))})),this.Ra=new Hg(n,r)}};async function Gg(e){if($g(e))for(let t of e.da)await t(!0)}async function Kg(e){for(let t of e.da)await t(!1)}function qg(e,t){let n=Fu(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Qg(n)?Zg(n):v_(n).O_()&&Yg(n,t))}function Jg(e,t){let n=Fu(e),r=v_(n);n.Ia.delete(t),r.O_()&&Xg(n,t),n.Ia.size===0&&(r.O_()?r.L_():$g(n)&&n.Ra.set(`Unknown`))}function Yg(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gd.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}v_(e).Y_(t)}function Xg(e,t){e.Va.Ue(t),v_(e).Z_(t)}function Zg(e){e.Va=new Bm({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),v_(e).start(),e.Ra.ua()}function Qg(e){return $g(e)&&!v_(e).x_()&&e.Ia.size>0}function $g(e){return Fu(e).Ea.size===0}function e_(e){e.Va=void 0}async function t_(e){e.Ra.set(`Online`)}async function n_(e){e.Ia.forEach(((t,n)=>{Yg(e,t)}))}async function r_(e,t){e_(e),Qg(e)?(e.Ra.ha(t),Zg(e)):e.Ra.set(`Unknown`)}async function i_(e,t,n){if(e.Ra.set(`Online`),t instanceof Rm&&t.state===2&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){W(Ug,`Failed to remove targets %s: %s `,t.targetIds.join(`,`),n),await a_(e,n)}else if(t instanceof Im?e.Va.Ze(t):t instanceof Lm?e.Va.st(t):e.Va.tt(t),!n.isEqual(gd.min()))try{let t=await fg(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.Va.Tt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{let r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(qd.EMPTY_BYTE_STRING,r.snapshotVersion)),Xg(e,t);let i=new wh(r.target,t,n,r.sequenceNumber);Yg(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){W(Ug,`Failed to raise snapshot:`,t),await a_(e,t)}}async function a_(e,t,n){if(!Dd(t))throw t;e.Ea.add(1),await Kg(e),e.Ra.set(`Offline`),n||=()=>fg(e.localStore),e.asyncQueue.enqueueRetryable((async()=>{W(Ug,`Retrying IndexedDB access`),await n(),e.Ea.delete(1),await Gg(e)}))}function o_(e,t){return t().catch((n=>a_(e,n,t)))}async function s_(e){let t=Fu(e),n=y_(t),r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:kd;for(;c_(t);)try{let e=await hg(t.localStore,r);if(e===null){t.Ta.length===0&&n.L_();break}r=e.batchId,l_(t,e)}catch(e){await a_(t,e)}u_(t)&&d_(t)}function c_(e){return $g(e)&&e.Ta.length<10}function l_(e,t){e.Ta.push(t);let n=y_(e);n.O_()&&n.X_&&n.ea(t.mutations)}function u_(e){return $g(e)&&!y_(e).x_()&&e.Ta.length>0}function d_(e){y_(e).start()}async function f_(e){y_(e).ra()}async function p_(e){let t=y_(e);for(let n of e.Ta)t.ea(n.mutations)}async function m_(e,t,n){let r=e.Ta.shift(),i=bm.from(r,t,n);await o_(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await s_(e)}async function h_(e,t){t&&y_(e).X_&&await async function(e,t){if(function(e){return Tm(e)&&e!==K.ABORTED}(t.code)){let n=e.Ta.shift();y_(e).B_(),await o_(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await s_(e)}}(e,t),u_(e)&&d_(e)}async function g_(e,t){let n=Fu(e);n.asyncQueue.verifyOperationInProgress(),W(Ug,`RemoteStore received new credentials`);let r=$g(n);n.Ea.add(3),await Kg(n),r&&n.Ra.set(`Unknown`),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Gg(n)}async function __(e,t){let n=Fu(e);t?(n.Ea.delete(2),await Gg(n)):t||(n.Ea.add(2),await Kg(n),n.Ra.set(`Unknown`))}function v_(e){return e.ma||(e.ma=function(e,t,n){let r=Fu(e);return r.sa(),new Rg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:t_.bind(null,e),t_:n_.bind(null,e),r_:r_.bind(null,e),H_:i_.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),Qg(e)?Zg(e):e.Ra.set(`Unknown`)):(await e.ma.stop(),e_(e))}))),e.ma}function y_(e){return e.fa||(e.fa=function(e,t,n){let r=Fu(e);return r.sa(),new zg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:f_.bind(null,e),r_:h_.bind(null,e),ta:p_.bind(null,e),na:m_.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await s_(e)):(await e.fa.stop(),e.Ta.length>0&&(W(Ug,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var b_=class e{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Iu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){let o=Date.now()+r,s=new e(t,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(K.CANCELLED,`Operation cancelled`+(e?`: `+e:``))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle===null?Promise.resolve():(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e))))))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function x_(e,t){if(Au(`AsyncQueue`,`${t}: ${e}`),Dd(e))return new q(K.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var S_=class e{static emptySet(t){return new e(t.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||J.comparator(t.key,n.key):(e,t)=>J.comparator(e.key,t.key),this.keyedMap=Ap(),this.sortedSet=new Bd(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(!e.isEqual(t))return!1}return!0}toString(){let e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?`DocumentSet ()`:`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(t,n){let r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}},C_=class{constructor(){this.ga=new Bd(J.comparator)}track(e){let t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):G(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}},w_=class e{constructor(e,t,n,r,i,a,o,s,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,a){let o=[];return n.forEach((e=>{o.push({type:0,doc:e})})),new e(t,n,S_.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}},T_=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}},E_=class{constructor(){this.queries=D_(),this.onlineState=`Unknown`,this.Ca=new Set}terminate(){(function(e,t){let n=Fu(e),r=n.queries;n.queries=D_(),r.forEach(((e,n)=>{for(let e of n.Sa)e.onError(t)}))})(this,new q(K.ABORTED,`Firestore shutting down`))}};function D_(){return new Ep((e=>bp(e)),yp)}async function O_(e,t){let n=Fu(e),r=3,i=t.query,a=n.queries.get(i);a?!a.ba()&&t.Da()&&(r=2):(a=new T_,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){let n=x_(e,`Initialization of query '${xp(t.query)}' failed`);t.onError(n);return}n.queries.set(i,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&M_(n)}async function k_(e,t){let n=Fu(e),r=t.query,i=3,a=n.queries.get(r);if(a){let e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function A_(e,t){let n=Fu(e),r=!1;for(let e of t){let t=e.query,i=n.queries.get(t);if(i){for(let t of i.Sa)t.Fa(e)&&(r=!0);i.wa=e}}r&&M_(n)}function j_(e,t,n){let r=Fu(e),i=r.queries.get(t);if(i)for(let e of i.Sa)e.onError(n);r.queries.delete(t)}function M_(e){e.Ca.forEach((e=>{e.next()}))}var N_,P_;(P_=N_||={}).Ma=`default`,P_.Cache=`cache`;var F_=class{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState=`Unknown`,this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)n.type!==3&&t.push(n);e=new w_(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let n=t!==`Offline`;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t===`Offline`)}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=w_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==N_.Cache}},I_=class{constructor(e){this.key=e}},L_=class{constructor(e){this.key=e}},R_=class{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lp(),this.mutatedKeys=Lp(),this.eu=wp(e),this.tu=new S_(this.eu)}get nu(){return this.Ya}ru(e,t){let n=t?t.iu:new C_,r=t?t.tu:this.tu,i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1,s=this.query.limitType===`F`&&r.size===this.query.limit?r.last():null,c=this.query.limitType===`L`&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{let l=r.get(e),u=Sp(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),f=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations),p=!1;l&&u?l.data.isEqual(u.data)?d!==f&&(n.track({type:3,doc:u}),p=!0):this.su(l,u)||(n.track({type:2,doc:u}),p=!0,(s&&this.eu(u,s)>0||c&&this.eu(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),p=!0):l&&!u&&(n.track({type:1,doc:l}),p=!0,(s||c)&&(o=!0)),p&&(u?(a=a.add(u),i=f?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),this.query.limit!==null)for(;a.size>this.query.limit;){let e=this.query.limitType===`F`?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let a=e.iu.ya();a.sort(((e,t)=>function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc))),this.ou(n),r??=!1;let o=t&&!r?this._u():[],s=this.Xa.size===0&&this.current&&!r?1:0,c=s!==this.Za;return this.Za=s,a.length!==0||c?{snapshot:new w_(this.query,e.tu,i,a,e.mutatedKeys,s===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e===`Offline`?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=Lp(),this.tu.forEach((e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))}));let t=[];return e.forEach((e=>{this.Xa.has(e)||t.push(new L_(e))})),this.Xa.forEach((n=>{e.has(n)||t.push(new I_(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=Lp();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return w_.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},z_=`SyncEngine`,B_=class{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}},V_=class{constructor(e){this.key=e,this.hu=!1}},H_=class{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Ep((e=>bp(e)),yp),this.Iu=new Map,this.Eu=new Set,this.du=new Bd(J.comparator),this.Au=new Map,this.Ru=new qh,this.Vu={},this.mu=new Map,this.fu=Nh.cr(),this.onlineState=`Unknown`,this.gu=void 0}get isPrimaryClient(){return!0===this.gu}};async function U_(e,t,n=!0){let r=dv(e),i,a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await G_(r,t,n,!0),i}async function W_(e,t){let n=dv(e);await G_(n,t,!0,!1)}async function G_(e,t,n,r){let i=await gg(e.localStore,hp(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n),s;return r&&(s=await K_(e,t,a,o===`current`,i.resumeToken)),e.isPrimaryClient&&n&&qg(e.remoteStore,i),s}async function K_(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await vg(e.localStore,t.query,!1).then((({documents:e})=>t.view.ru(e,i))));let a=r&&r.targetChanges.get(t.targetId),o=r&&r.targetMismatches.get(t.targetId)!=null,s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return av(e,t.targetId,s.au),s.snapshot}(e,t,n,r);let a=await vg(e.localStore,t,!0),o=new R_(t,a.Qs),s=o.ru(a.documents),c=Fm.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!==`Offline`,i),l=o.applyChanges(s,e.isPrimaryClient,c);av(e,n,l.au);let u=new B_(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),l.snapshot}async function q_(e,t,n){let r=Fu(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((e=>!yp(e,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _g(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Jg(r.remoteStore,i.targetId),rv(r,i.targetId)})).catch(Td)):(rv(r,i.targetId),await _g(r.localStore,i.targetId,!0))}async function J_(e,t){let n=Fu(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jg(n.remoteStore,r.targetId))}async function Y_(e,t,n){let r=fv(e);try{let e=await function(e,t){let n=Fu(e),r=hd.now(),i=t.reduce(((e,t)=>e.add(t.key)),Lp()),a,o;return n.persistence.runTransaction(`Locally write mutations`,`readwrite`,(e=>{let s=Op(),c=Lp();return n.Ns.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{a=i;let o=[];for(let e of t){let t=um(e,a.get(e.key).overlayedDocument);t!=null&&o.push(new pm(e.key,t,Pf(t.value.mapValue),im.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;let r=t.applyToLocalDocumentSet(a,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:jp(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||=new Bd(qu),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await cv(r,e.changes),await s_(r.remoteStore)}catch(e){let t=x_(e,`Failed to persist write`);n.reject(t)}}async function X_(e,t){let n=Fu(e);try{let e=await pg(n.localStore,t);t.targetChanges.forEach(((e,t)=>{let r=n.Au.get(t);r&&(Pu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Pu(r.hu,14607):e.removedDocuments.size>0&&(Pu(r.hu,42227),r.hu=!1))})),await cv(n,e,t)}catch(e){await Td(e)}}function Z_(e,t,n){let r=Fu(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let e=[];r.Tu.forEach(((n,r)=>{let i=r.view.va(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){let n=Fu(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(let e of n.Sa)e.va(t)&&(r=!0)})),r&&M_(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Q_(e,t,n){let r=Fu(e);r.sharedClientState.updateQueryState(t,`rejected`,n);let i=r.Au.get(t),a=i&&i.key;if(a){let e=new Bd(J.comparator);e=e.insert(a,Ff.newNoDocument(a,gd.min()));let n=Lp().add(a),i=new Pm(gd.min(),new Map,new Bd(qu),e,n);await X_(r,i),r.du=r.du.remove(a),r.Au.delete(t),sv(r)}else await _g(r.localStore,t,!1).then((()=>rv(r,t,n))).catch(Td)}async function $_(e,t){let n=Fu(e),r=t.batch.batchId;try{let e=await dg(n.localStore,t);nv(n,r,null),tv(n,r),n.sharedClientState.updateMutationState(r,`acknowledged`),await cv(n,e)}catch(e){await Td(e)}}async function ev(e,t,n){let r=Fu(e);try{let e=await function(e,t){let n=Fu(e);return n.persistence.runTransaction(`Reject batch`,`readwrite-primary`,(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Pu(t!==null,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);nv(r,t,n),tv(r,t),r.sharedClientState.updateMutationState(t,`rejected`,n),await cv(r,e)}catch(e){await Td(e)}}function tv(e,t){(e.mu.get(t)||[]).forEach((e=>{e.resolve()})),e.mu.delete(t)}function nv(e,t,n){let r=Fu(e),i=r.Vu[r.currentUser.toKey()];if(i){let e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function rv(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(let r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((t=>{e.Ru.containsKey(t)||iv(e,t)}))}function iv(e,t){e.Eu.delete(t.path.canonicalString());let n=e.du.get(t);n!==null&&(Jg(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),sv(e))}function av(e,t,n){for(let r of n)r instanceof I_?(e.Ru.addReference(r.key,t),ov(e,r)):r instanceof L_?(W(z_,`Document no longer in limbo: `+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||iv(e,r.key)):G(19791,{wu:r})}function ov(e,t){let n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(W(z_,`New document in limbo: `+n),e.Eu.add(r),sv(e))}function sv(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){let t=e.Eu.values().next().value;e.Eu.delete(t);let n=new J(td.fromString(t)),r=e.fu.next();e.Au.set(r,new V_(n)),e.du=e.du.insert(n,r),qg(e.remoteStore,new wh(hp(dp(n.path)),r,`TargetPurposeLimboResolution`,Od.ce))}}async function cv(e,t,n){let r=Fu(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((e,s)=>{o.push(r.pu(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){let t=e?!e.fromCache:n?.targetChanges.get(s.targetId)?.current;r.sharedClientState.updateQueryState(s.targetId,t?`current`:`not-current`)}if(e){i.push(e);let t=rg.As(s.targetId,e);a.push(t)}})))})),await Promise.all(o),r.Pu.H_(i),await async function(e,t){let n=Fu(e);try{await n.persistence.runTransaction(`notifyLocalViewChanges`,`readwrite`,(e=>Y.forEach(t,(t=>Y.forEach(t.Es,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Y.forEach(t.ds,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Dd(e))throw e;W(og,`Failed to update sequence numbers: `+e)}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=n.Ms.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(t,i)}}}(r.localStore,a))}async function lv(e,t){let n=Fu(e);if(!n.currentUser.isEqual(t)){W(z_,`User change. New user:`,t.toKey());let e=await ug(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach((e=>{e.forEach((e=>{e.reject(new q(K.CANCELLED,t))}))})),e.mu.clear()}(n,`'waitForPendingWrites' promise is rejected due to a user change.`),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await cv(n,e.Ls)}}function uv(e,t){let n=Fu(e),r=n.Au.get(t);if(r&&r.hu)return Lp().add(r.key);{let e=Lp(),r=n.Iu.get(t);if(!r)return e;for(let t of r){let r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function dv(e){let t=Fu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=X_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Q_.bind(null,t),t.Pu.H_=A_.bind(null,t.eventManager),t.Pu.yu=j_.bind(null,t.eventManager),t}function fv(e){let t=Fu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ev.bind(null,t),t}var pv=class{constructor(){this.kind=`memory`,this.synchronizeTabs=!1}async initialize(e){this.serializer=Pg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return lg(this.persistence,new ag,e.initialUser,this.serializer)}Cu(e){return new $h(tg.mi,this.serializer)}Du(e){return new xg}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}};pv.provider={build:()=>new pv};var mv=class extends pv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Pu(this.persistence.referenceDelegate instanceof ng,46915);let n=this.persistence.referenceDelegate.garbageCollector;return new Rh(n,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes===void 0?Mh.DEFAULT:Mh.withCacheSize(this.cacheSizeBytes);return new $h((e=>ng.mi(e,t)),this.serializer)}},hv=class{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Z_(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=lv.bind(null,this.syncEngine),await __(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new E_}()}createDatastore(e){let t=Pg(e.databaseInfo.databaseId),n=function(e){return new Mg(e)}(e.databaseInfo);return function(e,t,n,r){return new Vg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Wg(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Z_(this.syncEngine,e,0)),function(){return wg.v()?new wg:new Sg}())}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){let s=new H_(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){let t=Fu(e);W(Ug,`RemoteStore shutting down.`),t.Ea.add(5),await Kg(t),t.Aa.shutdown(),t.Ra.set(`Unknown`)}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}};hv.provider={build:()=>new hv};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var gv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Au(`Uncaught Error in snapshot listener:`,e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}},_v=`FirestoreClient`,vv=class{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Eu.UNAUTHENTICATED,this.clientId=Ku.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{W(_v,`Received user=`,e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(W(_v,`Received new app check token=`,e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Iu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let n=x_(t,`Failed to shutdown persistence`);e.reject(n)}})),e.promise}};async function yv(e,t){e.asyncQueue.verifyOperationInProgress(),W(_v,`Initializing OfflineComponentProvider`);let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await ug(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function bv(e,t){e.asyncQueue.verifyOperationInProgress();let n=await xv(e);W(_v,`Initializing OnlineComponentProvider`),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>g_(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>g_(t.remoteStore,n))),e._onlineComponents=t}async function xv(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){W(_v,`Using user provided OfflineComponentProvider`);try{await yv(e,e._uninitializedComponentsProvider._offline)}catch(t){let n=t;if(!function(e){return e.name===`FirebaseError`?e.code===K.FAILED_PRECONDITION||e.code===K.UNIMPLEMENTED:!(typeof DOMException<`u`&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}(n))throw n;ju(`Error using user provided cache. Falling back to memory cache: `+n),await yv(e,new pv)}}else W(_v,`Using default OfflineComponentProvider`),await yv(e,new mv(void 0));return e._offlineComponents}async function Sv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(W(_v,`Using user provided OnlineComponentProvider`),await bv(e,e._uninitializedComponentsProvider._online)):(W(_v,`Using default OnlineComponentProvider`),await bv(e,new hv))),e._onlineComponents}function Cv(e){return Sv(e).then((e=>e.syncEngine))}async function wv(e){let t=await Sv(e),n=t.eventManager;return n.onListen=U_.bind(null,t.syncEngine),n.onUnlisten=q_.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=W_.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=J_.bind(null,t.syncEngine),n}function Tv(e,t,n={}){let r=new Iu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){let a=new gv({next:s=>{a.Nu(),t.enqueueAndForget((()=>k_(e,o)));let c=s.docs.has(n);!c&&s.fromCache?i.reject(new q(K.UNAVAILABLE,`Failed to get document because the client is offline.`)):c&&s.fromCache&&r&&r.source===`server`?i.reject(new q(K.UNAVAILABLE,`Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)`)):i.resolve(s)},error:e=>i.reject(e)}),o=new F_(dp(n.path),a,{includeMetadataChanges:!0,qa:!0});return O_(e,o)}(await wv(e),e.asyncQueue,t,n,r))),r.promise}function Ev(e,t,n={}){let r=new Iu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){let a=new gv({next:n=>{a.Nu(),t.enqueueAndForget((()=>k_(e,o))),n.fromCache&&r.source===`server`?i.reject(new q(K.UNAVAILABLE,`Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)`)):i.resolve(n)},error:e=>i.reject(e)}),o=new F_(n,a,{includeMetadataChanges:!0,qa:!0});return O_(e,o)}(await wv(e),e.asyncQueue,t,n,r))),r.promise}
/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Dv(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ov=new Map,kv=`firestore.googleapis.com`,Av=!0,jv=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new q(K.INVALID_ARGUMENT,`Can't provide ssl option if host option is not set`);this.host=kv,this.ssl=Av}else this.host=e.host,this.ssl=e.ssl??Av;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jh;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Fh)throw new q(K.INVALID_ARGUMENT,`cacheSizeBytes must be at least 1048576`);this.cacheSizeBytes=e.cacheSizeBytes}ad(`experimentalForceLongPolling`,e.experimentalForceLongPolling,`experimentalAutoDetectLongPolling`,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dv(e.experimentalLongPollingOptions??{}),function(e){if(e.timeoutSeconds!==void 0){if(isNaN(e.timeoutSeconds))throw new q(K.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new q(K.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new q(K.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Mv=class{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type=`firestore-lite`,this._persistenceKey=`(lite)`,this._settings=new jv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask=`notTerminated`}get app(){if(!this._app)throw new q(K.FAILED_PRECONDITION,`Firestore was not initialized using the Firebase SDK. 'app' is not available`);return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==`notTerminated`}_setSettings(e){if(this._settingsFrozen)throw new q(K.FAILED_PRECONDITION,`Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.`);this._settings=new jv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(e){if(!e)return new Ru;switch(e.type){case`firstParty`:return new Hu(e.sessionIndex||`0`,e.iamToken||null,e.authTokenFactory||null);case`provider`:return e.client;default:throw new q(K.INVALID_ARGUMENT,`makeAuthCredentialsProvider failed due to invalid credential type`)}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask===`notTerminated`&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask===`notTerminated`?await this._terminate():this._terminateTask=`notTerminated`}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=Ov.get(e);t&&(W(`ComponentProvider`,`Removing Datastore`),Ov.delete(e),t.terminate())}(this),Promise.resolve()}};function Nv(e,t,n,r={}){e=ud(e,Mv);let i=Rn(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${n}`;i&&(zn(`https://${s}`),Gn(`Firestore`,!0)),a.host!==kv&&a.host!==s&&ju(`Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.`);let c={...a,host:s,ssl:i,emulatorOptions:r};if(!cr(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if(typeof r.mockUserToken==`string`)t=r.mockUserToken,n=Eu.MOCK_USER;else{t=Bn(r.mockUserToken,e._app?.options.projectId);let i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new q(K.INVALID_ARGUMENT,`mockUserToken must contain 'sub' or 'user_id' field!`);n=new Eu(i)}e._authCredentials=new zu(new Lu(t,n))}}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Pv=class e{constructor(e,t,n){this.converter=t,this._query=n,this.type=`query`,this.firestore=e}withConverter(t){return new e(this.firestore,t,this._query)}},Fv=class e{constructor(e,t,n){this.converter=t,this._key=n,this.type=`document`,this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Iv(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}toJSON(){return{type:e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(fd(n,e._jsonSchema))return new e(t,r||null,new J(td.fromString(n.referencePath)))}};Fv._jsonSchemaVersion=`firestore/documentReference/1.0`,Fv._jsonSchema={type:dd(`string`,Fv._jsonSchemaVersion),referencePath:dd(`string`)};var Iv=class e extends Pv{constructor(e,t,n){super(e,t,dp(n)),this._path=n,this.type=`collection`}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Fv(this.firestore,null,new J(e))}withConverter(t){return new e(this.firestore,t,this._path)}};function Lv(e,t,...n){if(e=_r(e),id(`collection`,`path`,t),e instanceof Mv){let r=td.fromString(t,...n);return sd(r),new Iv(e,null,r)}{if(!(e instanceof Fv||e instanceof Iv))throw new q(K.INVALID_ARGUMENT,`Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(td.fromString(t,...n));return sd(r),new Iv(e.firestore,null,r)}}function Rv(e,t,...n){if(e=_r(e),arguments.length===1&&(t=Ku.newId()),id(`doc`,`path`,t),e instanceof Mv){let r=td.fromString(t,...n);return od(r),new Fv(e,null,new J(r))}{if(!(e instanceof Fv||e instanceof Iv))throw new q(K.INVALID_ARGUMENT,`Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(td.fromString(t,...n));return od(r),new Fv(e.firestore,e instanceof Iv?e.converter:null,new J(r))}}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var zv=`AsyncQueue`,Bv=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Fg(this,`async_queue_retry`),this._c=()=>{let e=Ng();e&&W(zv,`Visibility state changed to `+e.visibilityState),this.M_.w_()},this.ac=e;let t=Ng();t&&typeof t.addEventListener==`function`&&t.addEventListener(`visibilitychange`,this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=Ng();t&&typeof t.removeEventListener==`function`&&t.removeEventListener(`visibilitychange`,this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));let t=new Iu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Dd(e))throw e;W(zv,`Operation failed with retryable error: `+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){let t=this.ac.then((()=>(this.rc=!0,e().catch((e=>{throw this.nc=e,this.rc=!1,Au(`INTERNAL UNHANDLED ERROR: `,Vv(e)),e})).then((e=>(this.rc=!1,e))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let r=b_.createAndSchedule(this,e,t,n,(e=>this.hc(e)));return this.tc.push(r),r}uc(){this.nc&&G(47125,{Pc:Vv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(let t of this.tc)if(t.skipDelay(),e!==`all`&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function Vv(e){let t=e.message||``;return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}var Hv=class extends Mv{constructor(e,t,n,r){super(e,t,n,r),this.type=`firestore`,this._queue=new Bv,this._persistenceKey=r?.name||`[DEFAULT]`}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Bv(e),this._firestoreClient=void 0,await e}}};function Uv(e,t){let n=typeof e==`object`?e:Gi(),r=typeof e==`string`?e:t||cf,i=zi(n,`firestore`).getImmediate({identifier:r});if(!i._initialized){let e=Pn(`firestore`);e&&Nv(i,...e)}return i}function Wv(e){if(e._terminated)throw new q(K.FAILED_PRECONDITION,`The client has already been terminated.`);return e._firestoreClient||Gv(e),e._firestoreClient}function Gv(e){let t=e._freezeSettings(),n=function(e,t,n,r){return new sf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Dv(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,e._app?.options.appId||``,e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new vv(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){let t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Kv=class e{constructor(e){this._byteString=e}static fromBase64String(t){try{return new e(qd.fromBase64String(t))}catch(e){throw new q(K.INVALID_ARGUMENT,`Failed to construct data from Base64 string: `+e)}}static fromUint8Array(t){return new e(qd.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return`Bytes(base64: `+this.toBase64()+`)`}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:e._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(fd(t,e._jsonSchema))return e.fromBase64String(t.bytes)}};Kv._jsonSchemaVersion=`firestore/bytes/1.0`,Kv._jsonSchema={type:dd(`string`,Kv._jsonSchemaVersion),bytes:dd(`string`)};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var qv=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new q(K.INVALID_ARGUMENT,`Invalid field name at argument $(i + 1). Field names must not be empty.`);this._internalPath=new rd(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}},Jv=class{constructor(e){this._methodName=e}},Yv=class e{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new q(K.INVALID_ARGUMENT,`Latitude must be a number between -90 and 90, but was: `+e);if(!isFinite(t)||t<-180||t>180)throw new q(K.INVALID_ARGUMENT,`Longitude must be a number between -180 and 180, but was: `+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qu(this._lat,e._lat)||qu(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:e._jsonSchemaVersion}}static fromJSON(t){if(fd(t,e._jsonSchema))return new e(t.latitude,t.longitude)}};Yv._jsonSchemaVersion=`firestore/geoPoint/1.0`,Yv._jsonSchema={type:dd(`string`,Yv._jsonSchemaVersion),latitude:dd(`number`),longitude:dd(`number`)};
/**
* @license
* Copyright 2024 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Xv=class e{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:e._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(fd(t,e._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e==`number`)))return new e(t.vectorValues);throw new q(K.INVALID_ARGUMENT,`Expected 'vectorValues' field to be a number array`)}}};Xv._jsonSchemaVersion=`firestore/vectorValue/1.0`,Xv._jsonSchema={type:dd(`string`,Xv._jsonSchemaVersion),vectorValues:dd(`object`)};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Zv=/^__.*__$/,Qv=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask===null?new fm(e,this.data,t,this.fieldTransforms):new pm(e,this.data,this.fieldMask,t,this.fieldTransforms)}},$v=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new pm(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function ey(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G(40011,{Ac:e})}}var ty=class e{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new e({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){let t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _y(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc(`Document fields must not be empty`);if(ey(this.Ac)&&Zv.test(e))throw this.Sc(`Document fields cannot begin and end with "__"`)}},ny=class{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Pg(e)}Cc(e,t,n,r=!1){return new ty({Ac:e,methodName:t,Dc:n,path:rd.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ry(e){let t=e._freezeSettings(),n=Pg(e._databaseId);return new ny(e._databaseId,!!t.ignoreUndefinedProperties,n)}function iy(e,t,n,r,i,a={}){let o=e.Cc(a.merge||a.mergeFields?2:0,t,n,i);py(`Data must be an object, but it was:`,o,r);let s=dy(r,o),c,l;if(a.merge)c=new Gd(o.fieldMask),l=o.fieldTransforms;else if(a.mergeFields){let e=[];for(let r of a.mergeFields){let i=my(t,r,n);if(!o.contains(i))throw new q(K.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);vy(e,i)||e.push(i)}c=new Gd(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new Qv(new Nf(s),c,l)}var ay=class e extends Jv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(t){return t instanceof e}},oy=class e extends Jv{_toFieldTransform(e){return new tm(e.path,new qp)}isEqual(t){return t instanceof e}};function sy(e,t,n,r){let i=e.Cc(1,t,n);py(`Data must be an object, but it was:`,i,r);let a=[],o=Nf.empty();Rd(r,((e,r)=>{let s=gy(t,e,n);r=_r(r);let c=i.yc(s);if(r instanceof ay)a.push(s);else{let e=uy(r,c);e!=null&&(a.push(s),o.set(s,e))}}));let s=new Gd(a);return new $v(o,s,i.fieldTransforms)}function cy(e,t,n,r,i,a){let o=e.Cc(1,t,n),s=[my(t,r,n)],c=[i];if(a.length%2!=0)throw new q(K.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<a.length;e+=2)s.push(my(t,a[e])),c.push(a[e+1]);let l=[],u=Nf.empty();for(let e=s.length-1;e>=0;--e)if(!vy(l,s[e])){let t=s[e],n=c[e];n=_r(n);let r=o.yc(t);if(n instanceof ay)l.push(t);else{let e=uy(n,r);e!=null&&(l.push(t),u.set(t,e))}}let d=new Gd(l);return new $v(u,d,o.fieldTransforms)}function ly(e,t,n,r=!1){return uy(n,e.Cc(r?4:3,t))}function uy(e,t){if(fy(e=_r(e)))return py(`Unsupported field value:`,t,e),dy(e,t);if(e instanceof Jv)return function(e,t){if(!ey(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc(`Nested arrays are not supported`);return function(e,t){let n=[],r=0;for(let i of e){let e=uy(i,t.wc(r));e??={nullValue:`NULL_VALUE`},n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if((e=_r(e))===null)return{nullValue:`NULL_VALUE`};if(typeof e==`number`)return Hp(t.serializer,e);if(typeof e==`boolean`)return{booleanValue:e};if(typeof e==`string`)return{stringValue:e};if(e instanceof Date){let n=hd.fromDate(e);return{timestampValue:Jm(t.serializer,n)}}if(e instanceof hd){let n=new hd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Jm(t.serializer,n)}}if(e instanceof Yv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Kv)return{bytesValue:Ym(t.serializer,e._byteString)};if(e instanceof Fv){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Qm(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Xv)return function(e,t){return{mapValue:{fields:{[uf]:{stringValue:pf},[mf]:{arrayValue:{values:e.toArray().map((e=>{if(typeof e!=`number`)throw t.Sc(`VectorValues must only contain numeric values.`);return Bp(t.serializer,e)}))}}}}}}(e,t);throw t.Sc(`Unsupported field value: ${ld(e)}`)}(e,t)}function dy(e,t){let n={};return zd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rd(e,((e,r)=>{let i=uy(r,t.mc(e));i!=null&&(n[e]=i)})),{mapValue:{fields:n}}}function fy(e){return!(typeof e!=`object`||!e||e instanceof Array||e instanceof Date||e instanceof hd||e instanceof Yv||e instanceof Kv||e instanceof Fv||e instanceof Jv||e instanceof Xv)}function py(e,t,n){if(!fy(n)||!cd(n)){let r=ld(n);throw r===`an object`?t.Sc(e+` a custom object`):t.Sc(e+` `+r)}}function my(e,t,n){if((t=_r(t))instanceof qv)return t._internalPath;if(typeof t==`string`)return gy(e,t);throw _y(`Field path arguments must be of type string or `,e,!1,void 0,n)}var hy=RegExp(`[~\\*/\\[\\]]`);function gy(e,t,n){if(t.search(hy)>=0)throw _y(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new qv(...t.split(`.`))._internalPath}catch{throw _y(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function _y(e,t,n,r,i){let a=r&&!r.isEmpty(),o=i!==void 0,s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=`. `;let c=``;return(a||o)&&(c+=` (found`,a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=`)`),new q(K.INVALID_ARGUMENT,s+e+c)}function vy(e,t){return e.some((e=>e.isEqual(t)))}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var yy=class{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Fv(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new by(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(xy(`DocumentSnapshot.get`,e));if(t!==null)return this._userDataWriter.convertValue(t)}}},by=class extends yy{data(){return super.data()}};function xy(e,t){return typeof t==`string`?gy(e,t):t instanceof qv?t._internalPath:t._delegate._internalPath}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Sy(e){if(e.limitType===`L`&&e.explicitOrderBy.length===0)throw new q(K.UNIMPLEMENTED,`limitToLast() queries require specifying at least one orderBy() clause`)}var Cy=class{},wy=class extends Cy{};function Ty(e,t,...n){let r=[];t instanceof Cy&&r.push(t),r=r.concat(n),function(e){let t=e.filter((e=>e instanceof Oy)).length,n=e.filter((e=>e instanceof Ey)).length;if(t>1||t>0&&n>0)throw new q(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let t of r)e=t._apply(e);return e}var Ey=class e extends wy{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type=`where`}static _create(t,n,r){return new e(t,n,r)}_apply(e){let t=this._parse(e);return Ny(e._query,t),new Pv(e.firestore,e.converter,_p(e._query,t))}_parse(e){let t=ry(e.firestore);return function(e,t,n,r,i,a,o){let s;if(i.isKeyField()){if(a===`array-contains`||a===`array-contains-any`)throw new q(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if(a===`in`||a===`not-in`){My(o,a);let t=[];for(let n of o)t.push(jy(r,e,n));s={arrayValue:{values:t}}}else s=jy(r,e,o)}else a!==`in`&&a!==`not-in`&&a!==`array-contains-any`||My(o,a),s=ly(n,t,o,a===`in`||a===`not-in`);return Hf.create(i,a,s)}(e._query,`where`,t,e.firestore._databaseId,this._field,this._op,this._value)}};function Dy(e,t,n){let r=t,i=xy(`where`,e);return Ey._create(i,r,n)}var Oy=class e extends Cy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(t,n){return new e(t,n)}_parse(e){let t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return t.length===1?t[0]:Uf.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(e,t){let n=e,r=t.getFlattenedFilters();for(let e of r)Ny(n,e),n=_p(n,e)}(e._query,t),new Pv(e.firestore,e.converter,_p(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type===`and`?`and`:`or`}},ky=class e extends wy{constructor(e,t){super(),this._field=e,this._direction=t,this.type=`orderBy`}static _create(t,n){return new e(t,n)}_apply(e){let t=function(e,t,n){if(e.startAt!==null)throw new q(K.INVALID_ARGUMENT,`Invalid query. You must not call startAt() or startAfter() before calling orderBy().`);if(e.endAt!==null)throw new q(K.INVALID_ARGUMENT,`Invalid query. You must not call endAt() or endBefore() before calling orderBy().`);return new zf(t,n)}(e._query,this._field,this._direction);return new Pv(e.firestore,e.converter,function(e,t){let n=e.explicitOrderBy.concat([t]);return new lp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}};function Ay(e,t=`asc`){let n=t,r=xy(`orderBy`,e);return ky._create(r,n)}function jy(e,t,n){if(typeof(n=_r(n))==`string`){if(n===``)throw new q(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.`);if(!pp(t)&&n.indexOf(`/`)!==-1)throw new q(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=t.path.child(td.fromString(n));if(!J.isDocumentKey(r))throw new q(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wf(e,new J(r))}if(n instanceof Fv)return wf(e,n._key);throw new q(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ld(n)}.`)}function My(e,t){if(!Array.isArray(e)||e.length===0)throw new q(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Ny(e,t){let n=function(e,t){for(let n of e)for(let e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case`!=`:return[`!=`,`not-in`];case`array-contains-any`:case`in`:return[`not-in`];case`not-in`:return[`array-contains-any`,`in`,`not-in`,`!=`];default:return[]}}(t.op));if(n!==null)throw n===t.op?new q(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new q(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}var Py=class{convertValue(e,t=`none`){switch(hf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw G(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t=`none`){let n={};return Rd(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){let t=e.fields?.[mf].arrayValue?.values?.map((e=>Xd(e.doubleValue)));return new Xv(t)}convertGeoPoint(e){return new Yv(Xd(e.latitude),Xd(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case`previous`:let n=rf(e);return n==null?null:this.convertValue(n,t);case`estimate`:return this.convertTimestamp(af(e));default:return null}}convertTimestamp(e){let t=Yd(e);return new hd(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=td.fromString(e);Pu(Ch(n),9688,{name:e});let r=new lf(n.get(1),n.get(3)),i=new J(n.popFirst(5));return r.isEqual(t)||Au(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Fy(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}var Iy=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ly=class e extends yy{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ry(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(xy(`DocumentSnapshot.get`,e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(K.FAILED_PRECONDITION,`DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t=this._document,n={};return n.type=e._jsonSchemaVersion,n.bundle=``,n.bundleSource=`DocumentSnapshot`,n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,`previous`),n.bundle=(this._firestore,this.ref.path,`NOT SUPPORTED`),n)}};Ly._jsonSchemaVersion=`firestore/documentSnapshot/1.0`,Ly._jsonSchema={type:dd(`string`,Ly._jsonSchemaVersion),bundleSource:dd(`string`,`DocumentSnapshot`),bundleName:dd(`string`),bundle:dd(`string`)};var Ry=class extends Ly{data(e={}){return super.data(e)}},zy=class e{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Iy(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Ry(this._firestore,this._userDataWriter,n.key,n,new Iy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new q(K.INVALID_ARGUMENT,`To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().`);return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{let r=new Ry(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Iy(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:`added`,doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||e.type!==3)).map((t=>{let r=new Ry(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Iy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return t.type!==0&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),t.type!==1&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:By(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(K.FAILED_PRECONDITION,`QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t={};t.type=e._jsonSchemaVersion,t.bundleSource=`QuerySnapshot`,t.bundleName=Ku.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach((e=>{e._document!==null&&(n.push(e._document),r.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,`previous`)),i.push(e.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,`NOT SUPPORTED`),t}};function By(e){switch(e){case 0:return`added`;case 2:case 3:return`modified`;case 1:return`removed`;default:return G(61501,{type:e})}}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Vy(e){e=ud(e,Fv);let t=ud(e.firestore,Hv);return Tv(Wv(t),e._key).then((n=>Yy(t,e,n)))}zy._jsonSchemaVersion=`firestore/querySnapshot/1.0`,zy._jsonSchema={type:dd(`string`,zy._jsonSchemaVersion),bundleSource:dd(`string`,`QuerySnapshot`),bundleName:dd(`string`),bundle:dd(`string`)};var Hy=class extends Py{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kv(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fv(this.firestore,null,t)}};function Uy(e){e=ud(e,Pv);let t=ud(e.firestore,Hv),n=Wv(t),r=new Hy(t);return Sy(e._query),Ev(n,e._query).then((n=>new zy(t,r,e,n)))}function Wy(e,t,n){e=ud(e,Fv);let r=ud(e.firestore,Hv),i=Fy(e.converter,t,n);return Jy(r,[iy(ry(r),`setDoc`,e._key,i,e.converter!==null,n).toMutation(e._key,im.none())])}function Gy(e,t,n,...r){e=ud(e,Fv);let i=ud(e.firestore,Hv),a=ry(i),o;return o=typeof(t=_r(t))==`string`||t instanceof qv?cy(a,`updateDoc`,e._key,t,n,r):sy(a,`updateDoc`,e._key,t),Jy(i,[o.toMutation(e._key,im.exists(!0))])}function Ky(e){return Jy(ud(e.firestore,Hv),[new _m(e._key,im.none())])}function qy(e,t){let n=ud(e.firestore,Hv),r=Rv(e),i=Fy(e.converter,t);return Jy(n,[iy(ry(e.firestore),`addDoc`,r._key,i,e.converter!==null,{}).toMutation(r._key,im.exists(!1))]).then((()=>r))}function Jy(e,t){return function(e,t){let n=new Iu;return e.asyncQueue.enqueueAndForget((async()=>Y_(await Cv(e),t,n))),n.promise}(Wv(e),t)}function Yy(e,t,n){let r=n.docs.get(t._key),i=new Hy(e);return new Ly(e,i,t._key,r,new Iy(n.hasPendingWrites,n.fromCache),t.converter)}function Xy(){return new oy(`serverTimestamp`)}(function(e,t=!0){(function(e){Du=e})(Ui),Ri(new vr(`firestore`,((e,{instanceIdentifier:n,options:r})=>{let i=e.getProvider(`app`).getImmediate(),a=new Hv(new Bu(e.getProvider(`auth-internal`)),new Wu(i,e.getProvider(`app-check-internal`)),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,[`projectId`]))throw new q(K.INVALID_ARGUMENT,`"projectId" not provided in firebase.initializeApp.`);return new lf(e.options.projectId,t)}(i,n),i);return r={useFetchStreams:t,...r},a._setSettings(r),a}),`PUBLIC`).setMultipleInstances(!0)),Ki(wu,Tu,e),Ki(wu,Tu,`esm2020`)})();
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Zy=`firebasestorage.googleapis.com`,Qy=`storageBucket`,$y=120*1e3,eb=600*1e3,tb=class e extends rr{constructor(t,n,r=0){super(rb(t),`Firebase Storage: ${n} (${rb(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,e.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}},nb;(function(e){e.UNKNOWN=`unknown`,e.OBJECT_NOT_FOUND=`object-not-found`,e.BUCKET_NOT_FOUND=`bucket-not-found`,e.PROJECT_NOT_FOUND=`project-not-found`,e.QUOTA_EXCEEDED=`quota-exceeded`,e.UNAUTHENTICATED=`unauthenticated`,e.UNAUTHORIZED=`unauthorized`,e.UNAUTHORIZED_APP=`unauthorized-app`,e.RETRY_LIMIT_EXCEEDED=`retry-limit-exceeded`,e.INVALID_CHECKSUM=`invalid-checksum`,e.CANCELED=`canceled`,e.INVALID_EVENT_NAME=`invalid-event-name`,e.INVALID_URL=`invalid-url`,e.INVALID_DEFAULT_BUCKET=`invalid-default-bucket`,e.NO_DEFAULT_BUCKET=`no-default-bucket`,e.CANNOT_SLICE_BLOB=`cannot-slice-blob`,e.SERVER_FILE_WRONG_SIZE=`server-file-wrong-size`,e.NO_DOWNLOAD_URL=`no-download-url`,e.INVALID_ARGUMENT=`invalid-argument`,e.INVALID_ARGUMENT_COUNT=`invalid-argument-count`,e.APP_DELETED=`app-deleted`,e.INVALID_ROOT_OPERATION=`invalid-root-operation`,e.INVALID_FORMAT=`invalid-format`,e.INTERNAL_ERROR=`internal-error`,e.UNSUPPORTED_ENVIRONMENT=`unsupported-environment`})(nb||={});function rb(e){return`storage/`+e}function ib(){return new tb(nb.UNKNOWN,`An unknown error occurred, please check the error payload for server response.`)}function ab(e){return new tb(nb.OBJECT_NOT_FOUND,`Object '`+e+`' does not exist.`)}function ob(e){return new tb(nb.QUOTA_EXCEEDED,`Quota for bucket '`+e+`' exceeded, please view quota on https://firebase.google.com/pricing/.`)}function sb(){return new tb(nb.UNAUTHENTICATED,`User is not authenticated, please authenticate using Firebase Authentication and try again.`)}function cb(){return new tb(nb.UNAUTHORIZED_APP,`This app does not have permission to access Firebase Storage on this project.`)}function lb(e){return new tb(nb.UNAUTHORIZED,`User does not have permission to access '`+e+`'.`)}function ub(){return new tb(nb.RETRY_LIMIT_EXCEEDED,`Max retry time for operation exceeded, please try again.`)}function db(){return new tb(nb.CANCELED,`User canceled the upload/download.`)}function fb(e){return new tb(nb.INVALID_URL,`Invalid URL '`+e+`'.`)}function pb(e){return new tb(nb.INVALID_DEFAULT_BUCKET,`Invalid default bucket '`+e+`'.`)}function mb(){return new tb(nb.NO_DEFAULT_BUCKET,`No default bucket found. Did you set the '`+Qy+`' property when initializing the app?`)}function hb(){return new tb(nb.CANNOT_SLICE_BLOB,`Cannot slice blob for upload. Please retry the upload.`)}function gb(){return new tb(nb.NO_DOWNLOAD_URL,`The given file does not have any download URLs.`)}function _b(e){return new tb(nb.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function vb(e){return new tb(nb.INVALID_ARGUMENT,e)}function yb(){return new tb(nb.APP_DELETED,`The Firebase app was deleted.`)}function bb(e){return new tb(nb.INVALID_ROOT_OPERATION,`The operation '`+e+`' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').`)}function xb(e,t){return new tb(nb.INVALID_FORMAT,`String does not match format '`+e+`': `+t)}function Sb(e){throw new tb(nb.INTERNAL_ERROR,`Internal error: `+e)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Cb=class e{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return`/b/`+e(this.bucket)+`/o/`+e(this.path)}bucketOnlyServerUrl(){return`/b/`+encodeURIComponent(this.bucket)+`/o`}static makeFromBucketSpec(t,n){let r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,``)}if(r.path===``)return r;throw pb(t)}static makeFromUrl(t,n){let r=null,i=`([A-Za-z0-9.\\-_]+)`;function a(e){e.path.charAt(e.path.length-1)===`/`&&(e.path_=e.path_.slice(0,-1))}let o=RegExp(`^gs://`+i+`(/(.*))?$`,`i`),s={bucket:1,path:3};function c(e){e.path_=decodeURIComponent(e.path)}let l=n.replace(/[.]/g,`\\.`),u=RegExp(`^https?://${l}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?\$`,`i`),d={bucket:1,path:3},f=n===Zy?`(?:storage.googleapis.com|storage.cloud.google.com)`:n,p=RegExp(`^https?://${f}/${i}/([^?#]*)`,`i`),m=[{regex:o,indices:s,postModify:a},{regex:u,indices:d,postModify:c},{regex:p,indices:{bucket:1,path:2},postModify:c}];for(let n=0;n<m.length;n++){let i=m[n],a=i.regex.exec(t);if(a){let t=a[i.indices.bucket],n=a[i.indices.path];n||=``,r=new e(t,n),i.postModify(r);break}}if(r==null)throw fb(t);return r}},wb=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Tb(e,t,n){let r=1,i=null,a=null,o=!1,s=0;function c(){return s===2}let l=!1;function u(...e){l||(l=!0,t.apply(null,e))}function d(t){i=setTimeout(()=>{i=null,e(p,c())},t)}function f(){a&&clearTimeout(a)}function p(e,...t){if(l){f();return}if(e){f(),u.call(null,e,...t);return}if(c()||o){f(),u.call(null,e,...t);return}r<64&&(r*=2);let n;s===1?(s=2,n=0):n=(r+Math.random())*1e3,d(n)}let m=!1;function h(e){m||(m=!0,f(),!l&&(i===null?e||(s=1):(e||(s=2),clearTimeout(i),d(0))))}return d(0),a=setTimeout(()=>{o=!0,h(!0)},n),h}function Eb(e){e(!1)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Db(e){return e!==void 0}function Ob(e){return typeof e==`object`&&!Array.isArray(e)}function kb(e){return typeof e==`string`||e instanceof String}function Ab(e){return jb()&&e instanceof Blob}function jb(){return typeof Blob<`u`}function Mb(e,t,n,r){if(r<t)throw vb(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw vb(`Invalid value for '${e}'. Expected ${n} or less.`)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Nb(e,t,n){let r=t;return n??(r=`https://${t}`),`${n}://${r}/v0${e}`}function Pb(e){let t=encodeURIComponent,n=`?`;for(let r in e)if(e.hasOwnProperty(r)){let i=t(r)+`=`+t(e[r]);n=n+i+`&`}return n=n.slice(0,-1),n}var Fb;(function(e){e[e.NO_ERROR=0]=`NO_ERROR`,e[e.NETWORK_ERROR=1]=`NETWORK_ERROR`,e[e.ABORT=2]=`ABORT`})(Fb||={});
/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Ib(e,t){let n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return n||r||i}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Lb=class{constructor(e,t,n,r,i,a,o,s,c,l,u,d=!0,f=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){let e=(e,t)=>{if(t){e(!1,new Rb(!1,null,!0));return}let n=this.connectionFactory_();this.pendingConnection_=n;let r=e=>{let t=e.loaded,n=e.lengthComputable?e.total:-1;this.progressCallback_!==null&&this.progressCallback_(t,n)};this.progressCallback_!==null&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&n.removeUploadProgressListener(r),this.pendingConnection_=null;let t=n.getErrorCode()===Fb.NO_ERROR,i=n.getStatus();if(!t||Ib(i,this.additionalRetryCodes_)&&this.retry){let t=n.getErrorCode()===Fb.ABORT;e(!1,new Rb(!1,null,t));return}let a=this.successCodes_.indexOf(i)!==-1;e(!0,new Rb(a,n))})},t=(e,t)=>{let n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{let e=this.callback_(i,i.getResponse());Db(e)?n(e):n()}catch(e){r(e)}else if(i!==null){let e=ib();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){let e=this.appDelete_?yb():db();r(e)}else{let e=ub();r(e)}};this.canceled_?t(!1,new Rb(!1,null,!0)):this.backoffId_=Tb(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Eb(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Rb=class{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}};function zb(e,t){t!==null&&t.length>0&&(e.Authorization=`Firebase `+t)}function Bb(e,t){e[`X-Firebase-Storage-Version`]=`webjs/`+(t??`AppManager`)}function Vb(e,t){t&&(e[`X-Firebase-GMPID`]=t)}function Hb(e,t){t!==null&&(e[`X-Firebase-AppCheck`]=t)}function Ub(e,t,n,r,i,a,o=!0,s=!1){let c=Pb(e.urlParams),l=e.url+c,u=Object.assign({},e.headers);return Vb(u,t),zb(u,n),Bb(u,a),Hb(u,r),new Lb(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o,s)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Wb(){if(typeof BlobBuilder<`u`)return BlobBuilder;if(typeof WebKitBlobBuilder<`u`)return WebKitBlobBuilder}function Gb(...e){let t=Wb();if(t!==void 0){let n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}else if(jb())return new Blob(e);else throw new tb(nb.UNSUPPORTED_ENVIRONMENT,`This browser doesn't seem to support creating Blobs`)}function Kb(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function qb(e){if(typeof atob>`u`)throw _b(`base-64`);return atob(e)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Jb={RAW:`raw`,BASE64:`base64`,BASE64URL:`base64url`,DATA_URL:`data_url`},Yb=class{constructor(e,t){this.data=e,this.contentType=t||null}};function Xb(e,t){switch(e){case Jb.RAW:return new Yb(Zb(t));case Jb.BASE64:case Jb.BASE64URL:return new Yb($b(e,t));case Jb.DATA_URL:return new Yb(tx(t),nx(t))}throw ib()}function Zb(e){let t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)==55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)==56320))t.push(239,191,189);else{let i=r,a=e.charCodeAt(++n);r=65536|(i&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else (r&64512)==56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Qb(e){let t;try{t=decodeURIComponent(e)}catch{throw xb(Jb.DATA_URL,`Malformed data URL.`)}return Zb(t)}function $b(e,t){switch(e){case Jb.BASE64:{let n=t.indexOf(`-`)!==-1,r=t.indexOf(`_`)!==-1;if(n||r)throw xb(e,`Invalid character '`+(n?`-`:`_`)+`' found: is it base64url encoded?`);break}case Jb.BASE64URL:{let n=t.indexOf(`+`)!==-1,r=t.indexOf(`/`)!==-1;if(n||r)throw xb(e,`Invalid character '`+(n?`+`:`/`)+`' found: is it base64 encoded?`);t=t.replace(/-/g,`+`).replace(/_/g,`/`);break}}let n;try{n=qb(t)}catch(t){throw t.message.includes(`polyfill`)?t:xb(e,`Invalid character found`)}let r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r}var ex=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw xb(Jb.DATA_URL,`Must be formatted 'data:[<mediatype>][;base64],<data>`);let n=t[1]||null;n!=null&&(this.base64=rx(n,`;base64`),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(`,`)+1)}};function tx(e){let t=new ex(e);return t.base64?$b(Jb.BASE64,t.rest):Qb(t.rest)}function nx(e){return new ex(e).contentType}function rx(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var ix=class e{constructor(e,t){let n=0,r=``;Ab(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,n){if(Ab(this.data_)){let r=this.data_,i=Kb(r,t,n);return i===null?null:new e(i)}else{let r=new Uint8Array(this.data_.buffer,t,n-t);return new e(r,!0)}}static getBlob(...t){if(jb()){let n=t.map(t=>t instanceof e?t.data_:t);return new e(Gb.apply(null,n))}else{let n=t.map(e=>kb(e)?Xb(Jb.RAW,e).data:e.data_),r=0;n.forEach(e=>{r+=e.byteLength});let i=new Uint8Array(r),a=0;return n.forEach(e=>{for(let t=0;t<e.length;t++)i[a++]=e[t]}),new e(i,!0)}}uploadData(){return this.data_}};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function ax(e){let t;try{t=JSON.parse(e)}catch{return null}return Ob(t)?t:null}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function ox(e){if(e.length===0)return null;let t=e.lastIndexOf(`/`);return t===-1?``:e.slice(0,t)}function sx(e,t){let n=t.split(`/`).filter(e=>e.length>0).join(`/`);return e.length===0?n:e+`/`+n}function cx(e){let t=e.lastIndexOf(`/`,e.length-2);return t===-1?e:e.slice(t+1)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function lx(e,t){return t}var ux=class{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||lx}},dx=null;function fx(e){return!kb(e)||e.length<2?e:cx(e)}function px(){if(dx)return dx;let e=[];e.push(new ux(`bucket`)),e.push(new ux(`generation`)),e.push(new ux(`metageneration`)),e.push(new ux(`name`,`fullPath`,!0));function t(e,t){return fx(t)}let n=new ux(`name`);n.xform=t,e.push(n);function r(e,t){return t===void 0?t:Number(t)}let i=new ux(`size`);return i.xform=r,e.push(i),e.push(new ux(`timeCreated`)),e.push(new ux(`updated`)),e.push(new ux(`md5Hash`,null,!0)),e.push(new ux(`cacheControl`,null,!0)),e.push(new ux(`contentDisposition`,null,!0)),e.push(new ux(`contentEncoding`,null,!0)),e.push(new ux(`contentLanguage`,null,!0)),e.push(new ux(`contentType`,null,!0)),e.push(new ux(`metadata`,`customMetadata`,!0)),dx=e,dx}function mx(e,t){function n(){let n=e.bucket,r=e.fullPath,i=new Cb(n,r);return t._makeStorageReference(i)}Object.defineProperty(e,`ref`,{get:n})}function hx(e,t,n){let r={};r.type=`file`;let i=n.length;for(let e=0;e<i;e++){let i=n[e];r[i.local]=i.xform(r,t[i.server])}return mx(r,e),r}function gx(e,t,n){let r=ax(t);return r===null?null:hx(e,r,n)}function _x(e,t,n,r){let i=ax(t);if(i===null||!kb(i.downloadTokens))return null;let a=i.downloadTokens;if(a.length===0)return null;let o=encodeURIComponent;return a.split(`,`).map(t=>{let i=e.bucket,a=e.fullPath,s=`/b/`+o(i)+`/o/`+o(a),c=Nb(s,n,r),l=Pb({alt:`media`,token:t});return c+l})[0]}function vx(e,t){let n={},r=t.length;for(let i=0;i<r;i++){let r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}var yx=class{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function bx(e){if(!e)throw ib()}function xx(e,t){function n(n,r){let i=gx(e,r,t);return bx(i!==null),i}return n}function Sx(e,t){function n(n,r){let i=gx(e,r,t);return bx(i!==null),_x(i,r,e.host,e._protocol)}return n}function Cx(e){function t(t,n){let r;return r=t.getStatus()===401?t.getErrorText().includes(`Firebase App Check token is invalid`)?cb():sb():t.getStatus()===402?ob(e.bucket):t.getStatus()===403?lb(e.path):n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}return t}function wx(e){let t=Cx(e);function n(n,r){let i=t(n,r);return n.getStatus()===404&&(i=ab(e.path)),i.serverResponse=r.serverResponse,i}return n}function Tx(e,t,n){let r=t.fullServerUrl(),i=Nb(r,e.host,e._protocol),a=e.maxOperationRetryTime,o=new yx(i,`GET`,Sx(e,n),a);return o.errorHandler=wx(t),o}function Ex(e,t){return e&&e.contentType||t&&t.type()||`application/octet-stream`}function Dx(e,t,n){let r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||=Ex(null,t),r}function Ox(e,t,n,r,i){let a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":`multipart`};function s(){let e=``;for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}let c=s();o[`Content-Type`]=`multipart/related; boundary=`+c;let l=Dx(t,r,i),u=vx(l,n),d=`--`+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+l.contentType+`\r
\r
`,f=`\r
--`+c+`--`,p=ix.getBlob(d,r,f);if(p===null)throw hb();let m={name:l.fullPath},h=Nb(a,e.host,e._protocol),g=e.maxUploadRetryTime,_=new yx(h,`POST`,xx(e,n),g);return _.urlParams=m,_.headers=o,_.body=p.uploadData(),_.errorHandler=Cx(t),_}var kx=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fb.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener(`abort`,()=>{this.errorCode_=Fb.ABORT,e()}),this.xhr_.addEventListener(`error`,()=>{this.errorCode_=Fb.NETWORK_ERROR,e()}),this.xhr_.addEventListener(`load`,()=>{e()})})}send(e,t,n,r,i){if(this.sent_)throw Sb(`cannot .send() more than once`);if(Rn(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(let e in i)i.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,i[e].toString());return r===void 0?this.xhr_.send():this.xhr_.send(r),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sb(`cannot .getErrorCode() before sending`);return this.errorCode_}getStatus(){if(!this.sent_)throw Sb(`cannot .getStatus() before sending`);try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Sb(`cannot .getResponse() before sending`);return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sb(`cannot .getErrorText() before sending`);return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener(`progress`,e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener(`progress`,e)}},Ax=class extends kx{initXhr(){this.xhr_.responseType=`text`}};function jx(){return new Ax}
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Mx=class e{constructor(e,t){this._service=e,t instanceof Cb?this._location=t:this._location=Cb.makeFromUrl(t,e.host)}toString(){return`gs://`+this._location.bucket+`/`+this._location.path}_newRef(t,n){return new e(t,n)}get root(){let e=new Cb(this._location.bucket,``);return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cx(this._location.path)}get storage(){return this._service}get parent(){let t=ox(this._location.path);if(t===null)return null;let n=new Cb(this._location.bucket,t);return new e(this._service,n)}_throwIfRoot(e){if(this._location.path===``)throw bb(e)}};function Nx(e,t,n){e._throwIfRoot(`uploadBytes`);let r=Ox(e.storage,e._location,px(),new ix(t,!0),n);return e.storage.makeRequestWithTokens(r,jx).then(t=>({metadata:t,ref:e}))}function Px(e){e._throwIfRoot(`getDownloadURL`);let t=Tx(e.storage,e._location,px());return e.storage.makeRequestWithTokens(t,jx).then(e=>{if(e===null)throw gb();return e})}function Fx(e,t){let n=sx(e._location.path,t),r=new Cb(e._location.bucket,n);return new Mx(e.storage,r)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Ix(e){return/^[A-Za-z]+:\/\//.test(e)}function Lx(e,t){return new Mx(e,t)}function Rx(e,t){if(e instanceof Hx){let n=e;if(n._bucket==null)throw mb();let r=new Mx(n,n._bucket);return t==null?r:Rx(r,t)}else if(t!==void 0)return Fx(e,t);else return e}function zx(e,t){if(t&&Ix(t)){if(e instanceof Hx)return Lx(e,t);throw vb(`To use ref(service, url), the first argument must be a Storage instance.`)}else return Rx(e,t)}function Bx(e,t){let n=t?.[Qy];return n==null?null:Cb.makeFromBucketSpec(n,e)}function Vx(e,t,n,r={}){e.host=`${t}:${n}`;let i=Rn(t);i&&(zn(`https://${e.host}/b`),Gn(`Storage`,!0)),e._isUsingEmulator=!0,e._protocol=i?`https`:`http`;let{mockUserToken:a}=r;a&&(e._overrideAuthToken=typeof a==`string`?a:Bn(a,e.app.options.projectId))}var Hx=class{constructor(e,t,n,r,i,a=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=Zy,this._protocol=`https`,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$y,this._maxUploadRetryTime=eb,this._requests=new Set,r==null?this._bucket=Bx(this._host,this.app.options):this._bucket=Cb.makeFromBucketSpec(r,this._host)}get host(){return this._host}set host(e){this._host=e,this._url==null?this._bucket=Bx(e,this.app.options):this._bucket=Cb.makeFromBucketSpec(this._url,e)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Mb(`time`,0,1/0,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Mb(`time`,0,1/0,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mx(this,e)}_makeRequest(e,t,n,r,i=!0){if(this._deleted)return new wb(yb());{let a=Ub(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){let[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}},Ux=`@firebase/storage`,Wx=`0.14.0`,Gx=`storage`;function Kx(e,t,n){return e=_r(e),Nx(e,t,n)}function qx(e){return e=_r(e),Px(e)}function Jx(e,t){return e=_r(e),zx(e,t)}function Yx(e=Gi(),t){e=_r(e);let n=zi(e,Gx).getImmediate({identifier:t}),r=Pn(`storage`);return r&&Xx(n,...r),n}function Xx(e,t,n,r={}){Vx(e,t,n,r)}function Zx(e,{instanceIdentifier:t}){let n=e.getProvider(`app`).getImmediate(),r=e.getProvider(`auth-internal`),i=e.getProvider(`app-check-internal`);return new Hx(n,r,i,t,Ui)}function Qx(){Ri(new vr(Gx,Zx,`PUBLIC`).setMultipleInstances(!0)),Ki(Ux,Wx,``),Ki(Ux,Wx,`esm2020`)}Qx();var $x=null,eS=null,tS=null,nS=null;$x=Wi({apiKey:`AIzaSyDKFFXhB6z3DDTCEdwJV1FZcQ97pa72ogI`,authDomain:`fremio-64884.firebaseapp.com`,projectId:`fremio-64884`,storageBucket:`fremio-64884.firebasestorage.app`,messagingSenderId:`726158761244`,appId:`1:726158761244:web:c884d6c0696712cb2f6ed9`}),eS=cu($x),tS=Uv($x),nS=Yx($x),console.log(` Firebase initialized successfully`);var rS=u(s(((exports,t)=>{var n=(function(){var e=String.fromCharCode,t=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=`,n=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$`,r={};function i(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var a={compressToBase64:function(e){if(e==null)return``;var n=a._compress(e,6,function(e){return t.charAt(e)});switch(n.length%4){default:case 0:return n;case 1:return n+`===`;case 2:return n+`==`;case 3:return n+`=`}},decompressFromBase64:function(e){return e==null?``:e==``?null:a._decompress(e.length,32,function(n){return i(t,e.charAt(n))})},compressToUTF16:function(t){return t==null?``:a._compress(t,15,function(t){return e(t+32)})+` `},decompressFromUTF16:function(e){return e==null?``:e==``?null:a._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=a.compress(e),n=new Uint8Array(t.length*2),r=0,i=t.length;r<i;r++){var o=t.charCodeAt(r);n[r*2]=o>>>8,n[r*2+1]=o%256}return n},decompressFromUint8Array:function(t){if(t==null)return a.decompress(t);for(var n=Array(t.length/2),r=0,i=n.length;r<i;r++)n[r]=t[r*2]*256+t[r*2+1];var o=[];return n.forEach(function(t){o.push(e(t))}),a.decompress(o.join(``))},compressToEncodedURIComponent:function(e){return e==null?``:a._compress(e,6,function(e){return n.charAt(e)})},decompressFromEncodedURIComponent:function(e){return e==null?``:e==``?null:(e=e.replace(/ /g,`+`),a._decompress(e.length,32,function(t){return i(n,e.charAt(t))}))},compress:function(t){return a._compress(t,16,function(t){return e(t)})},_compress:function(e,t,n){if(e==null)return``;var r,i,a={},o={},s=``,c=``,l=``,u=2,d=3,f=2,p=[],m=0,h=0,g;for(g=0;g<e.length;g+=1)if(s=e.charAt(g),Object.prototype.hasOwnProperty.call(a,s)||(a[s]=d++,o[s]=!0),c=l+s,Object.prototype.hasOwnProperty.call(a,c))l=c;else{if(Object.prototype.hasOwnProperty.call(o,l)){if(l.charCodeAt(0)<256){for(r=0;r<f;r++)m<<=1,h==t-1?(h=0,p.push(n(m)),m=0):h++;for(i=l.charCodeAt(0),r=0;r<8;r++)m=m<<1|i&1,h==t-1?(h=0,p.push(n(m)),m=0):h++,i>>=1}else{for(i=1,r=0;r<f;r++)m=m<<1|i,h==t-1?(h=0,p.push(n(m)),m=0):h++,i=0;for(i=l.charCodeAt(0),r=0;r<16;r++)m=m<<1|i&1,h==t-1?(h=0,p.push(n(m)),m=0):h++,i>>=1}u--,u==0&&(u=2**f,f++),delete o[l]}else for(i=a[l],r=0;r<f;r++)m=m<<1|i&1,h==t-1?(h=0,p.push(n(m)),m=0):h++,i>>=1;u--,u==0&&(u=2**f,f++),a[c]=d++,l=String(s)}if(l!==``){if(Object.prototype.hasOwnProperty.call(o,l)){if(l.charCodeAt(0)<256){for(r=0;r<f;r++)m<<=1,h==t-1?(h=0,p.push(n(m)),m=0):h++;for(i=l.charCodeAt(0),r=0;r<8;r++)m=m<<1|i&1,h==t-1?(h=0,p.push(n(m)),m=0):h++,i>>=1}else{for(i=1,r=0;r<f;r++)m=m<<1|i,h==t-1?(h=0,p.push(n(m)),m=0):h++,i=0;for(i=l.charCodeAt(0),r=0;r<16;r++)m=m<<1|i&1,h==t-1?(h=0,p.push(n(m)),m=0):h++,i>>=1}u--,u==0&&(u=2**f,f++),delete o[l]}else for(i=a[l],r=0;r<f;r++)m=m<<1|i&1,h==t-1?(h=0,p.push(n(m)),m=0):h++,i>>=1;u--,u==0&&(u=2**f,f++)}for(i=2,r=0;r<f;r++)m=m<<1|i&1,h==t-1?(h=0,p.push(n(m)),m=0):h++,i>>=1;for(;;)if(m<<=1,h==t-1){p.push(n(m));break}else h++;return p.join(``)},decompress:function(e){return e==null?``:e==``?null:a._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(t,n,r){var i=[],a=4,o=4,s=3,c=``,l=[],u,d,f,p,m,h,g,_={val:r(0),position:n,index:1};for(u=0;u<3;u+=1)i[u]=u;for(f=0,m=2**2,h=1;h!=m;)p=_.val&_.position,_.position>>=1,_.position==0&&(_.position=n,_.val=r(_.index++)),f|=(p>0?1:0)*h,h<<=1;switch(f){case 0:for(f=0,m=2**8,h=1;h!=m;)p=_.val&_.position,_.position>>=1,_.position==0&&(_.position=n,_.val=r(_.index++)),f|=(p>0?1:0)*h,h<<=1;g=e(f);break;case 1:for(f=0,m=2**16,h=1;h!=m;)p=_.val&_.position,_.position>>=1,_.position==0&&(_.position=n,_.val=r(_.index++)),f|=(p>0?1:0)*h,h<<=1;g=e(f);break;case 2:return``}for(i[3]=g,d=g,l.push(g);;){if(_.index>t)return``;for(f=0,m=2**s,h=1;h!=m;)p=_.val&_.position,_.position>>=1,_.position==0&&(_.position=n,_.val=r(_.index++)),f|=(p>0?1:0)*h,h<<=1;switch(g=f){case 0:for(f=0,m=2**8,h=1;h!=m;)p=_.val&_.position,_.position>>=1,_.position==0&&(_.position=n,_.val=r(_.index++)),f|=(p>0?1:0)*h,h<<=1;i[o++]=e(f),g=o-1,a--;break;case 1:for(f=0,m=2**16,h=1;h!=m;)p=_.val&_.position,_.position>>=1,_.position==0&&(_.position=n,_.val=r(_.index++)),f|=(p>0?1:0)*h,h<<=1;i[o++]=e(f),g=o-1,a--;break;case 2:return l.join(``)}if(a==0&&(a=2**s,s++),i[g])c=i[g];else if(g===o)c=d+d.charAt(0);else return null;l.push(c),i[o++]=d+c.charAt(0),a--,d=c,a==0&&(a=2**s,s++)}}};return a})();typeof define==`function`&&define.amd?define(function(){return n}):t!==void 0&&t!=null?t.exports=n:typeof angular<`u`&&angular!=null&&angular.module(`LZString`,[]).factory(`LZString`,function(){return n})}))()),iS=`__cmp__:`,aS=3e4,oS=(()=>{if(typeof window>`u`)return!1;try{let e=`__storage_test__`;return window.localStorage.setItem(e,`1`),window.localStorage.removeItem(e),!0}catch{return!1}})(),sS=e=>typeof e==`string`?e.length*2:0,cS=e=>{if(typeof e!=`string`||!e.startsWith(iS))return e;try{let t=e.slice(8),n=(0,rS.decompressFromUTF16)(t);return typeof n==`string`?n:e}catch(t){return console.warn(` Failed to decompress storage value:`,t),e}},lS=e=>{let t={storageString:``,bytes:0,compressed:!1},n;try{n=JSON.stringify(e??null)}catch{return t}if(typeof n!=`string`)return t;let r=n,i=!1;if(n.length>=aS)try{let e=(0,rS.compressToUTF16)(n);if(e&&e.length>0){let t=`${iS}${e}`;t.length<n.length&&(r=t,i=!0)}}catch{}return t.storageString=r,t.bytes=sS(r),t.compressed=i,t},uS=e=>{if(!oS)return{ok:!1};try{return e(window.localStorage)}catch(e){return console.warn(` LocalStorage op failed`,e),{ok:!1,error:e}}},X={getItem(e,t=null){let n=uS(t=>({ok:!0,value:t.getItem(e)}));if(!n?.ok)return t;let r=n.value;return r==null?t:cS(r)??t},setItem(e,t){return!!uS(n=>(n.setItem(e,t),{ok:!0}))?.ok},removeItem(e){return!!uS(t=>(t.removeItem(e),{ok:!0}))?.ok},getJSON(e,t=null){let n=uS(t=>({ok:!0,value:t.getItem(e)}));if(!n?.ok)return t;let r=n.value;if(r==null)return t;let i=cS(r);if(typeof i!=`string`)return t;try{return JSON.parse(i)}catch{return t}},setJSON(e,t){let n=lS(t);if(console.log(` [setJSON] Prepared data:`,{key:e,bytes:n.bytes,kb:Math.round(n.bytes/1024),compressed:n.compressed,hasString:!!n.storageString,stringLength:n.storageString?.length}),!n.storageString)return console.error(` [setJSON] No storage string prepared`),!1;try{let t=this.setItem(e,n.storageString);return console.log(` [setJSON] setItem result:`,t),t}catch(e){throw console.error(` [setJSON] Exception during save:`,{message:e.message,name:e.name,isQuotaExceeded:e.name===`QuotaExceededError`||/quota|storage/i.test(e.message)}),e}},isAvailable(){return oS},estimateJSONBytes(e){return lS(e).bytes}},dS=()=>{try{let e=localStorage.getItem(`fremio_user`);if(e){let t=JSON.parse(e);return t?.email||t?.id||`guest`}}catch(e){console.error(`Failed to get current user:`,e)}return`guest`},fS=e=>`${dS()}:${e}`,pS={getItem:e=>X.getItem(fS(e)),setItem:(e,t)=>X.setItem(fS(e),t),removeItem:e=>X.removeItem(fS(e)),getJSON:(e,t)=>X.getJSON(fS(e),t),setJSON:(e,t)=>X.setJSON(fS(e),t),clearUserData:()=>{let e=dS(),t=[];for(let n=0;n<localStorage.length;n++){let r=localStorage.key(n);r&&r.startsWith(`${e}:`)&&t.push(r)}t.forEach(e=>{try{localStorage.removeItem(e)}catch(t){console.error(`Failed to remove ${e}:`,t)}}),console.log(` Cleared ${t.length} items for user ${e}`)}},mS=s((exports=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}exports.Fragment=n,exports.jsx=r,exports.jsxs=r})),Z=u(s(((exports,t)=>{t.exports=mS()}))()),hS=(0,b.createContext)();function gS({children:e}){let[t,n]=(0,b.useState)(null),[r,i]=(0,b.useState)(!0),a=e=>{if(!e.uid||!e.email)return;let t=`profilePhoto_${e.uid}`,n=`profilePhoto_${e.email}`,r=localStorage.getItem(n),i=localStorage.getItem(t);r&&!i&&(localStorage.setItem(t,r),console.log(` Auto-migrated profile photo: ${e.email}  UID`))};(0,b.useEffect)(()=>{let e=$s(eS,e=>{if(e){let t={uid:e.uid,email:e.email,displayName:e.displayName||e.email?.split(`@`)[0],emailVerified:e.emailVerified};n(t),localStorage.setItem(`fremio_user`,JSON.stringify(t)),a(t),console.log(` Firebase user authenticated:`,t.email)}else n(null),localStorage.removeItem(`fremio_user`);i(!1)});return()=>e()},[]);function o(e){n(e),localStorage.setItem(`fremio_user`,JSON.stringify(e))}async function s(){try{await ec(eS),pS.clearUserData(),n(null),localStorage.removeItem(`fremio_user`),console.log(` User logged out successfully`)}catch(e){throw console.error(` Logout error:`,e),e}}async function c(e){try{let{email:t,password:n,firstName:r,lastName:i}=e,a=(await qs(eS,t,n)).user;return console.log(` User registered successfully:`,a.email),await ec(eS),console.log(` User signed out after registration`),{success:!0,message:`Registration successful`,user:a}}catch(e){console.error(` Registration error:`,e);let t=`Registration failed`;return e.code===`auth/email-already-in-use`?t=`Email already registered`:e.code===`auth/weak-password`?t=`Password should be at least 6 characters`:e.code===`auth/invalid-email`&&(t=`Invalid email address`),{success:!1,message:t}}}async function l(e,t){try{if(e===`admin@admin.com`&&t===`admin`){let e={email:`admin@admin.com`,displayName:`Administrator`,role:`admin`,uid:`admin-uid-001`};return n(e),localStorage.setItem(`fremio_user`,JSON.stringify(e)),{success:!0,message:`Admin login successful`}}let r=(await Js(eS,e,t)).user;return console.log(` User logged in successfully:`,r.email),{success:!0,message:`Login successful`,user:r}}catch(e){console.error(` Login error:`,e);let t=`Invalid email or password`;return e.code===`auth/user-not-found`?t=`No account found with this email`:e.code===`auth/wrong-password`?t=`Incorrect password`:e.code===`auth/invalid-email`&&(t=`Invalid email address`),{success:!1,message:t}}}function u(e){n(e),localStorage.setItem(`fremio_user`,JSON.stringify(e)),localStorage.setItem(`userProfile_${e.email}`,JSON.stringify(e))}async function d(e,t){try{let n=eS.currentUser;if(!n||!n.email)return{success:!1,message:`No user logged in`};let r=Ds.credential(n.email,e);return await Us(n,r),await Ys(n,t),console.log(` Password changed successfully`),{success:!0,message:`Password changed successfully`}}catch(e){console.error(` Change password error:`,e);let t=`Failed to change password`;return e.code===`auth/wrong-password`?t=`Current password is incorrect`:e.code===`auth/weak-password`?t=`New password should be at least 6 characters`:e.code===`auth/requires-recent-login`&&(t=`Please logout and login again before changing password`),{success:!1,message:t}}}async function f(e){try{return await Ks(eS,e),console.log(` Password reset email sent`),{success:!0,message:`Password reset email sent`}}catch(e){console.error(` Reset password error:`,e);let t=`Failed to send reset email`;return e.code===`auth/user-not-found`?t=`No account found with this email`:e.code===`auth/invalid-email`&&(t=`Invalid email address`),{success:!1,message:t}}}let p=!!t;return(0,Z.jsx)(hS.Provider,{value:{user:t,login:o,logout:s,register:c,authenticateUser:l,updateUser:u,changePassword:d,resetPassword:f,isAuthenticated:p,loading:r},children:e})}function _S(){let e=(0,b.useContext)(hS);if(!e)throw Error(`useAuth must be used within AuthProvider`);return e}var vS=(0,b.createContext)({});function yS(e){let t=(0,b.useRef)(null);return t.current===null&&(t.current=e()),t.current}var bS=typeof window<`u`,xS=bS?b.useLayoutEffect:b.useEffect,SS=(0,b.createContext)(null);function CS(e,t){e.indexOf(t)===-1&&e.push(t)}function wS(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var TS=(e,t,n)=>n>t?t:n<e?e:n,ES={},DS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function OS(e){return typeof e==`object`&&!!e}var kS=e=>/^0[^.\s]+$/u.test(e);function AS(e){let t;return()=>(t===void 0&&(t=e()),t)}var jS=e=>e,MS=(e,t)=>n=>t(e(n)),NS=(...e)=>e.reduce(MS),PS=(e,t,n)=>{let r=t-e;return r===0?1:(n-e)/r},FS=class{constructor(){this.subscriptions=[]}add(e){return CS(this.subscriptions,e),()=>wS(this.subscriptions,e)}notify(e,t,n){let r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){let r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}},IS=e=>e*1e3,LS=e=>e/1e3;function RS(e,t){return t?e*(1e3/t):0}var zS=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,BS=1e-7,VS=12;function HS(e,t,n,r,i){let a,o,s=0;do o=t+(n-t)/2,a=zS(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>BS&&++s<VS);return o}function US(e,t,n,r){if(e===t&&n===r)return jS;let i=t=>HS(t,0,1,e,n);return e=>e===0||e===1?e:zS(i(e),t,r)}var WS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,GS=e=>t=>1-e(1-t),KS=US(.33,1.53,.69,.99),qS=GS(KS),JS=WS(qS),YS=e=>(e*=2)<1?.5*qS(e):.5*(2-2**(-10*(e-1))),XS=e=>1-Math.sin(Math.acos(e)),ZS=GS(XS),QS=WS(XS),$S=US(.42,0,1,1),eC=US(0,0,.58,1),tC=US(.42,0,.58,1),nC=e=>Array.isArray(e)&&typeof e[0]!=`number`,rC=e=>Array.isArray(e)&&typeof e[0]==`number`,iC={linear:jS,easeIn:$S,easeInOut:tC,easeOut:eC,circIn:XS,circInOut:QS,circOut:ZS,backIn:qS,backInOut:JS,backOut:KS,anticipate:YS},aC=e=>typeof e==`string`,oC=e=>{if(rC(e)){e.length;let[t,n,r,i]=e;return US(t,n,r,i)}else if(aC(e))return iC[e],`${e}`,iC[e];return e},sC=[`setup`,`read`,`resolveKeyframes`,`preUpdate`,`update`,`preRender`,`render`,`postRender`],cC={value:null,addProjectionMetrics:null};function lC(e,t){let n=new Set,r=new Set,i=!1,a=!1,o=new WeakSet,s={delta:0,timestamp:0,isProcessing:!1},c=0;function l(t){o.has(t)&&(u.schedule(t),e()),c++,t(s)}let u={schedule:(e,t=!1,a=!1)=>{let s=a&&i?n:r;return t&&o.add(e),s.has(e)||s.add(e),e},cancel:e=>{r.delete(e),o.delete(e)},process:e=>{if(s=e,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),t&&cC.value&&cC.value.frameloop[t].push(c),c=0,n.clear(),i=!1,a&&(a=!1,u.process(e))}};return u}var uC=40;function dC(e,t){let n=!1,r=!0,i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=sC.reduce((e,n)=>(e[n]=lC(a,t?n:void 0),e),{}),{setup:s,read:c,resolveKeyframes:l,preUpdate:u,update:d,preRender:f,render:p,postRender:m}=o,h=()=>{let a=ES.useManualTiming?i.timestamp:performance.now();n=!1,ES.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,uC),1)),i.timestamp=a,i.isProcessing=!0,s.process(i),c.process(i),l.process(i),u.process(i),d.process(i),f.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(h))},g=()=>{n=!0,r=!0,i.isProcessing||e(h)};return{schedule:sC.reduce((e,t)=>{let r=o[t];return e[t]=(e,t=!1,i=!1)=>(n||g(),r.schedule(e,t,i)),e},{}),cancel:e=>{for(let t=0;t<sC.length;t++)o[sC[t]].cancel(e)},state:i,steps:o}}var{schedule:fC,cancel:pC,state:mC,steps:hC}=dC(typeof requestAnimationFrame<`u`?requestAnimationFrame:jS,!0),gC;function _C(){gC=void 0}var vC={now:()=>(gC===void 0&&vC.set(mC.isProcessing||ES.useManualTiming?mC.timestamp:performance.now()),gC),set:e=>{gC=e,queueMicrotask(_C)}},yC={layout:0,mainThread:0,waapi:0},bC=e=>t=>typeof t==`string`&&t.startsWith(e),xC=bC(`--`),SC=bC(`var(--`),CC=e=>SC(e)?wC.test(e.split(`/*`)[0].trim()):!1,wC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,TC={test:e=>typeof e==`number`,parse:parseFloat,transform:e=>e},EC={...TC,transform:e=>TS(0,1,e)},DC={...TC,default:1},OC=e=>Math.round(e*1e5)/1e5,kC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function AC(e){return e==null}var jC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,MC=(e,t)=>n=>!!(typeof n==`string`&&jC.test(n)&&n.startsWith(e)||t&&!AC(n)&&Object.prototype.hasOwnProperty.call(n,t)),NC=(e,t,n)=>r=>{if(typeof r!=`string`)return r;let[i,a,o,s]=r.match(kC);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:s===void 0?1:parseFloat(s)}},PC=e=>TS(0,255,e),FC={...TC,transform:e=>Math.round(PC(e))},IC={test:MC(`rgb`,`red`),parse:NC(`red`,`green`,`blue`),transform:({red:e,green:t,blue:n,alpha:r=1})=>`rgba(`+FC.transform(e)+`, `+FC.transform(t)+`, `+FC.transform(n)+`, `+OC(EC.transform(r))+`)`};function LC(e){let t=``,n=``,r=``,i=``;return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}var RC={test:MC(`#`),parse:LC,transform:IC.transform},zC=e=>({test:t=>typeof t==`string`&&t.endsWith(e)&&t.split(` `).length===1,parse:parseFloat,transform:t=>`${t}${e}`}),BC=zC(`deg`),VC=zC(`%`),Q=zC(`px`),HC=zC(`vh`),UC=zC(`vw`),WC=(()=>({...VC,parse:e=>VC.parse(e)/100,transform:e=>VC.transform(e*100)}))(),GC={test:MC(`hsl`,`hue`),parse:NC(`hue`,`saturation`,`lightness`),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>`hsla(`+Math.round(e)+`, `+VC.transform(OC(t))+`, `+VC.transform(OC(n))+`, `+OC(EC.transform(r))+`)`},KC={test:e=>IC.test(e)||RC.test(e)||GC.test(e),parse:e=>IC.test(e)?IC.parse(e):GC.test(e)?GC.parse(e):RC.parse(e),transform:e=>typeof e==`string`?e:e.hasOwnProperty(`red`)?IC.transform(e):GC.transform(e),getAnimatableNone:e=>{let t=KC.parse(e);return t.alpha=0,KC.transform(t)}},qC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function JC(e){return isNaN(e)&&typeof e==`string`&&(e.match(kC)?.length||0)+(e.match(qC)?.length||0)>0}var YC=`number`,XC=`color`,ZC=`var`,QC=`var(`,$C="${}",ew=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tw(e){let t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[],a=0,o=t.replace(ew,e=>(KC.test(e)?(r.color.push(a),i.push(XC),n.push(KC.parse(e))):e.startsWith(QC)?(r.var.push(a),i.push(ZC),n.push(e)):(r.number.push(a),i.push(YC),n.push(parseFloat(e))),++a,$C)).split($C);return{values:n,split:o,indexes:r,types:i}}function nw(e){return tw(e).values}function rw(e){let{split:t,types:n}=tw(e),r=t.length;return e=>{let i=``;for(let a=0;a<r;a++)if(i+=t[a],e[a]!==void 0){let t=n[a];t===YC?i+=OC(e[a]):t===XC?i+=KC.transform(e[a]):i+=e[a]}return i}}var iw=e=>typeof e==`number`?0:KC.test(e)?KC.getAnimatableNone(e):e;function aw(e){let t=nw(e);return rw(e)(t.map(iw))}var ow={test:JC,parse:nw,createTransformer:rw,getAnimatableNone:aw};function sw(e,t,n){return n<0&&(n+=1),n>1&&--n,n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function cw({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{let r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;i=sw(s,r,e+1/3),a=sw(s,r,e),o=sw(s,r,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function lw(e,t){return n=>n>0?t:e}var uw=(e,t,n)=>e+(t-e)*n,dw=(e,t,n)=>{let r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},fw=[RC,IC,GC],pw=e=>fw.find(t=>t.test(e));function mw(e){let t=pw(e);if(`${e}`,!t)return!1;let n=t.parse(e);return t===GC&&(n=cw(n)),n}var hw=(e,t)=>{let n=mw(e),r=mw(t);if(!n||!r)return lw(e,t);let i={...n};return e=>(i.red=dw(n.red,r.red,e),i.green=dw(n.green,r.green,e),i.blue=dw(n.blue,r.blue,e),i.alpha=uw(n.alpha,r.alpha,e),IC.transform(i))},gw=new Set([`none`,`hidden`]);function _w(e,t){return gw.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function vw(e,t){return n=>uw(e,t,n)}function yw(e){return typeof e==`number`?vw:typeof e==`string`?CC(e)?lw:KC.test(e)?hw:Cw:Array.isArray(e)?bw:typeof e==`object`?KC.test(e)?hw:xw:lw}function bw(e,t){let n=[...e],r=n.length,i=e.map((e,n)=>yw(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function xw(e,t){let n={...e,...t},r={};for(let i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=yw(e[i])(e[i],t[i]));return e=>{for(let t in r)n[t]=r[t](e);return n}}function Sw(e,t){let n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){let a=t.types[i],o=e.indexes[a][r[a]];n[i]=e.values[o]??0,r[a]++}return n}var Cw=(e,t)=>{let n=ow.createTransformer(t),r=tw(e),i=tw(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?gw.has(e)&&!i.values.length||gw.has(t)&&!r.values.length?_w(e,t):NS(bw(Sw(r,i),i.values),n):(`${e}${t}`,lw(e,t))};function ww(e,t,n){return typeof e==`number`&&typeof t==`number`&&typeof n==`number`?uw(e,t,n):yw(e)(e,t)}var Tw=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>fC.update(t,e),stop:()=>pC(t),now:()=>mC.isProcessing?mC.timestamp:vC.now()}},Ew=(e,t,n=10)=>{let r=``,i=Math.max(Math.round(t/n),2);for(let t=0;t<i;t++)r+=Math.round(e(t/(i-1))*1e4)/1e4+`, `;return`linear(${r.substring(0,r.length-2)})`},Dw=2e4;function Ow(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}function kw(e,t=100,n){let r=n({...e,keyframes:[0,t]}),i=Math.min(Ow(r),Dw);return{type:`keyframes`,ease:e=>r.next(i*e).value/t,duration:LS(i)}}var Aw=5;function jw(e,t,n){let r=Math.max(t-Aw,0);return RS(n-e(r),t-r)}var Mw={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nw=.001;function Pw({duration:e=Mw.duration,bounce:t=Mw.bounce,velocity:n=Mw.velocity,mass:r=Mw.mass}){let i,a;Mw.maxDuration;let o=1-t;o=TS(Mw.minDamping,Mw.maxDamping,o),e=TS(Mw.minDuration,Mw.maxDuration,LS(e)),o<1?(i=t=>{let r=t*o,i=r*e,a=r-n,s=Lw(t,o),c=Math.exp(-i);return Nw-a/s*c},a=t=>{let r=t*o*e,a=r*n+n,s=o**2*t**2*e,c=Math.exp(-r),l=Lw(t**2,o);return(-i(t)+Nw>0?-1:1)*((a-s)*c)/l}):(i=t=>{let r=Math.exp(-t*e),i=(t-n)*e+1;return-Nw+r*i},a=t=>{let r=Math.exp(-t*e),i=(n-t)*(e*e);return r*i});let s=5/e,c=Iw(i,a,s);if(e=IS(e),isNaN(c))return{stiffness:Mw.stiffness,damping:Mw.damping,duration:e};{let t=c**2*r;return{stiffness:t,damping:o*2*Math.sqrt(r*t),duration:e}}}var Fw=12;function Iw(e,t,n){let r=n;for(let n=1;n<Fw;n++)r-=e(r)/t(r);return r}function Lw(e,t){return e*Math.sqrt(1-t*t)}var Rw=[`duration`,`bounce`],zw=[`stiffness`,`damping`,`mass`];function Bw(e,t){return t.some(t=>e[t]!==void 0)}function Vw(e){let t={velocity:Mw.velocity,stiffness:Mw.stiffness,damping:Mw.damping,mass:Mw.mass,isResolvedFromDuration:!1,...e};if(!Bw(e,zw)&&Bw(e,Rw))if(e.visualDuration){let n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*TS(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Mw.mass,stiffness:i,damping:a}}else{let n=Pw(e);t={...t,...n,mass:Mw.mass},t.isResolvedFromDuration=!0}return t}function Hw(e=Mw.visualDuration,t=Mw.bounce){let n=typeof e==`object`?e:{visualDuration:e,keyframes:[0,1],bounce:t},{restSpeed:r,restDelta:i}=n,a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:c,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=Vw({...n,velocity:-LS(n.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(c*u)),g=o-a,_=LS(Math.sqrt(c/u)),v=Math.abs(g)<5;r||=v?Mw.restSpeed.granular:Mw.restSpeed.default,i||=v?Mw.restDelta.granular:Mw.restDelta.default;let y;if(h<1){let e=Lw(_,h);y=t=>{let n=Math.exp(-h*_*t);return o-n*((m+h*_*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(h===1)y=e=>o-Math.exp(-_*e)*(g+(m+_*g)*e);else{let e=_*Math.sqrt(h*h-1);y=t=>{let n=Math.exp(-h*_*t),r=Math.min(e*t,300);return o-n*((m+h*_*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}let b={calculatedDuration:p&&d||null,next:e=>{let t=y(e);if(p)s.done=e>=d;else{let n=e===0?m:0;h<1&&(n=e===0?IS(m):jw(y,e,t));let a=Math.abs(n)<=r,c=Math.abs(o-t)<=i;s.done=a&&c}return s.value=s.done?o:t,s},toString:()=>{let e=Math.min(Ow(b),Dw),t=Ew(t=>b.next(e*t).value,e,30);return e+`ms `+t},toTransition:()=>{}};return b}Hw.applyToOptions=e=>{let t=kw(e,100,Hw);return e.ease=t.ease,e.duration=IS(t.duration),e.type=`keyframes`,e};function Uw({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:c,restDelta:l=.5,restSpeed:u}){let d=e[0],f={done:!1,value:d},p=e=>s!==void 0&&e<s||c!==void 0&&e>c,m=e=>s===void 0?c:c===void 0||Math.abs(s-e)<Math.abs(c-e)?s:c,h=n*t,g=d+h,_=o===void 0?g:o(g);_!==g&&(h=_-d);let v=e=>-h*Math.exp(-e/r),y=e=>_+v(e),b=e=>{let t=v(e),n=y(e);f.done=Math.abs(t)<=l,f.value=f.done?_:n},x,S,C=e=>{p(f.value)&&(x=e,S=Hw({keyframes:[f.value,m(f.value)],velocity:jw(y,e,f.value),damping:i,stiffness:a,restDelta:l,restSpeed:u}))};return C(0),{calculatedDuration:null,next:e=>{let t=!1;return!S&&x===void 0&&(t=!0,b(e),C(e)),x!==void 0&&e>=x?S.next(e-x):(!t&&b(e),f)}}}function Ww(e,t,n){let r=[],i=n||ES.mix||ww,a=e.length-1;for(let n=0;n<a;n++){let a=i(e[n],e[n+1]);if(t){let e=Array.isArray(t)?t[n]||jS:t;a=NS(e,a)}r.push(a)}return r}function Gw(e,t,{clamp:n=!0,ease:r,mixer:i}={}){let a=e.length;if(t.length,a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];let o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());let s=Ww(t,r,i),c=s.length,l=n=>{if(o&&n<e[0])return t[0];let r=0;if(c>1)for(;r<e.length-2&&!(n<e[r+1]);r++);let i=PS(e[r],e[r+1],n);return s[r](i)};return n?t=>l(TS(e[0],e[a-1],t)):l}function Kw(e,t){let n=e[e.length-1];for(let r=1;r<=t;r++){let i=PS(0,t,r);e.push(uw(n,1,i))}}function qw(e){let t=[0];return Kw(t,e.length-1),t}function Jw(e,t){return e.map(e=>e*t)}function Yw(e,t){return e.map(()=>t||tC).splice(0,e.length-1)}function Xw({duration:e=300,keyframes:t,times:n,ease:r=`easeInOut`}){let i=nC(r)?r.map(oC):oC(r),a={done:!1,value:t[0]},o=Jw(n&&n.length===t.length?n:qw(t),e),s=Gw(o,t,{ease:Array.isArray(i)?i:Yw(t,i)});return{calculatedDuration:e,next:t=>(a.value=s(t),a.done=t>=e,a)}}var Zw=e=>e!==null;function Qw(e,{repeat:t,repeatType:n=`loop`},r,i=1){let a=e.filter(Zw),o=i<0||t&&n!==`loop`&&t%2==1?0:a.length-1;return!o||r===void 0?a[o]:r}var $w={decay:Uw,inertia:Uw,tween:Xw,keyframes:Xw,spring:Hw};function eT(e){typeof e.type==`string`&&(e.type=$w[e.type])}var tT=class{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}},nT=e=>e/100,rT=class extends tT{constructor(e){super(),this.state=`idle`,this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==vC.now()&&this.tick(vC.now()),this.isStopped=!0,this.state!==`idle`&&(this.teardown(),this.options.onStop?.())},yC.mainThread++,this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){let{options:e}=this;eT(e);let{type:t=Xw,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=e,{keyframes:o}=e,s=t||Xw;s!==Xw&&typeof o[0]!=`number`&&(this.mixKeyframes=NS(nT,ww(o[0],o[1])),o=[0,100]);let c=s({...e,keyframes:o});i===`mirror`&&(this.mirroredGenerator=s({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=Ow(c));let{calculatedDuration:l}=c;this.calculatedDuration=l,this.resolvedDuration=l+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=c}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime===null?this.currentTime=t:this.currentTime=this.holdTime}tick(e,t=!1){let{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:s}=this;if(this.startTime===null)return n.next(0);let{delay:c=0,keyframes:l,repeat:u,repeatType:d,repeatDelay:f,type:p,onUpdate:m,finalKeyframe:h}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),this.state===`finished`&&this.holdTime===null&&(this.currentTime=r);let v=this.currentTime,y=n;if(u){let e=Math.min(this.currentTime,r)/o,t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),n===1&&t--,t=Math.min(t,u+1),t%2&&(d===`reverse`?(n=1-n,f&&(n-=f/o)):d===`mirror`&&(y=a)),v=TS(0,1,n)*o}let b=_?{done:!1,value:l[0]}:y.next(v);i&&(b.value=i(b.value));let{done:x}=b;!_&&s!==null&&(x=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);let S=this.holdTime===null&&(this.state===`finished`||this.state===`running`&&x);return S&&p!==Uw&&(b.value=Qw(l,this.options,h,this.speed)),m&&m(b.value),S&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return LS(this.calculatedDuration)}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+LS(e)}get time(){return LS(this.currentTime)}set time(e){e=IS(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(vC.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=LS(this.currentTime))}play(){if(this.isStopped)return;let{driver:e=Tw,startTime:t}=this.options;this.driver||=e(e=>this.tick(e)),this.options.onPlay?.();let n=this.driver.now();this.state===`finished`?(this.updateFinished(),this.startTime=n):this.holdTime===null?this.startTime||=t??n:this.startTime=n-this.holdTime,this.state===`finished`&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state=`running`,this.driver.start()}pause(){this.state=`paused`,this.updateTime(vC.now()),this.holdTime=this.currentTime}complete(){this.state!==`running`&&this.play(),this.state=`finished`,this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state=`finished`,this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state=`idle`,this.stopDriver(),this.startTime=this.holdTime=null,yC.mainThread--}stopDriver(){this.driver&&=(this.driver.stop(),void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type=`keyframes`,this.options.ease=`linear`,this.initAnimation()),this.driver?.stop(),e.observe(this)}};function iT(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}var aT=e=>e*180/Math.PI,oT=e=>{let t=aT(Math.atan2(e[1],e[0]));return cT(t)},sT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:oT,rotateZ:oT,skewX:e=>aT(Math.atan(e[1])),skewY:e=>aT(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},cT=e=>(e%=360,e<0&&(e+=360),e),lT=oT,uT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),dT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),fT={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uT,scaleY:dT,scale:e=>(uT(e)+dT(e))/2,rotateX:e=>cT(aT(Math.atan2(e[6],e[5]))),rotateY:e=>cT(aT(Math.atan2(-e[2],e[0]))),rotateZ:lT,rotate:lT,skewX:e=>aT(Math.atan(e[4])),skewY:e=>aT(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function pT(e){return e.includes(`scale`)?1:0}function mT(e,t){if(!e||e===`none`)return pT(t);let n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u),r,i;if(n)r=fT,i=n;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=sT,i=t}if(!i)return pT(t);let a=r[t],o=i[1].split(`,`).map(gT);return typeof a==`function`?a(o):o[a]}var hT=(e,t)=>{let{transform:n=`none`}=getComputedStyle(e);return mT(n,t)};function gT(e){return parseFloat(e.trim())}var _T=[`transformPerspective`,`x`,`y`,`z`,`translateX`,`translateY`,`translateZ`,`scale`,`scaleX`,`scaleY`,`rotate`,`rotateX`,`rotateY`,`rotateZ`,`skew`,`skewX`,`skewY`],vT=(()=>new Set(_T))(),yT=e=>e===TC||e===Q,bT=new Set([`x`,`y`,`z`]),xT=_T.filter(e=>!bT.has(e));function ST(e){let t=[];return xT.forEach(n=>{let r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith(`scale`)?1:0))}),t}var CT={width:({x:e},{paddingLeft:t=`0`,paddingRight:n=`0`})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t=`0`,paddingBottom:n=`0`})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>mT(t,`x`),y:(e,{transform:t})=>mT(t,`y`)};CT.translateX=CT.x,CT.translateY=CT.y;var wT=new Set,TT=!1,ET=!1,DT=!1;function OT(){if(ET){let e=Array.from(wT).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{let t=ST(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=n.get(e);t&&t.forEach(([t,n])=>{e.getValue(t)?.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{e.suspendedScrollY!==void 0&&window.scrollTo(0,e.suspendedScrollY)})}ET=!1,TT=!1,wT.forEach(e=>e.complete(DT)),wT.clear()}function kT(){wT.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ET=!0)})}function AT(){DT=!0,kT(),OT(),DT=!1}var jT=class{constructor(e,t,n,r,i,a=!1){this.state=`pending`,this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state=`scheduled`,this.isAsync?(wT.add(this),TT||(TT=!0,fC.read(kT),fC.resolveKeyframes(OT))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(e[0]===null){let i=r?.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&t){let r=n.readValue(t,a);r!=null&&(e[0]=r)}e[0]===void 0&&(e[0]=a),r&&i===void 0&&r.set(e[0])}iT(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state=`complete`,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),wT.delete(this)}cancel(){this.state===`scheduled`&&(wT.delete(this),this.state=`pending`)}resume(){this.state===`pending`&&this.scheduleResolve()}},MT=e=>e.startsWith(`--`);function NT(e,t,n){MT(t)?e.style.setProperty(t,n):e.style[t]=n}var PT=AS(()=>window.ScrollTimeline!==void 0),FT={};function IT(e,t){let n=AS(e);return()=>FT[t]??n()}var LT=IT(()=>{try{document.createElement(`div`).animate({opacity:0},{easing:`linear(0, 1)`})}catch{return!1}return!0},`linearEasing`),RT=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,zT={linear:`linear`,ease:`ease`,easeIn:`ease-in`,easeOut:`ease-out`,easeInOut:`ease-in-out`,circIn:RT([0,.65,.55,1]),circOut:RT([.55,0,1,.45]),backIn:RT([.31,.01,.66,-.59]),backOut:RT([.33,1.53,.69,.99])};function BT(e,t){if(e)return typeof e==`function`?LT()?Ew(e,t):`ease-out`:rC(e)?RT(e):Array.isArray(e)?e.map(e=>BT(e,t)||zT.easeOut):zT[e]}function VT(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o=`loop`,ease:s=`easeOut`,times:c}={},l=void 0){let u={[t]:n};c&&(u.offset=c);let d=BT(s,i);Array.isArray(d)&&(u.easing=d),cC.value&&yC.waapi++;let f={delay:r,duration:i,easing:Array.isArray(d)?`linear`:d,fill:`both`,iterations:a+1,direction:o===`reverse`?`alternate`:`normal`};l&&(f.pseudoElement=l);let p=e.animate(u,f);return cC.value&&p.finished.finally(()=>{yC.waapi--}),p}function HT(e){return typeof e==`function`&&`applyToOptions`in e}function UT({type:e,...t}){return HT(e)&&LT()?e.applyToOptions(t):(t.duration??=300,t.ease??=`easeOut`,t)}var WT=class extends tT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;let{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:s}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,e.type;let c=UT(e);this.animation=VT(t,n,r,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){let e=Qw(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):NT(t,n,e),this.animation.cancel()}s?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state===`finished`&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;e===`idle`||e===`finished`||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){let e=this.animation.effect?.getComputedTiming?.().duration||0;return LS(Number(e))}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+LS(e)}get time(){return LS(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=IS(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime===null?this.animation.playState:`finished`}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:`linear`}),this.animation.onfinish=null,e&&PT()?(this.animation.timeline=e,jS):t(this)}},GT={anticipate:YS,backInOut:JS,circInOut:QS};function KT(e){return e in GT}function qT(e){typeof e.ease==`string`&&KT(e.ease)&&(e.ease=GT[e.ease])}var JT=10,YT=class extends WT{constructor(e){qT(e),eT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:n,onComplete:r,element:i,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}let o=new rT({...a,autoplay:!1}),s=IS(this.finishedTime??this.time);t.setWithVelocity(o.sample(s-JT).value,o.sample(s).value,JT),o.stop()}},XT=(e,t)=>t===`zIndex`?!1:!!(typeof e==`number`||Array.isArray(e)||typeof e==`string`&&(ow.test(e)||e===`0`)&&!e.startsWith(`url(`));function ZT(e){let t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function QT(e,t,n,r){let i=e[0];if(i===null)return!1;if(t===`display`||t===`visibility`)return!0;let a=e[e.length-1],o=XT(i,t),s=XT(a,t);return`${t}${i}${a}${o?a:i}`,!o||!s?!1:ZT(e)||(n===`spring`||HT(n))&&r}function $T(e){e.duration=0,e.type=`keyframes`}var eE=new Set([`opacity`,`clipPath`,`filter`,`transform`]),tE=AS(()=>Object.hasOwnProperty.call(Element.prototype,`animate`));function nE(e){let{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:s,transformTemplate:c}=t.owner.getProps();return tE()&&n&&eE.has(n)&&(n!==`transform`||!c)&&!s&&!r&&i!==`mirror`&&a!==0&&o!==`inertia`}var rE=40,iE=class extends tT{constructor({autoplay:e=!0,delay:t=0,type:n=`keyframes`,repeat:r=0,repeatDelay:i=0,repeatType:a=`loop`,keyframes:o,name:s,motionValue:c,element:l,...u}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=vC.now();let d={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:i,repeatType:a,name:s,motionValue:c,element:l,...u};this.keyframeResolver=new(l?.KeyframeResolver||jT)(o,(e,t,n)=>this.onKeyframesResolved(e,t,d,!n),s,c,l),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;let{name:i,type:a,velocity:o,delay:s,isHandoff:c,onUpdate:l}=n;this.resolvedAt=vC.now(),QT(e,i,a,o)||((ES.instantAnimations||!s)&&l?.(Qw(e,n,t)),e[0]=e[e.length-1],$T(n),n.repeat=0);let u={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>rE?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},d=!c&&nE(u)?new YT({...u,element:u.motionValue.owner.current}):new rT(u);d.finished.then(()=>this.notifyFinished()).catch(jS),this.pendingTimeline&&=(this.stopTimeline=d.attachTimeline(this.pendingTimeline),void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),AT()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}},aE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oE(e){let t=aE.exec(e);if(!t)return[,];let[,n,r,i]=t;return[`--${n??r}`,i]}function sE(e,t,n=1){`${e}`;let[r,i]=oE(e);if(!r)return;let a=window.getComputedStyle(t).getPropertyValue(r);if(a){let e=a.trim();return DS(e)?parseFloat(e):e}return CC(i)?sE(i,t,n+1):i}function cE(e,t){return e?.[t]??e?.default??e}var lE=new Set([`width`,`height`,`top`,`left`,`right`,`bottom`,..._T]),uE={test:e=>e===`auto`,parse:e=>e},dE=e=>t=>t.test(e),fE=[TC,Q,VC,BC,UC,HC,uE],pE=e=>fE.find(dE(e));function mE(e){return typeof e==`number`?e===0:e===null?!0:e===`none`||e===`0`||kS(e)}var hE=new Set([`brightness`,`contrast`,`saturate`,`opacity`]);function gE(e){let[t,n]=e.slice(0,-1).split(`(`);if(t===`drop-shadow`)return e;let[r]=n.match(kC)||[];if(!r)return e;let i=n.replace(r,``),a=hE.has(t)?1:0;return r!==n&&(a*=100),t+`(`+a+i+`)`}var _E=/\b([a-z-]*)\(.*?\)/gu,vE={...ow,getAnimatableNone:e=>{let t=e.match(_E);return t?t.map(gE).join(` `):e}},yE={...TC,transform:Math.round},bE={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,backgroundPositionX:Q,backgroundPositionY:Q,rotate:BC,rotateX:BC,rotateY:BC,rotateZ:BC,scale:DC,scaleX:DC,scaleY:DC,scaleZ:DC,skew:BC,skewX:BC,skewY:BC,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:EC,originX:WC,originY:WC,originZ:Q,zIndex:yE,fillOpacity:EC,strokeOpacity:EC,numOctaves:yE},xE={...bE,color:KC,backgroundColor:KC,outlineColor:KC,fill:KC,stroke:KC,borderColor:KC,borderTopColor:KC,borderRightColor:KC,borderBottomColor:KC,borderLeftColor:KC,filter:vE,WebkitFilter:vE},SE=e=>xE[e];function CE(e,t){let n=SE(e);return n!==vE&&(n=ow),n.getAnimatableNone?n.getAnimatableNone(t):void 0}var wE=new Set([`auto`,`none`,`0`]);function TE(e,t,n){let r=0,i;for(;r<e.length&&!i;){let t=e[r];typeof t==`string`&&!wE.has(t)&&tw(t).values.length&&(i=e[r]),r++}if(i&&n)for(let r of t)e[r]=CE(n,i)}var EE=class extends jT{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let n=0;n<e.length;n++){let r=e[n];if(typeof r==`string`&&(r=r.trim(),CC(r))){let i=sE(r,t.current);i!==void 0&&(e[n]=i),n===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!lE.has(n)||e.length!==2)return;let[r,i]=e,a=pE(r),o=pE(i);if(a!==o)if(yT(a)&&yT(o))for(let t=0;t<e.length;t++){let n=e[t];typeof n==`string`&&(e[t]=parseFloat(n))}else CT[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,n=[];for(let t=0;t<e.length;t++)(e[t]===null||mE(e[t]))&&n.push(t);n.length&&TE(e,n,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n===`height`&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=CT[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let r=t[t.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;let r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);let i=n.length-1,a=n[i];n[i]=CT[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,n])=>{e.getValue(t).set(n)}),this.resolveNoneKeyframes()}};function DE(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e==`string`){let r=document;t&&(r=t.current);let i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}var OE=(e,t)=>t&&typeof e==`number`?t.transform(e):e;function kE(e){return OS(e)&&`offsetHeight`in e}var AE=30,jE=e=>!isNaN(parseFloat(e)),ME={current:void 0},NE=class{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=vC.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=vC.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jE(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on(`change`,e)}on(e,t){this.events[e]||(this.events[e]=new FS);let n=this.events[e].add(t);return e===`change`?()=>{n(),fC.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||=new Set,this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return ME.current&&ME.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let e=vC.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>AE)return 0;let t=Math.min(this.updatedAt-this.prevUpdatedAt,AE);return RS(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function PE(e,t){return new NE(e,t)}var{schedule:FE,cancel:IE}=dC(queueMicrotask,!1),LE={x:!1,y:!1};function RE(){return LE.x||LE.y}function zE(e){return e===`x`||e===`y`?LE[e]?null:(LE[e]=!0,()=>{LE[e]=!1}):LE.x||LE.y?null:(LE.x=LE.y=!0,()=>{LE.x=LE.y=!1})}function BE(e,t){let n=DE(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function VE(e){return!(e.pointerType===`touch`||RE())}function HE(e,t,n={}){let[r,i,a]=BE(e,n),o=e=>{if(!VE(e))return;let{target:n}=e,r=t(n,e);if(typeof r!=`function`||!n)return;let a=e=>{VE(e)&&(r(e),n.removeEventListener(`pointerleave`,a))};n.addEventListener(`pointerleave`,a,i)};return r.forEach(e=>{e.addEventListener(`pointerenter`,o,i)}),a}var UE=(e,t)=>t?e===t?!0:UE(e,t.parentElement):!1,WE=e=>e.pointerType===`mouse`?typeof e.button!=`number`||e.button<=0:e.isPrimary!==!1,GE=new Set([`BUTTON`,`INPUT`,`SELECT`,`TEXTAREA`,`A`]);function KE(e){return GE.has(e.tagName)||e.tabIndex!==-1}var qE=new WeakSet;function JE(e){return t=>{t.key===`Enter`&&e(t)}}function YE(e,t){e.dispatchEvent(new PointerEvent(`pointer`+t,{isPrimary:!0,bubbles:!0}))}var XE=(e,t)=>{let n=e.currentTarget;if(!n)return;let r=JE(()=>{if(qE.has(n))return;YE(n,`down`);let e=JE(()=>{YE(n,`up`)});n.addEventListener(`keyup`,e,t),n.addEventListener(`blur`,()=>YE(n,`cancel`),t)});n.addEventListener(`keydown`,r,t),n.addEventListener(`blur`,()=>n.removeEventListener(`keydown`,r),t)};function ZE(e){return WE(e)&&!RE()}function QE(e,t,n={}){let[r,i,a]=BE(e,n),o=e=>{let r=e.currentTarget;if(!ZE(e))return;qE.add(r);let a=t(r,e),o=(e,t)=>{window.removeEventListener(`pointerup`,s),window.removeEventListener(`pointercancel`,c),qE.has(r)&&qE.delete(r),ZE(e)&&typeof a==`function`&&a(e,{success:t})},s=e=>{o(e,r===window||r===document||n.useGlobalTarget||UE(r,e.target))},c=e=>{o(e,!1)};window.addEventListener(`pointerup`,s,i),window.addEventListener(`pointercancel`,c,i)};return r.forEach(e=>{(n.useGlobalTarget?window:e).addEventListener(`pointerdown`,o,i),kE(e)&&(e.addEventListener(`focus`,e=>XE(e,i)),!KE(e)&&!e.hasAttribute(`tabindex`)&&(e.tabIndex=0))}),a}function $E(e){return OS(e)&&`ownerSVGElement`in e}function eD(e){return $E(e)&&e.tagName===`svg`}var tD=e=>!!(e&&e.getVelocity),nD=[...fE,KC,ow],rD=e=>nD.find(dE(e)),iD=(0,b.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:`never`});function aD(e,t){if(typeof e==`function`)return e(t);e!=null&&(e.current=t)}function oD(...e){return t=>{let n=!1,r=e.map(e=>{let r=aD(e,t);return!n&&typeof r==`function`&&(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];typeof n==`function`?n():aD(e[t],null)}}}}function sD(...e){return b.useCallback(oD(...e),e)}var cD=class extends b.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,n=kE(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}};function lD({children:e,isPresent:t,anchorX:n,root:r}){let i=(0,b.useId)(),a=(0,b.useRef)(null),o=(0,b.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=(0,b.useContext)(iD),c=sD(a,e?.ref);return(0,b.useInsertionEffect)(()=>{let{width:e,height:c,top:l,left:u,right:d}=o.current;if(t||!a.current||!e||!c)return;let f=n===`left`?`left: ${u}`:`right: ${d}`;a.current.dataset.motionPopId=i;let p=document.createElement(`style`);s&&(p.nonce=s);let m=r??document.head;return m.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${l}px !important;
          }
        `),()=>{m.contains(p)&&m.removeChild(p)}},[t]),(0,Z.jsx)(cD,{isPresent:t,childRef:a,sizeRef:o,children:b.cloneElement(e,{ref:c})})}var uD=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:s,root:c})=>{let l=yS(dD),u=(0,b.useId)(),d=!0,f=(0,b.useMemo)(()=>(d=!1,{id:u,initial:t,isPresent:n,custom:i,onExitComplete:e=>{l.set(e,!0);for(let e of l.values())if(!e)return;r&&r()},register:e=>(l.set(e,!1),()=>l.delete(e))}),[n,l,r]);return a&&d&&(f={...f}),(0,b.useMemo)(()=>{l.forEach((e,t)=>l.set(t,!1))},[n]),b.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o===`popLayout`&&(e=(0,Z.jsx)(lD,{isPresent:n,anchorX:s,root:c,children:e})),(0,Z.jsx)(SS.Provider,{value:f,children:e})};function dD(){return new Map}function fD(e=!0){let t=(0,b.useContext)(SS);if(t===null)return[!0,null];let{isPresent:n,onExitComplete:r,register:i}=t,a=(0,b.useId)();(0,b.useEffect)(()=>{if(e)return i(a)},[e]);let o=(0,b.useCallback)(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}var pD=e=>e.key||``;function mD(e){let t=[];return b.Children.forEach(e,e=>{(0,b.isValidElement)(e)&&t.push(e)}),t}var hD=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a=`sync`,propagate:o=!1,anchorX:s=`left`,root:c})=>{let[l,u]=fD(o),d=(0,b.useMemo)(()=>mD(e),[e]),f=o&&!l?[]:d.map(pD),p=(0,b.useRef)(!0),m=(0,b.useRef)(d),h=yS(()=>new Map),[g,_]=(0,b.useState)(d),[v,y]=(0,b.useState)(d);xS(()=>{p.current=!1,m.current=d;for(let e=0;e<v.length;e++){let t=pD(v[e]);f.includes(t)?h.delete(t):h.get(t)!==!0&&h.set(t,!1)}},[v,f.length,f.join(`-`)]);let x=[];if(d!==g){let e=[...d];for(let t=0;t<v.length;t++){let n=v[t],r=pD(n);f.includes(r)||(e.splice(t,0,n),x.push(n))}return a===`wait`&&x.length&&(e=x),y(mD(e)),_(d),null}let{forceRender:S}=(0,b.useContext)(vS);return(0,Z.jsx)(Z.Fragment,{children:v.map(e=>{let g=pD(e),_=o&&!l?!1:d===v||f.includes(g);return(0,Z.jsx)(uD,{isPresent:_,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:c,onExitComplete:_?void 0:()=>{if(h.has(g))h.set(g,!0);else return;let e=!0;h.forEach(t=>{t||(e=!1)}),e&&(S?.(),y(m.current),o&&u?.(),r&&r())},anchorX:s,children:e},g)})})},gD=(0,b.createContext)({strict:!1}),_D={animation:[`animate`,`variants`,`whileHover`,`whileTap`,`exit`,`whileInView`,`whileFocus`,`whileDrag`],exit:[`exit`],drag:[`drag`,`dragControls`],focus:[`whileFocus`],hover:[`whileHover`,`onHoverStart`,`onHoverEnd`],tap:[`whileTap`,`onTap`,`onTapStart`,`onTapCancel`],pan:[`onPan`,`onPanStart`,`onPanSessionStart`,`onPanEnd`],inView:[`whileInView`,`onViewportEnter`,`onViewportLeave`],layout:[`layout`,`layoutId`]},vD={};for(let e in _D)vD[e]={isEnabled:t=>_D[e].some(e=>!!t[e])};function yD(e){for(let t in e)vD[t]={...vD[t],...e[t]}}var bD=new Set(`animate.exit.variants.initial.style.values.variants.transition.transformTemplate.custom.inherit.onBeforeLayoutMeasure.onAnimationStart.onAnimationComplete.onUpdate.onDragStart.onDrag.onDragEnd.onMeasureDragConstraints.onDirectionLock.onDragTransitionEnd._dragX._dragY.onHoverStart.onHoverEnd.onViewportEnter.onViewportLeave.globalTapTarget.ignoreStrict.viewport`.split(`.`));function xD(e){return e.startsWith(`while`)||e.startsWith(`drag`)&&e!==`draggable`||e.startsWith(`layout`)||e.startsWith(`onTap`)||e.startsWith(`onPan`)||e.startsWith(`onLayout`)||bD.has(e)}var SD=c({default:()=>CD}),CD,wD=o((()=>{throw CD={},Error(`Could not resolve "@emotion/is-prop-valid" imported by "framer-motion". Is it installed?`)})),TD=e=>!xD(e);function ED(e){typeof e==`function`&&(TD=t=>t.startsWith(`on`)?!xD(t):e(t))}try{ED((wD(),d(SD)).default)}catch{}function DD(e,t,n){let r={};for(let i in e){if(i===`values`&&typeof e.values==`object`)continue;(TD(i)||n===!0&&xD(i)||!t&&!xD(i)||e.draggable&&i.startsWith(`onDrag`))&&(r[i]=e[i])}return r}var OD=(0,b.createContext)({});function kD(e){return typeof e==`object`&&!!e&&typeof e.start==`function`}function AD(e){return typeof e==`string`||Array.isArray(e)}var jD=[`animate`,`whileInView`,`whileFocus`,`whileHover`,`whileTap`,`whileDrag`,`exit`],MD=[`initial`,...jD];function ND(e){return kD(e.animate)||MD.some(t=>AD(e[t]))}function PD(e){return!!(ND(e)||e.variants)}function FD(e,t){if(ND(e)){let{initial:t,animate:n}=e;return{initial:t===!1||AD(t)?t:void 0,animate:AD(n)?n:void 0}}return e.inherit===!1?{}:t}function ID(e){let{initial:t,animate:n}=FD(e,(0,b.useContext)(OD));return(0,b.useMemo)(()=>({initial:t,animate:n}),[LD(t),LD(n)])}function LD(e){return Array.isArray(e)?e.join(` `):e}var RD={};function zD(e){for(let t in e)RD[t]=e[t],xC(t)&&(RD[t].isCSSVariable=!0)}function BD(e,{layout:t,layoutId:n}){return vT.has(e)||e.startsWith(`origin`)||(t||n!==void 0)&&(!!RD[e]||e===`opacity`)}var VD={x:`translateX`,y:`translateY`,z:`translateZ`,transformPerspective:`perspective`},HD=_T.length;function UD(e,t,n){let r=``,i=!0;for(let a=0;a<HD;a++){let o=_T[a],s=e[o];if(s===void 0)continue;let c=!0;if(c=typeof s==`number`?s===(o.startsWith(`scale`)?1:0):parseFloat(s)===0,!c||n){let e=OE(s,bE[o]);if(!c){i=!1;let t=VD[o]||o;r+=`${t}(${e}) `}n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,i?``:r):i&&(r=`none`),r}function WD(e,t,n){let{style:r,vars:i,transformOrigin:a}=e,o=!1,s=!1;for(let e in t){let n=t[e];if(vT.has(e)){o=!0;continue}else if(xC(e)){i[e]=n;continue}else{let t=OE(n,bE[e]);e.startsWith(`origin`)?(s=!0,a[e]=t):r[e]=t}}if(t.transform||(o||n?r.transform=UD(t,e.transform,n):r.transform&&=`none`),s){let{originX:e=`50%`,originY:t=`50%`,originZ:n=0}=a;r.transformOrigin=`${e} ${t} ${n}`}}var GD=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function KD(e,t,n){for(let r in t)!tD(t[r])&&!BD(r,n)&&(e[r]=t[r])}function qD({transformTemplate:e},t){return(0,b.useMemo)(()=>{let n=GD();return WD(n,t,e),Object.assign({},n.vars,n.style)},[t])}function JD(e,t){let n=e.style||{},r={};return KD(r,n,e),Object.assign(r,qD(e,t)),r}function YD(e,t){let n={},r=JD(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout=`none`,r.touchAction=e.drag===!0?`none`:`pan-${e.drag===`x`?`y`:`x`}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}var XD={offset:`stroke-dashoffset`,array:`stroke-dasharray`},ZD={offset:`strokeDashoffset`,array:`strokeDasharray`};function QD(e,t,n=1,r=0,i=!0){e.pathLength=1;let a=i?XD:ZD;e[a.offset]=Q.transform(-r);let o=Q.transform(t),s=Q.transform(n);e[a.array]=`${o} ${s}`}function $D(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...s},c,l,u){if(WD(e,s,l),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:d,style:f}=e;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??`50% 50%`,delete d.transformOrigin),f.transform&&(f.transformBox=u?.transformBox??`fill-box`,delete d.transformBox),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&QD(d,i,a,o,!1)}var eO=()=>({...GD(),attrs:{}}),tO=e=>typeof e==`string`&&e.toLowerCase()===`svg`;function nO(e,t,n,r){let i=(0,b.useMemo)(()=>{let n=eO();return $D(n,t,tO(r),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}},[t]);if(e.style){let t={};KD(t,e.style,e),i.style={...t,...i.style}}return i}var rO=[`animate`,`circle`,`defs`,`desc`,`ellipse`,`g`,`image`,`line`,`filter`,`marker`,`mask`,`metadata`,`path`,`pattern`,`polygon`,`polyline`,`rect`,`stop`,`switch`,`symbol`,`svg`,`text`,`tspan`,`use`,`view`];function iO(e){return typeof e!=`string`||e.includes(`-`)?!1:!!(rO.indexOf(e)>-1||/[A-Z]/u.test(e))}function aO(e,t,n,{latestValues:r},i,a=!1){let o=(iO(e)?nO:YD)(t,r,i,e),s=DD(t,typeof e==`string`,a),c=e===b.Fragment?{}:{...s,...o,ref:n},{children:l}=t,u=(0,b.useMemo)(()=>tD(l)?l.get():l,[l]);return(0,b.createElement)(e,{...c,children:u})}function oO(e){let t=[{},{}];return e?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function sO(e,t,n,r){if(typeof t==`function`){let[i,a]=oO(r);t=t(n===void 0?e.custom:n,i,a)}if(typeof t==`string`&&(t=e.variants&&e.variants[t]),typeof t==`function`){let[i,a]=oO(r);t=t(n===void 0?e.custom:n,i,a)}return t}function cO(e){return tD(e)?e.get():e}function lO({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:uO(n,r,i,e),renderState:t()}}function uO(e,t,n,r){let i={},a=r(e,{});for(let e in a)i[e]=cO(a[e]);let{initial:o,animate:s}=e,c=ND(e),l=PD(e);t&&l&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let u=n?n.initial===!1:!1;u||=o===!1;let d=u?s:o;if(d&&typeof d!=`boolean`&&!kD(d)){let t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){let r=sO(e,t[n]);if(r){let{transitionEnd:e,transition:t,...n}=r;for(let e in n){let t=n[e];if(Array.isArray(t)){let e=u?t.length-1:0;t=t[e]}t!==null&&(i[e]=t)}for(let t in e)i[t]=e[t]}}}return i}var dO=e=>(t,n)=>{let r=(0,b.useContext)(OD),i=(0,b.useContext)(SS),a=()=>lO(e,t,r,i);return n?a():yS(a)};function fO(e,t,n){let{style:r}=e,i={};for(let a in r)(tD(r[a])||t.style&&tD(t.style[a])||BD(a,e)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}var pO=dO({scrapeMotionValuesFromProps:fO,createRenderState:GD});function mO(e,t,n){let r=fO(e,t,n);for(let n in e)if(tD(e[n])||tD(t[n])){let t=_T.indexOf(n)===-1?n:`attr`+n.charAt(0).toUpperCase()+n.substring(1);r[t]=e[n]}return r}var hO=dO({scrapeMotionValuesFromProps:mO,createRenderState:eO}),gO=Symbol.for(`motionComponentSymbol`);function _O(e){return e&&typeof e==`object`&&Object.prototype.hasOwnProperty.call(e,`current`)}function vO(e,t,n){return(0,b.useCallback)(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n==`function`?n(r):_O(n)&&(n.current=r))},[t])}var yO=e=>e.replace(/([a-z])([A-Z])/gu,`$1-$2`).toLowerCase(),bO=`data-`+yO(`framerAppearId`),xO=(0,b.createContext)({});function SO(e,t,n,r,i){let{visualElement:a}=(0,b.useContext)(OD),o=(0,b.useContext)(gD),s=(0,b.useContext)(SS),c=(0,b.useContext)(iD).reducedMotion,l=(0,b.useRef)(null);r||=o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:c}));let u=l.current,d=(0,b.useContext)(xO);u&&!u.projection&&i&&(u.type===`html`||u.type===`svg`)&&CO(l.current,n,i,d);let f=(0,b.useRef)(!1);(0,b.useInsertionEffect)(()=>{u&&f.current&&u.update(n,s)});let p=n[bO],m=(0,b.useRef)(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return xS(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),m.current&&u.animationState&&u.animationState.animateChanges())}),(0,b.useEffect)(()=>{u&&(!m.current&&u.animationState&&u.animationState.animateChanges(),m.current&&=(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),!1),u.enteringChildren=void 0)}),u}function CO(e,t,n,r){let{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:c,layoutRoot:l,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t[`data-framer-portal-id`]?void 0:wO(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||s&&_O(s),visualElement:e,animationType:typeof a==`string`?a:`both`,initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:l})}function wO(e){if(e)return e.options.allowProjection===!1?wO(e.parent):e.projection}function TO(e,{forwardMotionProps:t=!1}={},n,r){n&&yD(n);let i=iO(e)?hO:pO;function a(a,o){let s,c={...(0,b.useContext)(iD),...a,layoutId:EO(a)},{isStatic:l}=c,u=ID(a),d=i(a,l);if(!l&&bS){DO(c,n);let t=OO(c);s=t.MeasureLayout,u.visualElement=SO(e,d,c,r,t.ProjectionNode)}return(0,Z.jsxs)(OD.Provider,{value:u,children:[s&&u.visualElement?(0,Z.jsx)(s,{visualElement:u.visualElement,...c}):null,aO(e,a,vO(d,u.visualElement,o),d,l,t)]})}a.displayName=`motion.${typeof e==`string`?e:`create(${e.displayName??e.name??``})`}`;let o=(0,b.forwardRef)(a);return o[gO]=e,o}function EO({layoutId:e}){let t=(0,b.useContext)(vS).id;return t&&e!==void 0?t+`-`+e:e}function DO(e,t){(0,b.useContext)(gD).strict}function OO(e){let{drag:t,layout:n}=vD;if(!t&&!n)return{};let r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function kO(e,t){if(typeof Proxy>`u`)return TO;let n=new Map,r=(n,r)=>TO(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,a)=>a===`create`?r:(n.has(a)||n.set(a,TO(a,void 0,e,t)),n.get(a))})}function AO({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function jO({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function MO(e,t){if(!t)return e;let n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function NO(e){return e===void 0||e===1}function PO({scale:e,scaleX:t,scaleY:n}){return!NO(e)||!NO(t)||!NO(n)}function FO(e){return PO(e)||IO(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function IO(e){return LO(e.x)||LO(e.y)}function LO(e){return e&&e!==`0%`}function RO(e,t,n){let r=e-n,i=t*r;return n+i}function zO(e,t,n,r,i){return i!==void 0&&(e=RO(e,i,r)),RO(e,n,r)+t}function BO(e,t=0,n=1,r,i){e.min=zO(e.min,t,n,r,i),e.max=zO(e.max,t,n,r,i)}function VO(e,{x:t,y:n}){BO(e.x,t.translate,t.scale,t.originPoint),BO(e.y,n.translate,n.scale,n.originPoint)}var HO=.999999999999,UO=1.0000000000001;function WO(e,t,n,r=!1){let i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;let{visualElement:i}=a.options;i&&i.props.style&&i.props.style.display===`contents`||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&qO(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,VO(e,o)),r&&FO(a.latestValues)&&qO(e,a.latestValues))}t.x<UO&&t.x>HO&&(t.x=1),t.y<UO&&t.y>HO&&(t.y=1)}function GO(e,t){e.min+=t,e.max+=t}function KO(e,t,n,r,i=.5){let a=uw(e.min,e.max,i);BO(e,t,n,a,r)}function qO(e,t){KO(e.x,t.x,t.scaleX,t.scale,t.originX),KO(e.y,t.y,t.scaleY,t.scale,t.originY)}function JO(e,t){return AO(MO(e.getBoundingClientRect(),t))}function YO(e,t,n){let r=JO(e,n),{scroll:i}=t;return i&&(GO(r.x,i.offset.x),GO(r.y,i.offset.y)),r}var XO=()=>({translate:0,scale:1,origin:0,originPoint:0}),ZO=()=>({x:XO(),y:XO()}),QO=()=>({min:0,max:0}),$O=()=>({x:QO(),y:QO()}),ek={current:null},tk={current:!1};function nk(){if(tk.current=!0,bS)if(window.matchMedia){let e=window.matchMedia(`(prefers-reduced-motion)`),t=()=>ek.current=e.matches;e.addEventListener(`change`,t),t()}else ek.current=!1}var rk=new WeakMap;function ik(e,t,n){for(let r in t){let i=t[r],a=n[r];if(tD(i))e.addValue(r,i);else if(tD(a))e.addValue(r,PE(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){let t=e.getValue(r);t.liveStyle===!0?t.jump(i):t.hasAnimated||t.set(i)}else{let t=e.getStaticValue(r);e.addValue(r,PE(t===void 0?i:t,{owner:e}))}}for(let r in n)t[r]===void 0&&e.removeValue(r);return t}var ak=[`AnimationStart`,`AnimationComplete`,`Update`,`BeforeLayoutMeasure`,`LayoutMeasure`,`LayoutAnimationStart`,`LayoutAnimationComplete`],ok=class{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify(`Update`,this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=vC.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,fC.render(this.render,!1,!0))};let{latestValues:s,renderState:c}=a;this.latestValues=s,this.baseTarget={...s},this.initialValues=t.initial?{...s}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=ND(t),this.isVariantNode=PD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:l,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in u){let t=u[e];s[e]!==void 0&&tD(t)&&t.set(s[e])}}mount(e){this.current=e,rk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),tk.current||nk(),this.shouldReduceMotion=this.reducedMotionConfig===`never`?!1:this.reducedMotionConfig===`always`?!0:ek.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),pC(this.notifyUpdate),pC(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??=new Set,this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let n=vT.has(e);n&&this.onBindTransform&&this.onBindTransform();let r=t.on(`change`,t=>{this.latestValues[e]=t,this.props.onUpdate&&fC.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()}),i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e=`animation`;for(e in vD){let t=vD[e];if(!t)continue;let{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$O()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<ak.length;t++){let n=ak[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let r=`on`+n,i=e[r];i&&(this.propEventSubscriptions[n]=this.on(n,i))}this.prevMotionValues=ik(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=PE(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n==`string`&&(DS(n)||kS(n))?n=parseFloat(n):!rD(n)&&ow.test(t)&&(n=CE(e,t)),this.setBaseTarget(e,tD(n)?n.get():n)),tD(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let{initial:t}=this.props,n;if(typeof t==`string`||typeof t==`object`){let r=sO(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&n!==void 0)return n;let r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!tD(r)?r:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new FS),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){FE.render(this.render)}},sk=class extends ok{constructor(){super(...arguments),this.KeyframeResolver=EE}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;tD(e)&&(this.childSubscription=e.on(`change`,e=>{this.current&&(this.current.textContent=`${e}`)}))}};function ck(e,{style:t,vars:n},r,i){let a=e.style,o;for(o in t)a[o]=t[o];for(o in i?.applyProjectionStyles(a,r),n)a.setProperty(o,n[o])}function lk(e){return window.getComputedStyle(e)}var uk=class extends sk{constructor(){super(...arguments),this.type=`html`,this.renderInstance=ck}readValueFromInstance(e,t){if(vT.has(t))return this.projection?.isProjecting?pT(t):hT(e,t);{let n=lk(e),r=(xC(t)?n.getPropertyValue(t):n[t])||0;return typeof r==`string`?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return JO(e,t)}build(e,t,n){WD(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return fO(e,t,n)}},dk=new Set([`baseFrequency`,`diffuseConstant`,`kernelMatrix`,`kernelUnitLength`,`keySplines`,`keyTimes`,`limitingConeAngle`,`markerHeight`,`markerWidth`,`numOctaves`,`targetX`,`targetY`,`surfaceScale`,`specularConstant`,`specularExponent`,`stdDeviation`,`tableValues`,`viewBox`,`gradientTransform`,`pathLength`,`startOffset`,`textLength`,`lengthAdjust`]);function fk(e,t,n,r){for(let n in ck(e,t,void 0,r),t.attrs)e.setAttribute(dk.has(n)?n:yO(n),t.attrs[n])}var pk=class extends sk{constructor(){super(...arguments),this.type=`svg`,this.isSVGTag=!1,this.measureInstanceViewportBox=$O}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(vT.has(t)){let e=SE(t);return e&&e.default||0}return t=dk.has(t)?t:yO(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return mO(e,t,n)}build(e,t,n){$D(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){fk(e,t,n,r)}mount(e){this.isSVGTag=tO(e.tagName),super.mount(e)}},mk=(e,t)=>iO(e)?new pk(t):new uk(t,{allowProjection:e!==b.Fragment});function hk(e,t,n){let r=e.getProps();return sO(r,t,n===void 0?r.custom:n,e)}var gk=e=>Array.isArray(e);function _k(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,PE(n))}function vk(e){return gk(e)?e[e.length-1]||0:e}function yk(e,t){let{transitionEnd:n={},transition:r={},...i}=hk(e,t)||{};for(let t in i={...i,...n},i){let n=vk(i[t]);_k(e,t,n)}}function bk(e){return!!(tD(e)&&e.add)}function xk(e,t){let n=e.getValue(`willChange`);if(bk(n))return n.add(t);if(!n&&ES.WillChange){let n=new ES.WillChange(`auto`);e.addValue(`willChange`,n),n.add(t)}}function Sk(e){return e.props[bO]}var Ck=e=>e!==null;function wk(e,{repeat:t,repeatType:n=`loop`},r){let i=e.filter(Ck),a=t&&n!==`loop`&&t%2==1?0:i.length-1;return!a||r===void 0?i[a]:r}var Tk={type:`spring`,stiffness:500,damping:25,restSpeed:10},Ek=e=>({type:`spring`,stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Dk={type:`keyframes`,duration:.8},Ok={type:`keyframes`,ease:[.25,.1,.35,1],duration:.3},kk=(e,{keyframes:t})=>t.length>2?Dk:vT.has(e)?e.startsWith(`scale`)?Ek(t[1]):Tk:Ok;function Ak({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:c,elapsed:l,...u}){return!!Object.keys(u).length}var jk=(e,t,n,r={},i,a)=>o=>{let s=cE(r,e)||{},c=s.delay||r.delay||0,{elapsed:l=0}=r;l-=IS(c);let u={keyframes:Array.isArray(n)?n:[null,n],ease:`easeOut`,velocity:t.getVelocity(),...s,delay:-l,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:a?void 0:i};Ak(s)||Object.assign(u,kk(e,u)),u.duration&&=IS(u.duration),u.repeatDelay&&=IS(u.repeatDelay),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&($T(u),u.delay===0&&(d=!0)),(ES.instantAnimations||ES.skipAnimations)&&(d=!0,$T(u),u.delay=0),u.allowFlatten=!s.type&&!s.ease,d&&!a&&t.get()!==void 0){let e=wk(u.keyframes,s);if(e!==void 0){fC.update(()=>{u.onUpdate(e),u.onComplete()});return}}return s.isSync?new rT(u):new iE(u)};function Mk({protectedKeys:e,needsAnimating:t},n){let r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Nk(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...s}=t;r&&(a=r);let c=[],l=i&&e.animationState&&e.animationState.getState()[i];for(let t in s){let r=e.getValue(t,e.latestValues[t]??null),i=s[t];if(i===void 0||l&&Mk(l,t))continue;let o={delay:n,...cE(a||{},t)},u=r.get();if(u!==void 0&&!r.isAnimating&&!Array.isArray(i)&&i===u&&!o.velocity)continue;let d=!1;if(window.MotionHandoffAnimation){let n=Sk(e);if(n){let e=window.MotionHandoffAnimation(n,t,fC);e!==null&&(o.startTime=e,d=!0)}}xk(e,t),r.start(jk(t,r,i,e.shouldReduceMotion&&lE.has(t)?{type:!1}:o,e,d));let f=r.animation;f&&c.push(f)}return o&&Promise.all(c).then(()=>{fC.update(()=>{o&&yk(e,o)})}),c}function Pk(e,t,n,r=0,i=1){let a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),o=e.size,s=(o-1)*r;return typeof n==`function`?n(a,o):i===1?a*r:s-a*r}function Fk(e,t,n={}){let r=hk(e,t,n.type===`exit`?e.presenceContext?.custom:void 0),{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);let a=r?()=>Promise.all(Nk(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{let{delayChildren:a=0,staggerChildren:o,staggerDirection:s}=i;return Ik(e,t,r,a,o,s,n)}:()=>Promise.resolve(),{when:s}=i;if(s){let[e,t]=s===`beforeChildren`?[a,o]:[o,a];return e().then(()=>t())}else return Promise.all([a(),o(n.delay)])}function Ik(e,t,n=0,r=0,i=0,a=1,o){let s=[];for(let c of e.variantChildren)c.notify(`AnimationStart`,t),s.push(Fk(c,t,{...o,delay:n+(typeof r==`function`?0:r)+Pk(e.variantChildren,c,r,i,a)}).then(()=>c.notify(`AnimationComplete`,t)));return Promise.all(s)}function Lk(e,t,n={}){e.notify(`AnimationStart`,t);let r;if(Array.isArray(t)){let i=t.map(t=>Fk(e,t,n));r=Promise.all(i)}else if(typeof t==`string`)r=Fk(e,t,n);else{let i=typeof t==`function`?hk(e,t,n.custom):t;r=Promise.all(Nk(e,i,n))}return r.then(()=>{e.notify(`AnimationComplete`,t)})}function Rk(e,t){if(!Array.isArray(t))return!1;let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var zk=MD.length;function Bk(e){if(!e)return;if(!e.isControllingVariants){let t=e.parent&&Bk(e.parent)||{};return e.props.initial!==void 0&&(t.initial=e.props.initial),t}let t={};for(let n=0;n<zk;n++){let r=MD[n],i=e.props[r];(AD(i)||i===!1)&&(t[r]=i)}return t}var Vk=[...jD].reverse(),Hk=jD.length;function Uk(e){return t=>Promise.all(t.map(({animation:t,options:n})=>Lk(e,t,n)))}function Wk(e){let t=Uk(e),n=qk(),r=!0,i=t=>(n,r)=>{let i=hk(e,r,t===`exit`?e.presenceContext?.custom:void 0);if(i){let{transition:e,transitionEnd:t,...r}=i;n={...n,...r,...t}}return n};function a(n){t=n(e)}function o(a){let{props:o}=e,s=Bk(e.parent)||{},c=[],l=new Set,u={},d=1/0;for(let t=0;t<Hk;t++){let f=Vk[t],p=n[f],m=o[f]===void 0?s[f]:o[f],h=AD(m),g=f===a?p.isActive:null;g===!1&&(d=t);let _=m===s[f]&&m!==o[f]&&h;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),p.protectedKeys={...u},!p.isActive&&g===null||!m&&!p.prevProp||kD(m)||typeof m==`boolean`)continue;let v=Gk(p.prevProp,m),y=v||f===a&&p.isActive&&!_&&h||t>d&&h,b=!1,x=Array.isArray(m)?m:[m],S=x.reduce(i(f),{});g===!1&&(S={});let{prevResolvedValues:C={}}=p,w={...C,...S},T=t=>{y=!0,l.has(t)&&(b=!0,l.delete(t)),p.needsAnimating[t]=!0;let n=e.getValue(t);n&&(n.liveStyle=!1)};for(let e in w){let t=S[e],n=C[e];if(u.hasOwnProperty(e))continue;let r=!1;r=gk(t)&&gk(n)?!Rk(t,n):t!==n,r?t==null?l.add(e):T(e):t!==void 0&&l.has(e)?T(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=S,p.isActive&&(u={...u,...S}),r&&e.blockInitialAnimation&&(y=!1);let E=_&&v;y&&(!E||b)&&c.push(...x.map(t=>{let n={type:f};if(typeof t==`string`&&r&&!E&&e.manuallyAnimateOnMount&&e.parent){let{parent:r}=e,i=hk(r,t);if(r.enteringChildren&&i){let{delayChildren:t}=i.transition||{};n.delay=Pk(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(l.size){let t={};if(typeof o.initial!=`boolean`){let n=hk(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}l.forEach(n=>{let r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=r??null}),c.push({animation:t})}let f=!!c.length;return r&&(o.initial===!1||o.initial===o.animate)&&!e.manuallyAnimateOnMount&&(f=!1),r=!1,f?t(c):Promise.resolve()}function s(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,r)),n[t].isActive=r;let i=o(t);for(let e in n)n[e].protectedKeys={};return i}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>n,reset:()=>{n=qk()}}}function Gk(e,t){return typeof t==`string`?t!==e:Array.isArray(t)?!Rk(t,e):!1}function Kk(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qk(){return{animate:Kk(!0),whileInView:Kk(),whileHover:Kk(),whileTap:Kk(),whileDrag:Kk(),whileFocus:Kk(),exit:Kk()}}var Jk=class{constructor(e){this.isMounted=!1,this.node=e}update(){}},Yk=class extends Jk{constructor(e){super(e),e.animationState||=Wk(e)}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();kD(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}},Xk=0,Zk={animation:{Feature:Yk},exit:{Feature:class extends Jk{constructor(){super(...arguments),this.id=Xk++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;let r=this.node.animationState.setActive(`exit`,!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function Qk(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function $k(e){return{point:{x:e.pageX,y:e.pageY}}}var eA=e=>t=>WE(t)&&e(t,$k(t));function tA(e,t,n,r){return Qk(e,t,eA(n),r)}var nA=1e-4,rA=1-nA,iA=1+nA,aA=.01,oA=0-aA,sA=0+aA;function cA(e){return e.max-e.min}function lA(e,t,n){return Math.abs(e-t)<=n}function uA(e,t,n,r=.5){e.origin=r,e.originPoint=uw(t.min,t.max,e.origin),e.scale=cA(n)/cA(t),e.translate=uw(n.min,n.max,e.origin)-e.originPoint,(e.scale>=rA&&e.scale<=iA||isNaN(e.scale))&&(e.scale=1),(e.translate>=oA&&e.translate<=sA||isNaN(e.translate))&&(e.translate=0)}function dA(e,t,n,r){uA(e.x,t.x,n.x,r?r.originX:void 0),uA(e.y,t.y,n.y,r?r.originY:void 0)}function fA(e,t,n){e.min=n.min+t.min,e.max=e.min+cA(t)}function pA(e,t,n){fA(e.x,t.x,n.x),fA(e.y,t.y,n.y)}function mA(e,t,n){e.min=t.min-n.min,e.max=e.min+cA(t)}function hA(e,t,n){mA(e.x,t.x,n.x),mA(e.y,t.y,n.y)}function gA(e){return[e(`x`),e(`y`)]}var _A=({current:e})=>e?e.ownerDocument.defaultView:null,vA=(e,t)=>Math.abs(e-t);function yA(e,t){let n=vA(e.x,t.x),r=vA(e.y,t.y);return Math.sqrt(n**2+r**2)}var bA=class{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=CA(this.lastMoveEventInfo,this.history),t=this.startEvent!==null,n=yA(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;let{point:r}=e,{timestamp:i}=mC;this.history.push({...r,timestamp:i});let{onStart:a,onMove:o}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=xA(t,this.transformPagePoint),fC.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let a=CA(e.type===`pointercancel`?this.lastMoveEventInfo:xA(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!WE(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=r||window;let o=$k(e),s=xA(o,this.transformPagePoint),{point:c}=s,{timestamp:l}=mC;this.history=[{...c,timestamp:l}];let{onSessionStart:u}=t;u&&u(e,CA(s,this.history)),this.removeListeners=NS(tA(this.contextWindow,`pointermove`,this.handlePointerMove),tA(this.contextWindow,`pointerup`,this.handlePointerUp),tA(this.contextWindow,`pointercancel`,this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pC(this.updatePoint)}};function xA(e,t){return t?{point:t(e.point)}:e}function SA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function CA({point:e},t){return{point:e,delta:SA(e,TA(t)),offset:SA(e,wA(t)),velocity:EA(t,.1)}}function wA(e){return e[0]}function TA(e){return e[e.length-1]}function EA(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null,i=TA(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>IS(t)));)n--;if(!r)return{x:0,y:0};let a=LS(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};let o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function DA(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?uw(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?uw(n,e,r.max):Math.min(e,n)),e}function OA(e,t,n){return{min:t===void 0?void 0:e.min+t,max:n===void 0?void 0:e.max+n-(e.max-e.min)}}function kA(e,{top:t,left:n,bottom:r,right:i}){return{x:OA(e.x,n,i),y:OA(e.y,t,r)}}function AA(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function jA(e,t){return{x:AA(e.x,t.x),y:AA(e.y,t.y)}}function MA(e,t){let n=.5,r=cA(e),i=cA(t);return i>r?n=PS(t.min,t.max-r,e.min):r>i&&(n=PS(e.min,e.max-i,t.min)),TS(0,1,n)}function NA(e,t){let n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}var PA=.35;function FA(e=PA){return e===!1?e=0:e===!0&&(e=PA),{x:IA(e,`left`,`right`),y:IA(e,`top`,`bottom`)}}function IA(e,t,n){return{min:LA(e,t),max:LA(e,n)}}function LA(e,t){return typeof e==`number`?e:e[t]||0}var RA=new WeakMap,zA=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$O(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){let{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;let i=e=>{let{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor($k(e).point)},a=(e,t)=>{let{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zE(n),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gA(e=>{let t=this.getAxisMotionValue(e).get()||0;if(VC.test(t)){let{projection:n}=this.visualElement;if(n&&n.layout){let r=n.layout.layoutBox[e];r&&(t=cA(r)*(parseFloat(t)/100))}}this.originPoint[e]=t}),i&&fC.postRender(()=>i(e,t)),xk(this.visualElement,`transform`);let{animationState:a}=this.visualElement;a&&a.setActive(`whileDrag`,!0)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;let{offset:o}=t;if(r&&this.currentDirection===null){this.currentDirection=VA(o),this.currentDirection!==null&&i&&i(this.currentDirection);return}this.updateAxis(`x`,t.point,o),this.updateAxis(`y`,t.point,o),this.visualElement.render(),a&&a(e,t)},s=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>gA(e=>this.getAnimationState(e)===`paused`&&this.getAxisMotionValue(e).animation?.play()),{dragSnapToOrigin:l}=this.getProps();this.panSession=new bA(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:s,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,distanceThreshold:n,contextWindow:_A(this.visualElement)})}stop(e,t){let n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;let{velocity:a}=r;this.startAnimation(a);let{onDragEnd:o}=this.getProps();o&&fC.postRender(()=>o(n,r))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive(`whileDrag`,!1)}updateAxis(e,t,n){let{drag:r}=this.getProps();if(!n||!BA(e,r,this.currentDirection))return;let i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=DA(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&_O(e)?this.constraints||=this.resolveRefConstraints():e&&n?this.constraints=kA(n.layoutBox,e):this.constraints=!1,this.elastic=FA(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&gA(e=>{this.constraints!==!1&&this.getAxisMotionValue(e)&&(this.constraints[e]=NA(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){let{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!_O(e))return!1;let n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let i=YO(n,r.root,this.visualElement.getTransformPagePoint()),a=jA(r.layout.layoutBox,i);if(t){let e=t(jO(a));this.hasMutatedConstraints=!!e,e&&(a=AO(e))}return a}startAnimation(e){let{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},c=gA(o=>{if(!BA(o,t,this.currentDirection))return;let c=s&&s[o]||{};a&&(c={min:0,max:0});let l=r?200:1e6,u=r?40:1e7,d={type:`inertia`,velocity:n?e[o]:0,bounceStiffness:l,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...c};return this.startAxisValueAnimation(o,d)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){let n=this.getAxisMotionValue(e);return xk(this.visualElement,e),n.start(jk(e,n,0,t,this.visualElement,!1))}stopAnimation(){gA(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){gA(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){gA(t=>{let{drag:n}=this.getProps();if(!BA(t,n,this.currentDirection))return;let{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){let{min:n,max:a}=r.layout.layoutBox[t];i.set(e[t]-uw(n,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!_O(t)||!n||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};gA(e=>{let t=this.getAxisMotionValue(e);if(t&&this.constraints!==!1){let n=t.get();r[e]=MA({min:n,max:n},this.constraints[e])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},``):`none`,n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),gA(t=>{if(!BA(t,e,null))return;let n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(uw(i,a,r[t]))})}addListeners(){if(!this.visualElement.current)return;RA.set(this.visualElement,this);let e=this.visualElement.current,t=tA(e,`pointerdown`,e=>{let{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),n=()=>{let{dragConstraints:e}=this.getProps();_O(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener(`measure`,n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),fC.read(n);let a=Qk(window,`resize`,()=>this.scalePositionWithinConstraints()),o=r.addEventListener(`didUpdate`,(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(gA(t=>{let n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())}));return()=>{a(),t(),i(),o&&o()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=PA,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o}}};function BA(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function VA(e,t=10){let n=null;return Math.abs(e.y)>t?n=`y`:Math.abs(e.x)>t&&(n=`x`),n}var HA=class extends Jk{constructor(e){super(e),this.removeGroupControls=jS,this.removeListeners=jS,this.controls=new zA(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jS}unmount(){this.removeGroupControls(),this.removeListeners()}},UA=e=>(t,n)=>{e&&fC.postRender(()=>e(t,n))},WA=class extends Jk{constructor(){super(...arguments),this.removePointerDownListener=jS}onPointerDown(e){this.session=new bA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_A(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:UA(e),onStart:UA(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&fC.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=tA(this.node.current,`pointerdown`,e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}},GA={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function KA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var qA={correct:(e,t)=>{if(!t.target)return e;if(typeof e==`string`)if(Q.test(e))e=parseFloat(e);else return e;let n=KA(e,t.target.x),r=KA(e,t.target.y);return`${n}% ${r}%`}},JA={correct:(e,{treeScale:t,projectionDelta:n})=>{let r=e,i=ow.parse(e);if(i.length>5)return r;let a=ow.createTransformer(e),o=typeof i[0]==`number`?0:1,s=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=s,i[1+o]/=c;let l=uw(s,c,.5);return typeof i[2+o]==`number`&&(i[2+o]/=l),typeof i[3+o]==`number`&&(i[3+o]/=l),a(i)}},YA=!1,XA=class extends b.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;zD(QA),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),YA&&i.root.didUpdate(),i.addEventListener(`animationComplete`,()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),GA.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:a}=n;return a?(a.isPresent=i,YA=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||fC.postRender(()=>{let e=a.getStack();(!e||!e.members.length)&&this.safeToRemove()})),null):null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),FE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;YA=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}};function ZA(e){let[t,n]=fD(),r=(0,b.useContext)(vS);return(0,Z.jsx)(XA,{...e,layoutGroup:r,switchLayoutGroup:(0,b.useContext)(xO),isPresent:t,safeToRemove:n})}var QA={borderRadius:{...qA,applyTo:[`borderTopLeftRadius`,`borderTopRightRadius`,`borderBottomLeftRadius`,`borderBottomRightRadius`]},borderTopLeftRadius:qA,borderTopRightRadius:qA,borderBottomLeftRadius:qA,borderBottomRightRadius:qA,boxShadow:JA};function $A(e,t,n){let r=tD(e)?e:PE(e);return r.start(jk(``,r,t,n)),r.animation}var ej=(e,t)=>e.depth-t.depth,tj=class{constructor(){this.children=[],this.isDirty=!1}add(e){CS(this.children,e),this.isDirty=!0}remove(e){wS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ej),this.isDirty=!1,this.children.forEach(e)}};function nj(e,t){let n=vC.now(),r=({timestamp:i})=>{let a=i-n;a>=t&&(pC(r),e(a-t))};return fC.setup(r,!0),()=>pC(r)}var rj=[`TopLeft`,`TopRight`,`BottomLeft`,`BottomRight`],ij=rj.length,aj=e=>typeof e==`string`?parseFloat(e):e,oj=e=>typeof e==`number`||Q.test(e);function sj(e,t,n,r,i,a){i?(e.opacity=uw(0,n.opacity??1,lj(r)),e.opacityExit=uw(t.opacity??1,0,uj(r))):a&&(e.opacity=uw(t.opacity??1,n.opacity??1,r));for(let i=0;i<ij;i++){let a=`border${rj[i]}Radius`,o=cj(t,a),s=cj(n,a);o===void 0&&s===void 0||(o||=0,s||=0,o===0||s===0||oj(o)===oj(s)?(e[a]=Math.max(uw(aj(o),aj(s),r),0),(VC.test(s)||VC.test(o))&&(e[a]+=`%`)):e[a]=s)}(t.rotate||n.rotate)&&(e.rotate=uw(t.rotate||0,n.rotate||0,r))}function cj(e,t){return e[t]===void 0?e.borderRadius:e[t]}var lj=dj(0,.5,ZS),uj=dj(.5,.95,jS);function dj(e,t,n){return r=>r<e?0:r>t?1:n(PS(e,t,r))}function fj(e,t){e.min=t.min,e.max=t.max}function pj(e,t){fj(e.x,t.x),fj(e.y,t.y)}function mj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function hj(e,t,n,r,i){return e-=t,e=RO(e,1/n,r),i!==void 0&&(e=RO(e,1/i,r)),e}function gj(e,t=0,n=1,r=.5,i,a=e,o=e){if(VC.test(t)&&(t=parseFloat(t),t=uw(o.min,o.max,t/100)-o.min),typeof t!=`number`)return;let s=uw(a.min,a.max,r);e===a&&(s-=t),e.min=hj(e.min,t,n,s,i),e.max=hj(e.max,t,n,s,i)}function _j(e,t,[n,r,i],a,o){gj(e,t[n],t[r],t[i],t.scale,a,o)}var vj=[`x`,`scaleX`,`originX`],yj=[`y`,`scaleY`,`originY`];function bj(e,t,n,r){_j(e.x,t,vj,n?n.x:void 0,r?r.x:void 0),_j(e.y,t,yj,n?n.y:void 0,r?r.y:void 0)}function xj(e){return e.translate===0&&e.scale===1}function Sj(e){return xj(e.x)&&xj(e.y)}function Cj(e,t){return e.min===t.min&&e.max===t.max}function wj(e,t){return Cj(e.x,t.x)&&Cj(e.y,t.y)}function Tj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ej(e,t){return Tj(e.x,t.x)&&Tj(e.y,t.y)}function Dj(e){return cA(e.x)/cA(e.y)}function Oj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}var kj=class{constructor(){this.members=[]}add(e){CS(this.members,e),e.scheduleRender()}remove(e){if(wS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t=this.members.findIndex(t=>e===t);if(t===0)return!1;let n;for(let e=t;e>=0;e--){let t=this.members[e];if(t.isPresent!==!1){n=t;break}}return n?(this.promote(n),!0):!1}promote(e,t){let n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function Aj(e,t,n){let r=``,i=e.x.translate/t.x,a=e.y.translate/t.y,o=n?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){let{transformPerspective:e,rotate:t,rotateX:i,rotateY:a,skewX:o,skewY:s}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),a&&(r+=`rotateY(${a}deg) `),o&&(r+=`skewX(${o}deg) `),s&&(r+=`skewY(${s}deg) `)}let s=e.x.scale*t.x,c=e.y.scale*t.y;return(s!==1||c!==1)&&(r+=`scale(${s}, ${c})`),r||`none`}var jj={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},Mj=[``,`X`,`Y`,`Z`],Nj=1e3,Pj=0;function Fj(e,t,n,r){let{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Ij(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:t}=e.options;if(!t)return;let n=Sk(t);if(window.MotionHasOptimisedAnimation(n,`transform`)){let{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,`transform`,fC,!(t||r))}let{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Ij(r)}function Lj({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=t?.()){this.id=Pj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cC.value&&(jj.nodes=jj.calculatedTargetDeltas=jj.calculatedProjections=0),this.nodes.forEach(Bj),this.nodes.forEach(qj),this.nodes.forEach(Jj),this.nodes.forEach(Vj),cC.addProjectionMetrics&&cC.addProjectionMetrics(jj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new tj)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new FS),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=$E(t)&&!eD(t),this.instance=t;let{layoutId:n,layout:r,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(r||n)&&(this.isLayoutDirty=!0),e){let n,r=0,i=()=>this.root.updateBlockedByResize=!1;fC.read(()=>{r=window.innerWidth}),e(t,()=>{let e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=nj(i,250),GA.hasAnimatedSinceResize&&(GA.hasAnimatedSinceResize=!1,this.nodes.forEach(Kj)))})}n&&this.root.registerSharedNode(n,this),this.options.animate!==!1&&i&&(n||r)&&this.addEventListener(`didUpdate`,({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let a=this.options.transition||i.getDefaultTransition()||tM,{onLayoutAnimationStart:o,onLayoutAnimationComplete:s}=i.getProps(),c=!this.targetLayout||!Ej(this.targetLayout,r),l=!t&&n;if(this.options.layoutRoot||this.resumeFrom||l||t&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...cE(a,`layout`),onPlay:o,onComplete:s};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,l)}else t||Kj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pC(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Yj),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ij(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll(`snapshot`),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:n}=this.options;if(t===void 0&&!n)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,``):void 0,this.updateSnapshot(),e&&this.notifyListeners(`willUpdate`)}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Uj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Wj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Gj),this.nodes.forEach(Rj),this.nodes.forEach(zj)):this.nodes.forEach(Wj),this.clearAllSnapshots();let e=vC.now();mC.delta=TS(0,1e3/60,e-mC.timestamp),mC.timestamp=e,mC.isProcessing=!0,hC.update.process(mC),hC.preRender.process(mC),hC.render.process(mC),mC.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,FE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Hj),this.sharedNodes.forEach(Xj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fC.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fC.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cA(this.snapshot.measuredBox.x)&&!cA(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$O(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners(`measure`,this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify(`LayoutMeasure`,this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e=`measure`){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Sj(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,``):void 0,a=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||FO(this.latestValues)||a)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){let t=this.measurePageBox(),n=this.removeElementScroll(t);return e&&(n=this.removeTransform(n)),aM(n),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return $O();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(sM))){let{scroll:e}=this.root;e&&(GO(t.x,e.offset.x),GO(t.y,e.offset.y))}return t}removeElementScroll(e){let t=$O();if(pj(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){let r=this.path[n],{scroll:i,options:a}=r;r!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&pj(t,e),GO(t.x,i.offset.x),GO(t.y,i.offset.y))}return t}applyTransform(e,t=!1){let n=$O();pj(n,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&qO(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),FO(r.latestValues)&&qO(n,r.latestValues)}return FO(this.latestValues)&&qO(n,this.latestValues),n}removeTransform(e){let t=$O();pj(t,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];if(!n.instance||!FO(n.latestValues))continue;PO(n.latestValues)&&n.updateSnapshot();let r=$O(),i=n.measurePageBox();pj(r,i),bj(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return FO(this.latestValues)&&bj(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:e.crossfade===void 0?!0:e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mC.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||=t.isProjectionDirty,this.isTransformDirty||=t.isTransformDirty,this.isSharedProjectionDirty||=t.isSharedProjectionDirty;let n=!!this.resumingFrom||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:r,layoutId:i}=this.options;if(!(!this.layout||!(r||i))){if(this.resolvedRelativeTargetAt=mC.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&this.animationProgress!==1?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$O(),this.relativeTargetOrigin=$O(),hA(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),pj(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=$O(),this.targetWithTransforms=$O()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pj(this.target,this.layout.layoutBox),VO(this.target,this.targetDelta)):pj(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&this.animationProgress!==1?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$O(),this.relativeTargetOrigin=$O(),hA(this.relativeTargetOrigin,this.target,e.target),pj(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cC.value&&jj.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||PO(this.parent.latestValues)||IO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===mC.timestamp&&(n=!1),n)return;let{layout:r,layoutId:i}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(r||i))return;pj(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,o=this.treeScale.y;WO(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=$O());let{target:s}=e;if(!s){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mj(this.prevProjectionDelta.x,this.projectionDelta.x),mj(this.prevProjectionDelta.y,this.projectionDelta.y)),dA(this.projectionDelta,this.layoutCorrected,s,this.latestValues),(this.treeScale.x!==a||this.treeScale.y!==o||!Oj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Oj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners(`projectionUpdate`,s)),cC.value&&jj.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ZO(),this.projectionDelta=ZO(),this.projectionDeltaWithTransform=ZO()}setAnimationOrigin(e,t=!1){let n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},a=ZO();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=$O(),s=n?n.source:void 0,c=this.layout?this.layout.source:void 0,l=s!==c,u=this.getStack(),d=!u||u.members.length<=1,f=!!(l&&!d&&this.options.crossfade===!0&&!this.path.some(eM));this.animationProgress=0;let p;this.mixTargetDelta=t=>{let n=t/1e3;Zj(a.x,e.x,n),Zj(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hA(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$j(this.relativeTarget,this.relativeTargetOrigin,o,n),p&&wj(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||=$O(),pj(p,this.relativeTarget)),l&&(this.animationValues=i,sj(i,r,this.latestValues,n,f,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners(`animationStart`),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&=(pC(this.pendingAnimation),void 0),this.pendingAnimation=fC.update(()=>{GA.hasAnimatedSinceResize=!0,yC.layout++,this.motionValue||=PE(0),this.currentAnimation=$A(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{yC.layout--},onComplete:()=>{yC.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners(`animationComplete`)}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Nj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(!(!t||!n||!r)){if(this!==e&&this.layout&&r&&oM(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||$O();let t=cA(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;let r=cA(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}pj(t,n),qO(t,i),dA(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new kj),this.sharedNodes.get(e).add(t);let n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return e?e.lead===this:!0}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){let r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return e?e.relegate(this):!1}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;let r={};n.z&&Fj(`z`,e,r,this.animationValues);for(let t=0;t<Mj.length;t++)Fj(`rotate${Mj[t]}`,e,r,this.animationValues),Fj(`skew${Mj[t]}`,e,r,this.animationValues);for(let t in e.render(),r)e.setStaticValue(t,r[t]),this.animationValues&&(this.animationValues[t]=r[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility=`hidden`;return}let n=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility=``,e.opacity=``,e.pointerEvents=cO(t?.pointerEvents)||``,e.transform=n?n(this.latestValues,``):`none`;return}let r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){this.options.layoutId&&(e.opacity=this.latestValues.opacity===void 0?1:this.latestValues.opacity,e.pointerEvents=cO(t?.pointerEvents)||``),this.hasProjected&&!FO(this.latestValues)&&(e.transform=n?n({},``):`none`,this.hasProjected=!1);return}e.visibility=``;let i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let a=Aj(this.projectionDeltaWithTransform,this.treeScale,i);n&&(a=n(i,a)),e.transform=a;let{x:o,y:s}=this.projectionDelta;for(let t in e.transformOrigin=`${o.origin*100}% ${s.origin*100}% 0`,r.animationValues?e.opacity=r===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?i.opacity===void 0?``:i.opacity:i.opacityExit===void 0?0:i.opacityExit,RD){if(i[t]===void 0)continue;let{correct:n,applyTo:o,isCSSVariable:s}=RD[t],c=a===`none`?i[t]:n(i[t],r);if(o){let t=o.length;for(let n=0;n<t;n++)e[o[n]]=c}else s?this.options.visualElement.renderState.vars[t]=c:e[t]=c}this.options.layoutId&&(e.pointerEvents=r===this?cO(t?.pointerEvents)||``:`none`)}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(Uj),this.root.sharedNodes.clear()}}}function Rj(e){e.updateLayout()}function zj(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners(`didUpdate`)){let{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i===`size`?gA(e=>{let r=a?t.measuredBox[e]:t.layoutBox[e],i=cA(r);r.min=n[e].min,r.max=r.min+i}):oM(i,t.layoutBox,n)&&gA(r=>{let i=a?t.measuredBox[r]:t.layoutBox[r],o=cA(n[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});let o=ZO();dA(o,n,t.layoutBox);let s=ZO();a?dA(s,e.applyTransform(r,!0),t.measuredBox):dA(s,n,t.layoutBox);let c=!Sj(o),l=!1;if(!e.resumeFrom){let r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:i,layout:a}=r;if(i&&a){let o=$O();hA(o,t.layoutBox,i.layoutBox);let s=$O();hA(s,n,a.layoutBox),Ej(o,s)||(l=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners(`didUpdate`,{layout:n,snapshot:t,delta:s,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:l})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Bj(e){cC.value&&jj.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty),e.isTransformDirty||=e.parent.isTransformDirty)}function Vj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Hj(e){e.clearSnapshot()}function Uj(e){e.clearMeasurements()}function Wj(e){e.isLayoutDirty=!1}function Gj(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify(`BeforeLayoutMeasure`),e.resetTransform()}function Kj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function qj(e){e.resolveTargetDelta()}function Jj(e){e.calcProjection()}function Yj(e){e.resetSkewAndRotation()}function Xj(e){e.removeLeadSnapshot()}function Zj(e,t,n){e.translate=uw(t.translate,0,n),e.scale=uw(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Qj(e,t,n,r){e.min=uw(t.min,n.min,r),e.max=uw(t.max,n.max,r)}function $j(e,t,n,r){Qj(e.x,t.x,n.x,r),Qj(e.y,t.y,n.y,r)}function eM(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}var tM={duration:.45,ease:[.4,0,.1,1]},nM=e=>typeof navigator<`u`&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),rM=nM(`applewebkit/`)&&!nM(`chrome/`)?Math.round:jS;function iM(e){e.min=rM(e.min),e.max=rM(e.max)}function aM(e){iM(e.x),iM(e.y)}function oM(e,t,n){return e===`position`||e===`preserve-aspect`&&!lA(Dj(t),Dj(n),.2)}function sM(e){return e!==e.root&&e.scroll?.wasRoot}var cM=Lj({attachResizeListener:(e,t)=>Qk(e,`resize`,t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lM={current:void 0},uM=Lj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!lM.current){let e=new cM({});e.mount(window),e.setOptions({layoutScroll:!0}),lM.current=e}return lM.current},resetTransform:(e,t)=>{e.style.transform=t===void 0?`none`:t},checkIsScrollRoot:e=>window.getComputedStyle(e).position===`fixed`}),dM={pan:{Feature:WA},drag:{Feature:HA,ProjectionNode:uM,MeasureLayout:ZA}};function fM(e,t,n){let{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive(`whileHover`,n===`Start`);let i=`onHover`+n,a=r[i];a&&fC.postRender(()=>a(t,$k(t)))}var pM=class extends Jk{mount(){let{current:e}=this.node;e&&(this.unmount=HE(e,(e,t)=>(fM(this.node,t,`Start`),e=>fM(this.node,e,`End`))))}unmount(){}},mM=class extends Jk{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(`:focus-visible`)}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive(`whileFocus`,!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive(`whileFocus`,!1),this.isActive=!1)}mount(){this.unmount=NS(Qk(this.node.current,`focus`,()=>this.onFocus()),Qk(this.node.current,`blur`,()=>this.onBlur()))}unmount(){}};function hM(e,t,n){let{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive(`whileTap`,n===`Start`);let i=`onTap`+(n===`End`?``:n),a=r[i];a&&fC.postRender(()=>a(t,$k(t)))}var gM=class extends Jk{mount(){let{current:e}=this.node;e&&(this.unmount=QE(e,(e,t)=>(hM(this.node,t,`Start`),(e,{success:t})=>hM(this.node,e,t?`End`:`Cancel`)),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}},_M=new WeakMap,vM=new WeakMap,yM=e=>{let t=_M.get(e.target);t&&t(e)},bM=e=>{e.forEach(yM)};function xM({root:e,...t}){let n=e||document;vM.has(n)||vM.set(n,{});let r=vM.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(bM,{root:e,...t})),r[i]}function SM(e,t,n){let r=xM(t);return _M.set(e,n),r.observe(e),()=>{_M.delete(e),r.unobserve(e)}}var CM={some:0,all:1},wM=class extends Jk{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r=`some`,once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:typeof r==`number`?r:CM[r]};return SM(this.node.current,a,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,i&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive(`whileInView`,t);let{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)})}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>`u`)return;let{props:e,prevProps:t}=this.node;[`amount`,`margin`,`root`].some(TM(e,t))&&this.startObserver()}unmount(){}};function TM({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}var EM={inView:{Feature:wM},tap:{Feature:gM},focus:{Feature:mM},hover:{Feature:pM}},DM={layout:{ProjectionNode:uM,MeasureLayout:ZA}},OM={...Zk,...EM,...dM,...DM},kM=kO(OM,mk),AM=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),jM=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),MM={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},NM=(0,b.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,b.createElement)(`svg`,{ref:c,...MM,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:jM(`lucide`,i),...s},[...o.map(([e,t])=>(0,b.createElement)(e,t)),...Array.isArray(a)?a:[a]])),$=(e,t)=>{let n=(0,b.forwardRef)(({className:n,...r},i)=>(0,b.createElement)(NM,{ref:i,iconNode:t,className:jM(`lucide-${AM(e)}`,n),...r}));return n.displayName=`${e}`,n},PM=$(`Activity`,[[`path`,{d:`M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2`,key:`169zse`}]]),FM=$(`AlignCenter`,[[`path`,{d:`M17 12H7`,key:`16if0g`}],[`path`,{d:`M19 18H5`,key:`18s9l3`}],[`path`,{d:`M21 6H3`,key:`1jwq7v`}]]),IM=$(`AlignLeft`,[[`path`,{d:`M15 12H3`,key:`6jk70r`}],[`path`,{d:`M17 18H3`,key:`1amg6g`}],[`path`,{d:`M21 6H3`,key:`1jwq7v`}]]),LM=$(`AlignRight`,[[`path`,{d:`M21 12H9`,key:`dn1m92`}],[`path`,{d:`M21 18H7`,key:`1ygte8`}],[`path`,{d:`M21 6H3`,key:`1jwq7v`}]]),RM=$(`ArrowDown`,[[`path`,{d:`M12 5v14`,key:`s699le`}],[`path`,{d:`m19 12-7 7-7-7`,key:`1idqje`}]]),zM=$(`ArrowUp`,[[`path`,{d:`m5 12 7-7 7 7`,key:`hav0vg`}],[`path`,{d:`M12 19V5`,key:`x0mq9r`}]]),BM=$(`Ban`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m4.9 4.9 14.2 14.2`,key:`1m5liu`}]]),VM=$(`Calendar`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}]]),HM=$(`ChartColumn`,[[`path`,{d:`M3 3v16a2 2 0 0 0 2 2h16`,key:`c24i48`}],[`path`,{d:`M18 17V9`,key:`2bz60n`}],[`path`,{d:`M13 17V5`,key:`1frdt8`}],[`path`,{d:`M8 17v-3`,key:`17ska0`}]]),UM=$(`ChartPie`,[[`path`,{d:`M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z`,key:`pzmjnu`}],[`path`,{d:`M21.21 15.89A10 10 0 1 1 8 2.83`,key:`k2fpak`}]]),WM=$(`ChevronDown`,[[`path`,{d:`m6 9 6 6 6-6`,key:`qrunsl`}]]),GM=$(`ChevronUp`,[[`path`,{d:`m18 15-6-6-6 6`,key:`153udz`}]]),KM=$(`ChevronsDown`,[[`path`,{d:`m7 6 5 5 5-5`,key:`1lc07p`}],[`path`,{d:`m7 13 5 5 5-5`,key:`1d48rs`}]]),qM=$(`ChevronsUp`,[[`path`,{d:`m17 11-5-5-5 5`,key:`e8nh98`}],[`path`,{d:`m17 18-5-5-5 5`,key:`2avn1x`}]]);$(`CircleAlert`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`line`,{x1:`12`,x2:`12`,y1:`8`,y2:`12`,key:`1pkeuh`}],[`line`,{x1:`12`,x2:`12.01`,y1:`16`,y2:`16`,key:`4dfq90`}]]);var JM=$(`CircleCheckBig`,[[`path`,{d:`M21.801 10A10 10 0 1 1 17 3.335`,key:`yps3ct`}],[`path`,{d:`m9 11 3 3L22 4`,key:`1pflzl`}]]),YM=$(`CircleCheck`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m9 12 2 2 4-4`,key:`dzmm74`}]]),XM=$(`CircleX`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m15 9-6 6`,key:`1uzhvr`}],[`path`,{d:`m9 9 6 6`,key:`z0biqf`}]]),ZM=$(`CloudUpload`,[[`path`,{d:`M12 13v8`,key:`1l5pq0`}],[`path`,{d:`M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242`,key:`1pljnt`}],[`path`,{d:`m8 17 4-4 4 4`,key:`1quai1`}]]),QM=$(`CornerDownRight`,[[`polyline`,{points:`15 10 20 15 15 20`,key:`1q7qjw`}],[`path`,{d:`M4 4v7a4 4 0 0 0 4 4h12`,key:`z08zvw`}]]),$M=$(`Crown`,[[`path`,{d:`M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z`,key:`1vdc57`}],[`path`,{d:`M5 21h14`,key:`11awu3`}]]),eN=$(`Database`,[[`ellipse`,{cx:`12`,cy:`5`,rx:`9`,ry:`3`,key:`msslwz`}],[`path`,{d:`M3 5V19A9 3 0 0 0 21 19V5`,key:`1wlel7`}],[`path`,{d:`M3 12A9 3 0 0 0 21 12`,key:`mv7ke4`}]]),tN=$(`Download`,[[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}],[`polyline`,{points:`7 10 12 15 17 10`,key:`2ggqvy`}],[`line`,{x1:`12`,x2:`12`,y1:`15`,y2:`3`,key:`1vk2je`}]]),nN=$(`EyeOff`,[[`path`,{d:`M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49`,key:`ct8e1f`}],[`path`,{d:`M14.084 14.158a3 3 0 0 1-4.242-4.242`,key:`151rxh`}],[`path`,{d:`M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143`,key:`13bj9a`}],[`path`,{d:`m2 2 20 20`,key:`1ooewy`}]]),rN=$(`Eye`,[[`path`,{d:`M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0`,key:`1nclc0`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),iN=$(`FileImage`,[[`path`,{d:`M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z`,key:`1rqfz7`}],[`path`,{d:`M14 2v4a2 2 0 0 0 2 2h4`,key:`tnqrlb`}],[`circle`,{cx:`10`,cy:`12`,r:`2`,key:`737tya`}],[`path`,{d:`m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22`,key:`wt3hpn`}]]),aN=$(`FolderOpen`,[[`path`,{d:`m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2`,key:`usdka0`}]]),oN=$(`Globe`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20`,key:`13o1zl`}],[`path`,{d:`M2 12h20`,key:`9i4pu4`}]]),sN=$(`Heart`,[[`path`,{d:`M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z`,key:`c3ymky`}]]),cN=$(`Image`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,ry:`2`,key:`1m3agn`}],[`circle`,{cx:`9`,cy:`9`,r:`2`,key:`af1f0g`}],[`path`,{d:`m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21`,key:`1xmnt7`}]]),lN=$(`Info`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 16v-4`,key:`1dtifu`}],[`path`,{d:`M12 8h.01`,key:`e9boi3`}]]),uN=$(`Layers`,[[`path`,{d:`M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z`,key:`zw3jo`}],[`path`,{d:`M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12`,key:`1wduqc`}],[`path`,{d:`M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17`,key:`kqbvx6`}]]),dN=$(`LayoutDashboard`,[[`rect`,{width:`7`,height:`9`,x:`3`,y:`3`,rx:`1`,key:`10lvy0`}],[`rect`,{width:`7`,height:`5`,x:`14`,y:`3`,rx:`1`,key:`16une8`}],[`rect`,{width:`7`,height:`9`,x:`14`,y:`12`,rx:`1`,key:`1hutg5`}],[`rect`,{width:`7`,height:`5`,x:`3`,y:`16`,rx:`1`,key:`ldoo1y`}]]),fN=$(`LockOpen`,[[`rect`,{width:`18`,height:`11`,x:`3`,y:`11`,rx:`2`,ry:`2`,key:`1w4ew1`}],[`path`,{d:`M7 11V7a5 5 0 0 1 9.9-1`,key:`1mm8w8`}]]),pN=$(`Lock`,[[`rect`,{width:`18`,height:`11`,x:`3`,y:`11`,rx:`2`,ry:`2`,key:`1w4ew1`}],[`path`,{d:`M7 11V7a5 5 0 0 1 10 0v4`,key:`fwvmzm`}]]),mN=$(`LogOut`,[[`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`,key:`1uf3rs`}],[`polyline`,{points:`16 17 21 12 16 7`,key:`1gabdz`}],[`line`,{x1:`21`,x2:`9`,y1:`12`,y2:`12`,key:`1uyos4`}]]),hN=$(`Mail`,[[`rect`,{width:`20`,height:`16`,x:`2`,y:`4`,rx:`2`,key:`18n3k1`}],[`path`,{d:`m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7`,key:`1ocrg3`}]]),gN=$(`Maximize2`,[[`polyline`,{points:`15 3 21 3 21 9`,key:`mznyad`}],[`polyline`,{points:`9 21 3 21 3 15`,key:`1avn1i`}],[`line`,{x1:`21`,x2:`14`,y1:`3`,y2:`10`,key:`ota7mn`}],[`line`,{x1:`3`,x2:`10`,y1:`21`,y2:`14`,key:`1atl0r`}]]),_N=$(`Menu`,[[`line`,{x1:`4`,x2:`20`,y1:`12`,y2:`12`,key:`1e0a9i`}],[`line`,{x1:`4`,x2:`20`,y1:`6`,y2:`6`,key:`1owob3`}],[`line`,{x1:`4`,x2:`20`,y1:`18`,y2:`18`,key:`yk5zj1`}]]),vN=$(`Minus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}]]),yN=$(`Package`,[[`path`,{d:`M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z`,key:`1a0edw`}],[`path`,{d:`M12 22V12`,key:`d0xqtd`}],[`polyline`,{points:`3.29 7 12 12 20.71 7`,key:`ousv84`}],[`path`,{d:`m7.5 4.27 9 5.15`,key:`1c824w`}]]),bN=$(`Palette`,[[`circle`,{cx:`13.5`,cy:`6.5`,r:`.5`,fill:`currentColor`,key:`1okk4w`}],[`circle`,{cx:`17.5`,cy:`10.5`,r:`.5`,fill:`currentColor`,key:`f64h9f`}],[`circle`,{cx:`8.5`,cy:`7.5`,r:`.5`,fill:`currentColor`,key:`fotxhn`}],[`circle`,{cx:`6.5`,cy:`12.5`,r:`.5`,fill:`currentColor`,key:`qy21gx`}],[`path`,{d:`M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z`,key:`12rzf8`}]]),xN=$(`Phone`,[[`path`,{d:`M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z`,key:`foiqr5`}]]),SN=$(`Pipette`,[[`path`,{d:`m2 22 1-1h3l9-9`,key:`1sre89`}],[`path`,{d:`M3 21v-3l9-9`,key:`hpe2y6`}],[`path`,{d:`m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z`,key:`196du1`}]]),CN=$(`Plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),wN=$(`RefreshCw`,[[`path`,{d:`M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8`,key:`v9h5vc`}],[`path`,{d:`M21 3v5h-5`,key:`1q7to0`}],[`path`,{d:`M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16`,key:`3uifl3`}],[`path`,{d:`M8 16H3v5`,key:`1cv678`}]]),TN=$(`Save`,[[`path`,{d:`M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z`,key:`1c8476`}],[`path`,{d:`M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7`,key:`1ydtos`}],[`path`,{d:`M7 3v4a1 1 0 0 0 1 1h7`,key:`t51u73`}]]),EN=$(`Search`,[[`circle`,{cx:`11`,cy:`11`,r:`8`,key:`4ej97u`}],[`path`,{d:`m21 21-4.3-4.3`,key:`1qie3q`}]]),DN=$(`Settings2`,[[`path`,{d:`M20 7h-9`,key:`3s1dr2`}],[`path`,{d:`M14 17H5`,key:`gfn3mx`}],[`circle`,{cx:`17`,cy:`17`,r:`3`,key:`18b49y`}],[`circle`,{cx:`7`,cy:`7`,r:`3`,key:`dfmy0x`}]]),ON=$(`Settings`,[[`path`,{d:`M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z`,key:`1qme2f`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),kN=$(`Shapes`,[[`path`,{d:`M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z`,key:`1bo67w`}],[`rect`,{x:`3`,y:`14`,width:`7`,height:`7`,rx:`1`,key:`1bkyp8`}],[`circle`,{cx:`17.5`,cy:`17.5`,r:`3.5`,key:`w3z12y`}]]),AN=$(`Shield`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}]]),jN=$(`SquarePen`,[[`path`,{d:`M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7`,key:`1m0v6g`}],[`path`,{d:`M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z`,key:`ohrbg2`}]]),MN=$(`Square`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,key:`afitv7`}]]),NN=$(`Trash2`,[[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6`,key:`4alrt4`}],[`path`,{d:`M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2`,key:`v07s0e`}],[`line`,{x1:`10`,x2:`10`,y1:`11`,y2:`17`,key:`1uufr5`}],[`line`,{x1:`14`,x2:`14`,y1:`11`,y2:`17`,key:`xtxkd`}]]),PN=$(`TrendingUp`,[[`polyline`,{points:`22 7 13.5 15.5 8.5 10.5 2 17`,key:`126l90`}],[`polyline`,{points:`16 7 22 7 22 13`,key:`kwv8wd`}]]),FN=$(`TriangleAlert`,[[`path`,{d:`m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3`,key:`wmoenq`}],[`path`,{d:`M12 9v4`,key:`juzpu7`}],[`path`,{d:`M12 17h.01`,key:`p32p05`}]]),IN=$(`Type`,[[`polyline`,{points:`4 7 4 4 20 4 20 7`,key:`1nosan`}],[`line`,{x1:`9`,x2:`15`,y1:`20`,y2:`20`,key:`swin9y`}],[`line`,{x1:`12`,x2:`12`,y1:`4`,y2:`20`,key:`1tx1rr`}]]),LN=$(`Upload`,[[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}],[`polyline`,{points:`17 8 12 3 7 8`,key:`t8dd8p`}],[`line`,{x1:`12`,x2:`12`,y1:`3`,y2:`15`,key:`widbto`}]]),RN=$(`User`,[[`path`,{d:`M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2`,key:`975kel`}],[`circle`,{cx:`12`,cy:`7`,r:`4`,key:`17ys0d`}]]),zN=$(`Users`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}],[`path`,{d:`M22 21v-2a4 4 0 0 0-3-3.87`,key:`kshegd`}],[`path`,{d:`M16 3.13a4 4 0 0 1 0 7.75`,key:`1da9ce`}]]),BN=$(`X`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]),VN={success:YM,error:XM,warning:FN,info:lN},HN={success:{bg:`linear-gradient(135deg, #10b981 0%, #059669 100%)`,iconBg:`rgba(255, 255, 255, 0.2)`},error:{bg:`linear-gradient(135deg, #ef4444 0%, #dc2626 100%)`,iconBg:`rgba(255, 255, 255, 0.2)`},warning:{bg:`linear-gradient(135deg, #f59e0b 0%, #d97706 100%)`,iconBg:`rgba(255, 255, 255, 0.2)`},info:{bg:`linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)`,iconBg:`rgba(255, 255, 255, 0.2)`}};function UN({toast:e,onClose:t}){let n=VN[e.type]||lN,r=HN[e.type]||HN.info;return(0,b.useEffect)(()=>{if(!e.persistent){let n=setTimeout(()=>{t(e.id)},e.duration||4e3);return()=>clearTimeout(n)}},[e,t]),(0,Z.jsxs)(kM.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.3,ease:`easeOut`},style:{position:`relative`,background:r.bg,borderRadius:`16px`,padding:`16px 20px`,boxShadow:`0 20px 40px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1) inset`,maxWidth:`420px`,width:`100%`,display:`flex`,alignItems:`flex-start`,gap:`14px`,backdropFilter:`blur(10px)`},children:[(0,Z.jsx)(`div`,{style:{flexShrink:0,width:`40px`,height:`40px`,borderRadius:`12px`,background:r.iconBg,display:`flex`,alignItems:`center`,justifyContent:`center`},children:(0,Z.jsx)(n,{size:24,color:`white`,strokeWidth:2.5})}),(0,Z.jsxs)(`div`,{style:{flex:1,paddingTop:`2px`},children:[e.title&&(0,Z.jsx)(`div`,{style:{fontSize:`15px`,fontWeight:700,color:`white`,marginBottom:`4px`,lineHeight:1.3},children:e.title}),(0,Z.jsx)(`div`,{style:{fontSize:`14px`,fontWeight:500,color:`rgba(255, 255, 255, 0.95)`,lineHeight:1.4},children:e.message}),e.action&&(0,Z.jsx)(`button`,{onClick:()=>{e.action.onClick(),t(e.id)},style:{marginTop:`12px`,padding:`8px 16px`,borderRadius:`8px`,border:`none`,background:`rgba(255, 255, 255, 0.25)`,color:`white`,fontSize:`13px`,fontWeight:600,cursor:`pointer`,transition:`all 0.2s ease`},onMouseEnter:e=>{e.currentTarget.style.background=`rgba(255, 255, 255, 0.35)`,e.currentTarget.style.transform=`scale(1.05)`},onMouseLeave:e=>{e.currentTarget.style.background=`rgba(255, 255, 255, 0.25)`,e.currentTarget.style.transform=`scale(1)`},children:e.action.label})]}),(0,Z.jsx)(`button`,{onClick:()=>t(e.id),style:{flexShrink:0,width:`28px`,height:`28px`,borderRadius:`8px`,border:`none`,background:`rgba(255, 255, 255, 0.15)`,color:`white`,cursor:`pointer`,display:`flex`,alignItems:`center`,justifyContent:`center`,transition:`all 0.2s ease`},onMouseEnter:e=>{e.currentTarget.style.background=`rgba(255, 255, 255, 0.25)`},onMouseLeave:e=>{e.currentTarget.style.background=`rgba(255, 255, 255, 0.15)`},children:(0,Z.jsx)(BN,{size:16,strokeWidth:2.5})})]})}function WN({toasts:e,onClose:t}){return(0,Z.jsx)(`div`,{style:{position:`fixed`,bottom:`24px`,right:`24px`,zIndex:1e4,display:`flex`,flexDirection:`column`,gap:`12px`,pointerEvents:`none`},children:(0,Z.jsx)(hD,{mode:`popLayout`,children:e.map(e=>(0,Z.jsx)(`div`,{style:{pointerEvents:`auto`},children:(0,Z.jsx)(UN,{toast:e,onClose:t})},e.id))})})}var GN=(0,b.createContext)(null),KN=0;function qN({children:e}){let[t,n]=(0,b.useState)([]),r=(0,b.useRef)(new Map),i=(0,b.useCallback)(e=>{let t=r.current.get(e);t&&(clearTimeout(t),r.current.delete(e)),n(t=>t.filter(t=>t.id!==e))},[]),a=(0,b.useCallback)(({type:e=`info`,title:t,message:a,duration:o=4e3,action:s,persistent:c=!1})=>{let l=++KN,u={id:l,type:e,title:t,message:a,duration:o,action:s,persistent:c};if(n(e=>[...e,u]),!c&&o>0){let e=setTimeout(()=>{i(l)},o);r.current.set(l,e)}return l},[i]),o=(0,b.useCallback)((e,t={})=>a({type:`success`,message:e,...t}),[a]),s=(0,b.useCallback)((e,t={})=>a({type:`error`,message:e,duration:6e3,...t}),[a]),c=(0,b.useCallback)((e,t={})=>a({type:`warning`,message:e,duration:5e3,...t}),[a]),l=(0,b.useCallback)((e,t={})=>a({type:`info`,message:e,...t}),[a]),u=(0,b.useCallback)(()=>{r.current.forEach(e=>clearTimeout(e)),r.current.clear(),n([])},[]);return(0,Z.jsxs)(GN.Provider,{value:{showToast:a,success:o,error:s,warning:c,info:l,removeToast:i,clearAll:u},children:[e,(0,Z.jsx)(WN,{toasts:t,onClose:i})]})}function JN(){let e=(0,b.useContext)(GN);if(!e)throw Error(`useToast must be used within ToastProvider`);return e}function YN({children:e}){let{isAuthenticated:t,loading:n}=_S(),r=Le();return n?(0,Z.jsxs)(`div`,{style:{minHeight:`60vh`,display:`flex`,alignItems:`center`,justifyContent:`center`,flexDirection:`column`,gap:`1rem`},children:[(0,Z.jsx)(`div`,{style:{width:`48px`,height:`48px`,border:`4px solid #f3f4f6`,borderTopColor:`#e0b7a9`,borderRadius:`50%`,animation:`spin 1s linear infinite`}}),(0,Z.jsx)(`p`,{style:{color:`#666`,fontSize:`0.95rem`},children:`Checking authentication...`}),(0,Z.jsx)(`style`,{children:`
          @keyframes spin {
            to { transform: rotate(360deg); }
          }
        `})]}):t?e:(0,Z.jsx)(dt,{to:`/login`,state:{from:r},replace:!0})}function XN({children:e}){let{user:t,loading:n}=_S();return n?(0,Z.jsx)(ZN,{}):t?(t.role===`admin`||console.warn(` Not admin, but allowing access for testing`),e):(0,Z.jsx)(dt,{to:`/login`,replace:!0})}function ZN(){return(0,Z.jsx)(`div`,{className:`min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-blue-50`,children:(0,Z.jsxs)(`div`,{className:`text-center`,children:[(0,Z.jsx)(`div`,{className:`inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600 mb-4`}),(0,Z.jsx)(`p`,{className:`text-gray-600`,children:`Loading...`})]})})}var QN=`/fremio/assets/logo-salem-THHC66ty.png`,$N=`/fremio/assets/burger-bar-Dskea4ro.png`,eP=`/fremio/assets/page-home-CgIVjQlz.png`,tP=`/fremio/assets/page-about-BHZmLetY.png`,nP=`/fremio/assets/page-frames-1hBET6k9.png`,rP=`/fremio/assets/page-create-Cm4OQgm8.png`,iP=`/fremio/assets/page-profile-KmIRh7wr.png`,aP=`/fremio/assets/page-settings-DO3sENP8.png`,oP=`/fremio/assets/logout-D_SkAiuc.png`;function sP(){let[e,t]=(0,b.useState)(!1),[n,r]=(0,b.useState)(!1),[i,a]=(0,b.useState)(!1),o=(0,b.useRef)(null),s=(0,b.useRef)(null),c=Be(),{pathname:l,hash:u}=Le(),{isAuthenticated:d,user:f,logout:p}=_S(),m=(()=>{if(!f)return null;if(f.uid){let e=localStorage.getItem(`profilePhoto_${f.uid}`);if(e)return e}if(f.email){let e=localStorage.getItem(`profilePhoto_${f.email}`);if(e)return f.uid&&(localStorage.setItem(`profilePhoto_${f.uid}`,e),console.log(` Migrated profile photo from email to UID`)),e}return null})(),h=()=>{if(!f)return`U`;let e=f.firstName?.charAt(0)||``,t=f.lastName?.charAt(0)||``;return(e+t).toUpperCase()||f.name?.charAt(0)?.toUpperCase()||`U`},g=l===`/`&&(u===``||u===`#home`),_=l===`/`&&u===`#about`;(0,b.useEffect)(()=>{t(!1),a(!1),r(!1)},[l,u]),(0,b.useEffect)(()=>{function e(e){o.current&&(o.current.contains(e.target)||(t(!1),a(!1)))}return document.addEventListener(`click`,e),()=>document.removeEventListener(`click`,e)},[]),(0,b.useEffect)(()=>{let e=o.current,t=()=>{e&&e.classList.toggle(`elev`,window.scrollY>6)};return t(),window.addEventListener(`scroll`,t,{passive:!1}),()=>window.removeEventListener(`scroll`,t)},[]);let v=()=>{p(),a(!1),c(`/`)};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(`header`,{ref:o,className:`site-header ${e?`open`:``}`,children:(0,Z.jsxs)(`div`,{className:`container header-bar`,children:[(0,Z.jsx)(tn,{to:`/`,className:`logo`,style:{textDecoration:`none`,cursor:`pointer`},children:(0,Z.jsx)(`img`,{src:QN,alt:`Fremio Logo`,className:`logo-image`})}),(0,Z.jsxs)(`nav`,{className:`main-nav`,children:[(0,Z.jsxs)(tn,{to:`/#home`,className:`nav-link`+(g?` active`:``),children:[(0,Z.jsx)(`img`,{src:eP,alt:``,className:`nav-icon`}),(0,Z.jsx)(`span`,{children:`Home`})]}),(0,Z.jsxs)(tn,{to:`/#about`,className:`nav-link`+(_?` active`:``),children:[(0,Z.jsx)(`img`,{src:tP,alt:``,className:`nav-icon`}),(0,Z.jsx)(`span`,{children:`About`})]}),(0,Z.jsxs)(nn,{to:`/frames`,className:({isActive:e})=>`nav-link`+(e?` active`:``),children:[(0,Z.jsx)(`img`,{src:nP,alt:``,className:`nav-icon`}),(0,Z.jsx)(`span`,{children:`Frames`})]}),(0,Z.jsxs)(nn,{to:`/create`,className:({isActive:e})=>`nav-link`+(e?` active`:``),children:[(0,Z.jsx)(`img`,{src:rP,alt:``,className:`nav-icon`}),(0,Z.jsx)(`span`,{children:`Create`})]})]}),(0,Z.jsx)(`div`,{className:`header-actions`,children:d?(0,Z.jsxs)(`div`,{style:{position:`relative`},ref:s,children:[(0,Z.jsxs)(`button`,{onClick:e=>{e.stopPropagation(),a(e=>!e)},className:`btn-login`,style:{background:`transparent`,border:`none`,cursor:`pointer`,display:`flex`,alignItems:`center`,gap:`10px`,padding:`6px 16px 6px 6px`,borderRadius:`999px`,transition:`all 0.2s`},onMouseEnter:e=>{e.currentTarget.style.background=`rgba(224, 183, 169, 0.1)`},onMouseLeave:e=>{e.currentTarget.style.background=`transparent`},children:[(0,Z.jsx)(`div`,{style:{width:`36px`,height:`36px`,borderRadius:`50%`,background:m?`url(${m})`:`#E0B7A9`,backgroundSize:`cover`,backgroundPosition:`center`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:`white`,fontWeight:600,fontSize:`14px`,flexShrink:0},children:!m&&(0,Z.jsx)(`span`,{children:h()})}),(0,Z.jsx)(`span`,{style:{fontWeight:600,fontSize:`15px`},children:f?.displayName||f?.firstName||f?.name||f?.email?.split(`@`)[0]||`Profile`})]}),i&&(0,Z.jsxs)(`div`,{style:{position:`absolute`,top:`calc(100% + 8px)`,right:0,background:`white`,borderRadius:`12px`,boxShadow:`0 10px 40px rgba(0,0,0,0.1), 0 2px 8px rgba(0,0,0,0.06)`,minWidth:`200px`,padding:`8px`,zIndex:1e3,border:`1px solid rgba(224, 183, 169, 0.2)`},children:[(0,Z.jsxs)(tn,{to:`/profile`,onClick:()=>a(!1),style:{display:`flex`,alignItems:`center`,gap:`12px`,padding:`12px 16px`,borderRadius:`8px`,textDecoration:`none`,color:`#333`,transition:`all 0.2s`,fontSize:`14px`,fontWeight:500},onMouseEnter:e=>{e.currentTarget.style.background=`rgba(224, 183, 169, 0.1)`},onMouseLeave:e=>{e.currentTarget.style.background=`transparent`},children:[(0,Z.jsx)(`img`,{src:`/fremio/assets/page-profile-KmIRh7wr.png`,alt:``,style:{width:`18px`,height:`18px`}}),(0,Z.jsx)(`span`,{children:`Profile`})]}),(0,Z.jsxs)(tn,{to:`/settings`,onClick:()=>a(!1),style:{display:`flex`,alignItems:`center`,gap:`12px`,padding:`12px 16px`,borderRadius:`8px`,textDecoration:`none`,color:`#333`,transition:`all 0.2s`,fontSize:`14px`,fontWeight:500},onMouseEnter:e=>{e.currentTarget.style.background=`rgba(224, 183, 169, 0.1)`},onMouseLeave:e=>{e.currentTarget.style.background=`transparent`},children:[(0,Z.jsx)(`img`,{src:`/fremio/assets/page-settings-DO3sENP8.png`,alt:``,style:{width:`18px`,height:`18px`}}),(0,Z.jsx)(`span`,{children:`Settings`})]}),(0,Z.jsx)(`div`,{style:{height:`1px`,background:`rgba(224, 183, 169, 0.2)`,margin:`8px 0`}}),(0,Z.jsxs)(`button`,{onClick:v,style:{display:`flex`,alignItems:`center`,gap:`12px`,padding:`12px 16px`,borderRadius:`8px`,border:`none`,background:`transparent`,color:`#dc2626`,transition:`all 0.2s`,fontSize:`14px`,fontWeight:500,cursor:`pointer`,width:`100%`,textAlign:`left`},onMouseEnter:e=>{e.currentTarget.style.background=`rgba(220, 38, 38, 0.1)`},onMouseLeave:e=>{e.currentTarget.style.background=`transparent`},children:[(0,Z.jsx)(`img`,{src:`/fremio/assets/logout-D_SkAiuc.png`,alt:``,style:{width:`18px`,height:`18px`}}),(0,Z.jsx)(`span`,{children:`Logout`})]})]})]}):(0,Z.jsx)(nn,{to:`/login`,className:`btn-login`,children:`Login/Register`})}),(0,Z.jsx)(`button`,{type:`button`,className:`menu-toggle`,"aria-label":n?`Close navigation`:`Open navigation`,"aria-expanded":n,onClick:()=>r(e=>!e),children:(0,Z.jsx)(`img`,{src:$N,alt:`Menu`,className:`menu-toggle-icon`,draggable:!1})})]})}),(0,Z.jsx)(`div`,{className:`mobile-menu-overlay ${n?`open`:``}`,onClick:()=>r(!1)}),(0,Z.jsxs)(`div`,{className:`mobile-menu ${n?`open`:``}`,children:[(0,Z.jsx)(`div`,{style:{padding:`24px`,borderBottom:`1px solid rgba(224, 183, 169, 0.2)`},children:(0,Z.jsx)(`img`,{src:QN,alt:`Fremio Logo`,style:{height:`32px`}})}),(0,Z.jsxs)(`nav`,{className:`mobile-nav`,children:[(0,Z.jsxs)(tn,{to:`/#home`,className:`nav-link`+(g?` active`:``),children:[(0,Z.jsx)(`img`,{src:eP,alt:``,className:`nav-icon`}),(0,Z.jsx)(`span`,{children:`Home`})]}),(0,Z.jsxs)(tn,{to:`/#about`,className:`nav-link`+(_?` active`:``),children:[(0,Z.jsx)(`img`,{src:tP,alt:``,className:`nav-icon`}),(0,Z.jsx)(`span`,{children:`About`})]}),(0,Z.jsxs)(nn,{to:`/frames`,className:({isActive:e})=>`nav-link`+(e?` active`:``),children:[(0,Z.jsx)(`img`,{src:nP,alt:``,className:`nav-icon`}),(0,Z.jsx)(`span`,{children:`Frames`})]}),(0,Z.jsxs)(nn,{to:`/create`,className:({isActive:e})=>`nav-link`+(e?` active`:``),children:[(0,Z.jsx)(`img`,{src:rP,alt:``,className:`nav-icon`}),(0,Z.jsx)(`span`,{children:`Create`})]})]}),d?(0,Z.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`4px`,padding:`0 24px`,width:`100%`},children:[(0,Z.jsxs)(nn,{to:`/profile`,onClick:()=>r(!1),className:({isActive:e})=>`nav-link`+(e?` active`:``),style:{width:`100%`},children:[(0,Z.jsx)(`img`,{src:iP,alt:``,style:{width:`22px`,height:`22px`}}),(0,Z.jsx)(`span`,{children:`Profile`})]}),(0,Z.jsxs)(nn,{to:`/settings`,onClick:()=>r(!1),className:({isActive:e})=>`nav-link`+(e?` active`:``),style:{width:`100%`},children:[(0,Z.jsx)(`img`,{src:aP,alt:``,style:{width:`22px`,height:`22px`}}),(0,Z.jsx)(`span`,{children:`Settings`})]}),(0,Z.jsx)(`div`,{style:{height:`1px`,background:`rgba(224, 183, 169, 0.2)`,margin:`8px 0`}}),(0,Z.jsxs)(`button`,{onClick:()=>{r(!1),v()},style:{display:`flex`,alignItems:`center`,gap:`12px`,padding:`12px 16px`,borderRadius:`8px`,border:`none`,background:`transparent`,color:`#dc2626`,fontSize:`14px`,fontWeight:500,cursor:`pointer`,width:`100%`,textAlign:`left`},children:[(0,Z.jsx)(`img`,{src:oP,alt:``,style:{width:`22px`,height:`22px`}}),(0,Z.jsx)(`span`,{children:`Logout`})]})]}):(0,Z.jsx)(nn,{to:`/login`,className:`btn-login mobile`,children:`Login/Register`})]})]})}var cP=s((exports=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.consumer`),r=Symbol.for(`react.context`);Symbol.iterator;var i={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a=Object.assign,o={};function s(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||i}s.prototype.isReactComponent={},s.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function c(){}c.prototype=s.prototype;function l(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||i}var u=l.prototype=new c;u.constructor=l,a(u,s.prototype),u.isPureReactComponent=!0,Array.isArray;var d=Object.prototype.hasOwnProperty;function f(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}exports.createContext=function(e){return e={$$typeof:r,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:n,_context:e},e},exports.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)d.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return f(e,a,i)}})),lP=u(s(((exports,t)=>{t.exports=cP()}))(),1),uP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dP=lP.createContext&&lP.createContext(uP),fP=[`attr`,`size`,`title`];function pP(e,t){if(e==null)return{};var n=mP(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mP(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function hP(){return hP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hP.apply(this,arguments)}function gP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _P(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?gP(Object(n),!0).forEach(function(t){vP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vP(e,t,n){return t=yP(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yP(e){var t=bP(e,`string`);return typeof t==`symbol`?t:t+``}function bP(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function xP(e){return e&&e.map((e,t)=>lP.createElement(e.tag,_P({key:t},e.attr),xP(e.child)))}function SP(e){return t=>lP.createElement(CP,hP({attr:_P({},e.attr)},t),xP(e.child))}function CP(e){var t=t=>{var{attr:n,size:r,title:i}=e,a=pP(e,fP),o=r||t.size||`1em`,s;return t.className&&(s=t.className),e.className&&(s=(s?s+` `:``)+e.className),lP.createElement(`svg`,hP({stroke:`currentColor`,fill:`currentColor`,strokeWidth:`0`},t.attr,n,a,{className:s,style:_P(_P({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:`http://www.w3.org/2000/svg`}),i&&lP.createElement(`title`,null,i),e.children)};return dP===void 0?t(uP):lP.createElement(dP.Consumer,null,e=>t(e))}function wP(e){return SP({tag:`svg`,attr:{viewBox:`0 0 448 512`},child:[{tag:`path`,attr:{d:`M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z`},child:[]}]})(e)}function TP(e){return SP({tag:`svg`,attr:{viewBox:`0 0 448 512`},child:[{tag:`path`,attr:{d:`M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z`},child:[]}]})(e)}function EP(e){return SP({tag:`svg`,attr:{viewBox:`0 0 512 512`},child:[{tag:`path`,attr:{d:`M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z`},child:[]}]})(e)}function DP(e){return SP({tag:`svg`,attr:{viewBox:`0 0 576 512`},child:[{tag:`path`,attr:{d:`M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z`},child:[]}]})(e)}function OP(){return(0,Z.jsx)(`footer`,{className:`app-footer footer-light`,children:(0,Z.jsxs)(`div`,{className:`container footer-grid`,children:[(0,Z.jsxs)(`div`,{className:`footer-brand`,children:[(0,Z.jsx)(`div`,{className:`footer-logo`,children:`fremio`}),(0,Z.jsx)(`p`,{className:`footer-tagline`,children:`Think Outside The Box!`}),(0,Z.jsxs)(`ul`,{className:`contact`,children:[(0,Z.jsxs)(`li`,{children:[(0,Z.jsx)(`span`,{className:`ico`,children:(0,Z.jsx)(`svg`,{viewBox:`0 0 24 24`,"aria-hidden":`true`,children:(0,Z.jsx)(`path`,{d:`M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7zm0 9.5A2.5 2.5 0 1 1 12 6a2.5 2.5 0 0 1 0 5.5z`})})}),(0,Z.jsxs)(`span`,{children:[`Jalan Asep Berlian Gang Bunga 2 no.1,`,(0,Z.jsx)(`br`,{}),`Cicadas, kota Bandung`]})]}),(0,Z.jsxs)(`li`,{children:[(0,Z.jsx)(`span`,{className:`ico`,children:(0,Z.jsx)(`svg`,{viewBox:`0 0 24 24`,"aria-hidden":`true`,children:(0,Z.jsx)(`path`,{d:`M6.6 10.8a15.1 15.1 0 0 0 6.6 6.6l2.2-2.2a1.5 1.5 0 0 1 1.6-.36c1.7.57 3.6.88 5 .26.33-.14.7-.02.94.22l1.9 1.9c.44.44.57 1.12.3 1.7-1.06 2.25-3.62 3.58-6.2 3.58C11.2 23.2.8 12.8.8 5.4c0-2.57 1.33-5.14 3.58-6.2.57-.27 1.25-.14 1.7.3l1.9 1.9c.24.24.36.61.22.94-.62 1.4-.31 3.3.26 5a1.5 1.5 0 0 1-.36 1.6L6.6 10.8z`})})}),(0,Z.jsx)(`a`,{href:`tel:+6285387569977`,children:`+62 853 8756 9977`})]}),(0,Z.jsxs)(`li`,{children:[(0,Z.jsx)(`span`,{className:`ico`,children:(0,Z.jsx)(`svg`,{viewBox:`0 0 24 24`,"aria-hidden":`true`,children:(0,Z.jsx)(`path`,{d:`M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 4-8 5L4 8V6l8 5 8-5v2z`})})}),(0,Z.jsx)(`a`,{href:`mailto:fremioid@gmail.com`,children:`fremioid@gmail.com`})]})]})]}),(0,Z.jsxs)(`div`,{className:`footer-col`,children:[(0,Z.jsx)(`h4`,{children:`Support`}),(0,Z.jsxs)(`ul`,{className:`links`,children:[(0,Z.jsx)(`li`,{children:(0,Z.jsx)(`a`,{href:`#`,children:`Help Center`})}),(0,Z.jsx)(`li`,{children:(0,Z.jsx)(`a`,{href:`#`,children:`Call Center`})}),(0,Z.jsx)(`li`,{children:(0,Z.jsx)(`a`,{href:`#`,children:`Order Status`})})]})]}),(0,Z.jsxs)(`div`,{className:`footer-col`,children:[(0,Z.jsx)(`h4`,{children:`Company`}),(0,Z.jsxs)(`ul`,{className:`links`,children:[(0,Z.jsx)(`li`,{children:(0,Z.jsx)(`a`,{href:`#`,children:`About Us`})}),(0,Z.jsx)(`li`,{children:(0,Z.jsx)(`a`,{href:`#`,children:`Investor`})}),(0,Z.jsx)(`li`,{children:(0,Z.jsx)(`a`,{href:`#`,children:`Affiliates`})})]})]}),(0,Z.jsxs)(`div`,{className:`footer-col`,children:[(0,Z.jsx)(`h4`,{children:`Follow Us`}),(0,Z.jsxs)(`div`,{className:`socials`,children:[(0,Z.jsx)(`a`,{className:`social-btn yt`,href:`https://youtube.com/@fremio`,"aria-label":`YouTube`,target:`_blank`,rel:`noopener noreferrer`,children:(0,Z.jsx)(DP,{size:20})}),(0,Z.jsx)(`a`,{className:`social-btn ig`,href:`https://instagram.com/fremio.id`,"aria-label":`Instagram`,target:`_blank`,rel:`noopener noreferrer`,children:(0,Z.jsx)(wP,{size:20})}),(0,Z.jsx)(`a`,{className:`social-btn tt`,href:`https://www.tiktok.com/@fremio`,"aria-label":`TikTok`,target:`_blank`,rel:`noopener noreferrer`,children:(0,Z.jsx)(TP,{size:20})}),(0,Z.jsx)(`a`,{className:`social-btn x`,href:`https://x.com/fremio`,"aria-label":`X (Twitter)`,target:`_blank`,rel:`noopener noreferrer`,children:(0,Z.jsx)(EP,{size:20})})]})]})]})})}function kP(){let{hash:e,pathname:t}=Le();return(0,b.useEffect)(()=>{if(e){let t=e.replace(`#`,``),n=document.getElementById(t);n&&n.scrollIntoView({behavior:`smooth`,block:`start`})}else window.scrollTo({top:0,behavior:`smooth`})},[e,t]),(0,Z.jsxs)(`div`,{className:`app-shell`,children:[(0,Z.jsx)(sP,{}),(0,Z.jsx)(`main`,{className:`app-main`,children:(0,Z.jsx)(ft,{})}),(0,Z.jsx)(OP,{})]})}function AP(){let{user:e,logout:t}=_S(),n=Be(),r=Le(),[i,a]=(0,b.useState)(!1),o=()=>{t(),n(`/login`)},s=[{path:`/admin/dashboard`,icon:dN,label:`Dashboard`},{path:`/admin/frames`,icon:iN,label:`Manage Frames`},{path:`/admin/upload-frame`,icon:LN,label:`Upload Frame`},{path:`/admin/users`,icon:zN,label:`Users`},{path:`/admin/categories`,icon:aN,label:`Categories`},{path:`/admin/analytics`,icon:HM,label:`Analytics`},{path:`/admin/settings`,icon:ON,label:`Settings`}],c=e=>r.pathname===e;return(0,Z.jsxs)(`div`,{style:{display:`flex`,minHeight:`100vh`,backgroundColor:`#f9fafb`},children:[(0,Z.jsxs)(`aside`,{style:{position:`fixed`,left:i?0:`-256px`,top:0,bottom:0,width:`256px`,backgroundColor:`white`,borderRight:`1px solid #e5e7eb`,boxShadow:`0 1px 3px rgba(0,0,0,0.1)`,transition:`left 0.3s ease`,zIndex:50,display:`flex`,flexDirection:`column`},className:`lg:left-0 lg:static`,children:[(0,Z.jsxs)(`div`,{style:{padding:`20px 16px`,borderBottom:`1px solid #e5e7eb`,display:`flex`,alignItems:`center`,justifyContent:`space-between`},children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`},children:[(0,Z.jsx)(`div`,{style:{width:`36px`,height:`36px`,background:`linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%)`,borderRadius:`8px`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:`white`,fontWeight:`bold`,fontSize:`18px`},children:`F`}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`div`,{style:{fontWeight:`bold`,fontSize:`16px`,color:`#111827`},children:`Fremio`}),(0,Z.jsx)(`div`,{style:{fontSize:`12px`,color:`#6b7280`},children:`Admin Panel`})]})]}),(0,Z.jsx)(`button`,{onClick:()=>a(!1),style:{padding:`6px`,border:`none`,background:`transparent`,cursor:`pointer`,borderRadius:`6px`,display:`none`},className:`lg:hidden block`,children:(0,Z.jsx)(BN,{size:20,color:`#6b7280`})})]}),(0,Z.jsx)(`nav`,{style:{flex:1,padding:`16px 12px`,overflowY:`auto`},children:s.map(e=>(0,Z.jsxs)(tn,{to:e.path,onClick:()=>a(!1),style:{display:`flex`,alignItems:`center`,gap:`12px`,padding:`10px 12px`,marginBottom:`4px`,borderRadius:`8px`,textDecoration:`none`,fontSize:`14px`,fontWeight:`500`,transition:`all 0.2s`,background:c(e.path)?`linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%)`:`transparent`,color:c(e.path)?`white`:`#374151`,boxShadow:c(e.path)?`0 2px 4px rgba(0,0,0,0.1)`:`none`},onMouseEnter:t=>{c(e.path)||(t.currentTarget.style.backgroundColor=`#f3f4f6`)},onMouseLeave:t=>{c(e.path)||(t.currentTarget.style.backgroundColor=`transparent`)},children:[(0,Z.jsx)(e.icon,{size:18}),(0,Z.jsx)(`span`,{children:e.label})]},e.path))}),(0,Z.jsxs)(`div`,{style:{padding:`12px`,borderTop:`1px solid #e5e7eb`,backgroundColor:`#f9fafb`},children:[(0,Z.jsxs)(`div`,{style:{padding:`12px`,backgroundColor:`white`,borderRadius:`8px`,border:`1px solid #e5e7eb`,marginBottom:`8px`},children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`8px`,marginBottom:`6px`},children:[(0,Z.jsx)(AN,{size:14,color:`#8b5cf6`}),(0,Z.jsx)(`span`,{style:{fontSize:`11px`,color:`#6b7280`,fontWeight:`500`},children:`Administrator`})]}),(0,Z.jsx)(`div`,{style:{fontSize:`13px`,fontWeight:`600`,color:`#111827`,overflow:`hidden`,textOverflow:`ellipsis`,whiteSpace:`nowrap`},children:e?.name||e?.email})]}),(0,Z.jsxs)(`button`,{onClick:o,style:{width:`100%`,display:`flex`,alignItems:`center`,justifyContent:`center`,gap:`8px`,padding:`10px`,border:`none`,borderRadius:`8px`,background:`linear-gradient(135deg, #ef4444 0%, #dc2626 100%)`,color:`white`,fontSize:`14px`,fontWeight:`500`,cursor:`pointer`,transition:`all 0.2s`,boxShadow:`0 1px 2px rgba(0,0,0,0.1)`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-1px)`,e.currentTarget.style.boxShadow=`0 4px 6px rgba(0,0,0,0.15)`},onMouseLeave:e=>{e.currentTarget.style.transform=`translateY(0)`,e.currentTarget.style.boxShadow=`0 1px 2px rgba(0,0,0,0.1)`},children:[(0,Z.jsx)(mN,{size:16}),(0,Z.jsx)(`span`,{children:`Logout`})]})]})]}),i&&(0,Z.jsx)(`div`,{onClick:()=>a(!1),style:{position:`fixed`,inset:0,backgroundColor:`rgba(0, 0, 0, 0.5)`,zIndex:40},className:`lg:hidden`}),(0,Z.jsxs)(`div`,{style:{flex:1,display:`flex`,flexDirection:`column`,marginLeft:`0`},className:`lg:ml-0`,children:[(0,Z.jsx)(`header`,{style:{backgroundColor:`white`,borderBottom:`1px solid #e5e7eb`,position:`sticky`,top:0,zIndex:30,boxShadow:`0 1px 2px rgba(0,0,0,0.05)`},children:(0,Z.jsxs)(`div`,{style:{padding:`0 16px`,height:`64px`,display:`flex`,alignItems:`center`,justifyContent:`space-between`,maxWidth:`100%`},children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`},children:[(0,Z.jsx)(`button`,{onClick:()=>a(!0),style:{padding:`8px`,border:`none`,background:`transparent`,cursor:`pointer`,borderRadius:`6px`,display:`none`},className:`lg:hidden block`,onMouseEnter:e=>e.currentTarget.style.backgroundColor=`#f3f4f6`,onMouseLeave:e=>e.currentTarget.style.backgroundColor=`transparent`,children:(0,Z.jsx)(_N,{size:20,color:`#374151`})}),(0,Z.jsx)(`h1`,{style:{fontSize:`20px`,fontWeight:`bold`,color:`#111827`,margin:0},children:s.find(e=>e.path===r.pathname)?.label||`Admin Panel`})]}),(0,Z.jsxs)(`div`,{style:{display:`none`,alignItems:`center`,gap:`8px`,padding:`8px 12px`,backgroundColor:`#f5f3ff`,borderRadius:`8px`,border:`1px solid #e9d5ff`},className:`md:flex`,children:[(0,Z.jsx)(AN,{size:16,color:`#8b5cf6`}),(0,Z.jsx)(`span`,{style:{fontSize:`12px`,fontWeight:`600`,color:`#7c3aed`},children:e?.name||`Admin`})]})]})}),(0,Z.jsx)(`main`,{style:{flex:1,overflowY:`auto`,backgroundColor:`#f9fafb`},children:(0,Z.jsx)(ft,{})}),(0,Z.jsx)(`footer`,{style:{backgroundColor:`white`,borderTop:`1px solid #e5e7eb`,marginTop:`auto`},children:(0,Z.jsxs)(`div`,{style:{padding:`12px 16px`,display:`flex`,alignItems:`center`,justifyContent:`space-between`,flexWrap:`wrap`,gap:`8px`,fontSize:`12px`,color:`#6b7280`},children:[(0,Z.jsx)(`div`,{children:` 2024 Fremio Admin Panel`}),(0,Z.jsxs)(`div`,{style:{display:`flex`,gap:`16px`},children:[(0,Z.jsx)(`a`,{href:`#`,style:{color:`#6b7280`,textDecoration:`none`,fontWeight:`500`},onMouseEnter:e=>e.currentTarget.style.color=`#ec4899`,onMouseLeave:e=>e.currentTarget.style.color=`#6b7280`,children:`Help`}),(0,Z.jsx)(`a`,{href:`#`,style:{color:`#6b7280`,textDecoration:`none`,fontWeight:`500`},onMouseEnter:e=>e.currentTarget.style.color=`#ec4899`,onMouseLeave:e=>e.currentTarget.style.color=`#6b7280`,children:`Docs`}),(0,Z.jsx)(`a`,{href:`#`,style:{color:`#6b7280`,textDecoration:`none`,fontWeight:`500`},onMouseEnter:e=>e.currentTarget.style.color=`#ec4899`,onMouseLeave:e=>e.currentTarget.style.color=`#6b7280`,children:`Settings`})]})]})})]})]})}var jP=`/fremio/assets/frame1-DFMM74zl.png`,MP=`/fremio/assets/frame2-Bnp3d5zI.png`,NP=`/fremio/assets/frame3-BDiUIobJ.png`;function PP(){let{isAuthenticated:e}=_S();return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(`section`,{id:`home`,className:`hero-fremio`,style:{scrollMarginTop:`64px`},children:(0,Z.jsx)(`div`,{className:`container`,children:(0,Z.jsxs)(`div`,{className:`hero-grid`,children:[(0,Z.jsxs)(`div`,{className:`hero-left`,children:[(0,Z.jsxs)(`h1`,{className:`hero-h1`,children:[`Not a `,(0,Z.jsx)(`span`,{className:`accent`,children:`photobooth`}),(0,Z.jsx)(`br`,{}),`Not a `,(0,Z.jsx)(`span`,{className:`accent`,children:`photobox`})]}),(0,Z.jsx)(`p`,{className:`hero-sub`,children:`fremio adalah cara baru merayakan momen. Pilih frame, cetak instan, dan jadikan kenanganmu sesuatu yang hidup`}),(0,Z.jsx)(nn,{to:e?`/frames`:`/login`,className:`cta-pink`,children:`Get Started`}),(0,Z.jsx)(FP,{className:`deco cam-tl`}),(0,Z.jsx)(IP,{className:`deco film-tc`}),(0,Z.jsx)(FP,{className:`deco cam-bl`}),(0,Z.jsx)(IP,{className:`deco film-bc`})]}),(0,Z.jsxs)(`div`,{className:`hero-right`,children:[(0,Z.jsx)(`img`,{src:jP,alt:`Contoh frame utama`,className:`shot main`}),(0,Z.jsx)(`img`,{src:MP,alt:`Contoh frame kiri`,className:`shot left`}),(0,Z.jsx)(`img`,{src:NP,alt:`Contoh frame kanan`,className:`shot right`})]})]})})}),(0,Z.jsx)(`section`,{id:`about`,className:`about-section`,style:{scrollMarginTop:`64px`},children:(0,Z.jsx)(`div`,{className:`container`,children:(0,Z.jsxs)(`div`,{className:`about-content`,children:[(0,Z.jsxs)(`h2`,{className:`about-title`,children:[(0,Z.jsx)(`span`,{className:`about-title-accent`,children:`Tentang\xA0`}),(0,Z.jsx)(`span`,{className:`about-title-main`,children:`Kami`})]}),(0,Z.jsxs)(`div`,{className:`space-y-8`,children:[(0,Z.jsxs)(`p`,{className:`about-text`,children:[`Kami percaya bahwa setiap momen berharga layak untuk diabadikan dengan cara yang istimewa.`,(0,Z.jsx)(`br`,{}),`Fremio hadir bukan sekadar photobooth atau photobox, tapi sebuah pengalaman baru dalam merayakan kenangan.`]}),(0,Z.jsxs)(`p`,{className:`about-text`,children:[`Dengan Fremio, kamu bisa memilih frame yang unik, mencetak foto instan, dan menyimpannya sebagai bagian dari cerita hidupmu.`,(0,Z.jsx)(`br`,{}),`Kami menghubungkan kreator desain, coffee shop, dan komunitas dalam satu ekosistem yang membuat kenangan terasa lebih hidup, personal, dan bermakna.`]}),(0,Z.jsxs)(`p`,{className:`about-text`,children:[`Purpose kami sederhana:`,` `,(0,Z.jsx)(`span`,{className:`about-text-bold`,children:`We help people cherish what matters most.`}),(0,Z.jsx)(`br`,{}),`Kami ingin menjadikan foto bukan sekadar gambar, tapi sebuah pengalaman emosional yang bisa kamu sentuh, bagikan, dan kenang selamanya.`]})]})]})})})]})}function FP({className:e=``}){return(0,Z.jsxs)(`svg`,{className:e,viewBox:`0 0 24 24`,"aria-hidden":`true`,children:[(0,Z.jsx)(`path`,{d:`M7 6h3l1-2h2l1 2h3a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z`,fill:`currentColor`}),(0,Z.jsx)(`circle`,{cx:`12`,cy:`12`,r:`4`,fill:`#fff`}),(0,Z.jsx)(`circle`,{cx:`12`,cy:`12`,r:`2.6`,fill:`currentColor`})]})}function IP({className:e=``}){return(0,Z.jsxs)(`svg`,{className:e,viewBox:`0 0 64 64`,"aria-hidden":`true`,children:[(0,Z.jsx)(`rect`,{x:`10`,y:`14`,width:`36`,height:`36`,rx:`4`,fill:`currentColor`}),(0,Z.jsx)(`rect`,{x:`18`,y:`22`,width:`12`,height:`12`,fill:`#fff`}),(0,Z.jsx)(`rect`,{x:`34`,y:`22`,width:`4`,height:`12`,fill:`#fff`}),(0,Z.jsx)(`rect`,{x:`18`,y:`38`,width:`12`,height:`4`,fill:`#fff`}),(0,Z.jsx)(`rect`,{x:`48`,y:`20`,width:`6`,height:`24`,rx:`2`,fill:`currentColor`}),(0,Z.jsx)(`circle`,{cx:`51`,cy:`24`,r:`1.6`,fill:`#fff`}),(0,Z.jsx)(`circle`,{cx:`51`,cy:`40`,r:`1.6`,fill:`#fff`})]})}var LP=`/fremio/assets/Everything%20You%20Are-CdefMaPW.png`,RP=`/fremio/assets/FremioSeries-blue-2-B5pXOU3W.png`,zP=`/fremio/assets/FremioSeries-babyblue-3-B2fJnRv7.png`,BP=`/fremio/assets/FremioSeries-black-3-CSx5W-Nn.png`,VP=`/fremio/assets/FremioSeries-blue-3-B23Qyzxk.png`,HP=`/fremio/assets/FremioSeries-cream-3-CUffidfK.png`,UP=`/fremio/assets/FremioSeries-green-3-CsjrGuhw.png`,WP=`/fremio/assets/FremioSeries-maroon-3-BqO_9j9u.png`,GP=`/fremio/assets/FremioSeries-orange-3-CCMNFmRj.png`,KP=`/fremio/assets/FremioSeries-pink-3-Nbg5RheE.png`,qP=`/fremio/assets/FremioSeries-purple-3-DeZtk4x9.png`,JP=`/fremio/assets/FremioSeries-white-3-CWTBArXr.png`,YP=`/fremio/assets/FremioSeries-blue-4-D7sHCwpI.png`,XP=`/fremio/assets/7%20Des-CG2hfBhW.png`,ZP=`/fremio/assets/Abbey%20Road-DAtbj3Fj.png`,QP=`/fremio/assets/Lagipula%20Hidup%20Akan%20Berakhir-B5WiXZ1W.png`,$P=`/fremio/assets/Membangun%20_%20Menghancurkan-DDRKkt_z.png`,eF=`/fremio/assets/Menari%20dengan%20Bayangan-U97hNN0z.png`,tF=`/fremio/assets/PS.%20I%20LOVE%20YOU-B16x22QN.png`,nF=`/fremio/assets/Sal%20Priadi-D_OPShHH.png`,rF={"../assets/frames/Everything You Are.png":LP,"../assets/frames/FremioSeries/FremioSeries-2/FremioSeries-blue-2.png":RP,"../assets/frames/FremioSeries/FremioSeries-3/FremioSeries-babyblue-3.png":zP,"../assets/frames/FremioSeries/FremioSeries-3/FremioSeries-black-3.png":BP,"../assets/frames/FremioSeries/FremioSeries-3/FremioSeries-blue-3.png":VP,"../assets/frames/FremioSeries/FremioSeries-3/FremioSeries-cream-3.png":HP,"../assets/frames/FremioSeries/FremioSeries-3/FremioSeries-green-3.png":UP,"../assets/frames/FremioSeries/FremioSeries-3/FremioSeries-maroon-3.png":WP,"../assets/frames/FremioSeries/FremioSeries-3/FremioSeries-orange-3.png":GP,"../assets/frames/FremioSeries/FremioSeries-3/FremioSeries-pink-3.png":KP,"../assets/frames/FremioSeries/FremioSeries-3/FremioSeries-purple-3.png":qP,"../assets/frames/FremioSeries/FremioSeries-3/FremioSeries-white-3.png":JP,"../assets/frames/FremioSeries/FremioSeries-4/FremioSeries-blue-4.png":YP,"../assets/frames/InspiredBy/7 Des.png":XP,"../assets/frames/InspiredBy/Abbey Road.png":ZP,"../assets/frames/InspiredBy/Lagipula Hidup Akan Berakhir.png":QP,"../assets/frames/InspiredBy/Membangun & Menghancurkan.png":$P,"../assets/frames/InspiredBy/Menari dengan Bayangan.png":eF,"../assets/frames/InspiredBy/PS. I LOVE YOU.png":tF,"../assets/frames/InspiredBy/Sal Priadi.png":nF},iF=e=>{if(!e)return null;let t=e.replace(`/src/`,`../`);return rF[t]||(console.warn(` Frame image not found: ${e}`),null)};const aF=[`FremioSeries-blue-2`,`FremioSeries-babyblue-3`,`FremioSeries-black-3`,`FremioSeries-blue-3`,`FremioSeries-cream-3`,`FremioSeries-green-3`,`FremioSeries-maroon-3`,`FremioSeries-orange-3`,`FremioSeries-pink-3`,`FremioSeries-purple-3`,`FremioSeries-white-3`,`FremioSeries-blue-4`,`SalPriadi`,`InspiredBy-7Des`,`InspiredBy-AbbeyRoad`,`InspiredBy-LagipulaHidupAkanBerakhir`,`InspiredBy-MembangunDanMenghancurkan`,`InspiredBy-MenariDenganBayangan`,`InspiredBy-PSILOVEYOU`,`Testframe1`,`Testframe2`,`Testframe3`];var oF={};const sF={"FremioSeries-blue-2":{id:`FremioSeries-blue-2`,name:`FremioSeries Blue 2 Foto`,maxCaptures:2,description:`2 slot foto vertikal - Blue Frame`,imagePath:`/src/assets/frames/FremioSeries/FremioSeries-2/FremioSeries-blue-2.png`,category:`portrait`},"FremioSeries-babyblue-3":{id:`FremioSeries-babyblue-3`,name:`FremioSeries Baby Blue 6 Foto`,maxCaptures:3,description:`3 foto x 2 = 6 slot photobooth klasik - Baby Blue Frame`,imagePath:`/src/assets/frames/FremioSeries/FremioSeries-3/FremioSeries-babyblue-3.png`,category:`photobooth`},"FremioSeries-black-3":{id:`FremioSeries-black-3`,name:`FremioSeries Black 6 Foto`,maxCaptures:3,description:`3 foto x 2 = 6 slot photobooth klasik - Black Frame`,imagePath:`/src/assets/frames/FremioSeries/FremioSeries-3/FremioSeries-black-3.png`,category:`photobooth`},"FremioSeries-blue-3":{id:`FremioSeries-blue-3`,name:`FremioSeries Blue 6 Foto`,maxCaptures:3,description:`3 foto x 2 = 6 slot photobooth klasik - Blue Frame`,imagePath:`/src/assets/frames/FremioSeries/FremioSeries-3/FremioSeries-blue-3.png`,category:`photobooth`},"FremioSeries-cream-3":{id:`FremioSeries-cream-3`,name:`FremioSeries Cream 6 Foto`,maxCaptures:3,description:`3 foto x 2 = 6 slot photobooth klasik - Cream Frame`,imagePath:`/src/assets/frames/FremioSeries/FremioSeries-3/FremioSeries-cream-3.png`,category:`photobooth`},"FremioSeries-green-3":{id:`FremioSeries-green-3`,name:`FremioSeries Green 6 Foto`,maxCaptures:3,description:`3 foto x 2 = 6 slot photobooth klasik - Green Frame`,imagePath:`/src/assets/frames/FremioSeries/FremioSeries-3/FremioSeries-green-3.png`,category:`photobooth`},"FremioSeries-maroon-3":{id:`FremioSeries-maroon-3`,name:`FremioSeries Maroon 6 Foto`,maxCaptures:3,description:`3 foto x 2 = 6 slot photobooth klasik - Maroon Frame`,imagePath:`/src/assets/frames/FremioSeries/FremioSeries-3/FremioSeries-maroon-3.png`,category:`photobooth`},"FremioSeries-orange-3":{id:`FremioSeries-orange-3`,name:`FremioSeries Orange 6 Foto`,maxCaptures:3,description:`3 foto x 2 = 6 slot photobooth klasik - Orange Frame`,imagePath:`/src/assets/frames/FremioSeries/FremioSeries-3/FremioSeries-orange-3.png`,category:`photobooth`},"FremioSeries-pink-3":{id:`FremioSeries-pink-3`,name:`FremioSeries Pink 6 Foto`,maxCaptures:3,description:`3 foto x 2 = 6 slot photobooth klasik - Pink Frame`,imagePath:`/src/assets/frames/FremioSeries/FremioSeries-3/FremioSeries-pink-3.png`,category:`photobooth`},"FremioSeries-purple-3":{id:`FremioSeries-purple-3`,name:`FremioSeries Purple 6 Foto`,maxCaptures:3,description:`3 foto x 2 = 6 slot photobooth klasik - Purple Frame`,imagePath:`/src/assets/frames/FremioSeries/FremioSeries-3/FremioSeries-purple-3.png`,category:`photobooth`},"FremioSeries-white-3":{id:`FremioSeries-white-3`,name:`FremioSeries White 6 Foto`,maxCaptures:3,description:`3 foto x 2 = 6 slot photobooth klasik - White Frame`,imagePath:`/src/assets/frames/FremioSeries/FremioSeries-3/FremioSeries-white-3.png`,category:`photobooth`},"FremioSeries-blue-4":{id:`FremioSeries-blue-4`,name:`FremioSeries Blue 4 Foto`,maxCaptures:4,description:`4 slot foto grid 2x2 - Blue Frame`,imagePath:`/src/assets/frames/FremioSeries/FremioSeries-4/FremioSeries-blue-4.png`,category:`grid`},SalPriadi:{id:`SalPriadi`,name:`Sal Priadi 6 Foto`,maxCaptures:3,description:`Frame kolaborasi Sal Priadi dengan layout photobooth 3 x 2.`,imagePath:`/src/assets/frames/InspiredBy/Sal Priadi.png`,category:`photobooth`},"InspiredBy-7Des":{id:`InspiredBy-7Des`,name:`Inspired By 7 Des`,maxCaptures:4,description:`Frame Inspired By dengan layout photobooth 4 x 2 (8 slot).`,imagePath:`/src/assets/frames/InspiredBy/7 Des.png`,category:`photobooth`},"InspiredBy-AbbeyRoad":{id:`InspiredBy-AbbeyRoad`,name:`Inspired By Abbey Road`,maxCaptures:3,description:`Frame Inspired By dengan layout photobooth 3 x 2.`,imagePath:`/src/assets/frames/InspiredBy/Abbey Road.png`,category:`photobooth`},"InspiredBy-LagipulaHidupAkanBerakhir":{id:`InspiredBy-LagipulaHidupAkanBerakhir`,name:`Inspired By Lagipula Hidup Akan Berakhir`,maxCaptures:3,description:`Frame Inspired By dengan layout photobooth 3 x 2.`,imagePath:`/src/assets/frames/InspiredBy/Lagipula Hidup Akan Berakhir.png`,category:`photobooth`},"InspiredBy-MembangunDanMenghancurkan":{id:`InspiredBy-MembangunDanMenghancurkan`,name:`Inspired By Membangun & Menghancurkan`,maxCaptures:3,description:`Frame Inspired By dengan layout photobooth 3 x 2.`,imagePath:`/src/assets/frames/InspiredBy/Membangun & Menghancurkan.png`,category:`photobooth`},"InspiredBy-MenariDenganBayangan":{id:`InspiredBy-MenariDenganBayangan`,name:`Inspired By Menari dengan Bayangan`,maxCaptures:3,description:`Frame Inspired By dengan layout photobooth 3 x 2.`,imagePath:`/src/assets/frames/InspiredBy/Menari dengan Bayangan.png`,category:`photobooth`},"InspiredBy-PSILOVEYOU":{id:`InspiredBy-PSILOVEYOU`,name:`Inspired By PS. I LOVE YOU`,maxCaptures:3,description:`Frame Inspired By dengan layout photobooth 3 x 2.`,imagePath:`/src/assets/frames/InspiredBy/PS. I LOVE YOU.png`,category:`photobooth`},Testframe1:{id:`Testframe1`,name:`Frame 2 Foto`,maxCaptures:2,description:`2 slot foto vertikal`,imagePath:`/src/assets/frames/Testframe1.png`,category:`portrait`},Testframe2:{id:`Testframe2`,name:`Frame 6 Foto (Photobooth Style)`,maxCaptures:3,description:`3 foto x 2 = 6 slot photobooth klasik`,imagePath:`/src/assets/frames/Testframe2.png`,category:`photobooth`},Testframe3:{id:`Testframe3`,name:`Frame 4 Foto`,maxCaptures:4,description:`4 slot foto grid 2x2`,imagePath:`/src/assets/frames/Testframe3.png`,category:`grid`}};var cF=new Map,lF=(e,t)=>{if(!Array.isArray(e)||e.length===0)return[];let n=t?.canvasWidth||1080,r=t?.canvasHeight||1920;return e.map((e,t)=>{let i=Math.round(e.left*n),a=Math.round(e.top*r),o=Math.round(e.width*n),s=Math.round(e.height*r);return{id:e.id||`photo-slot-${t}`,type:`photo`,x:i,y:a,width:o,height:s,rotation:0,zIndex:e.zIndex||100,isLocked:!1,data:{fill:`#d1e3f0`,borderRadius:24,stroke:null,strokeWidth:0,label:`Foto ${e.photoIndex+1}`,photoIndex:e.photoIndex===void 0?t:e.photoIndex}}})};const uF=async e=>{if(cF.has(e))return console.log(` Loading ${e} from cache`),cF.get(e);if(!aF.includes(e))return console.warn(` Frame ${e} not found in registry`),null;try{console.log(` Loading ${e} configuration...`);let t=`./frame-configs/${e}.js`,n=oF[t];if(!n)return console.error(` No module loader found for ${t}`),null;let r=await n(),i=r.frameConfig||r.default;if(i&&i.imagePath){let e=iF(i.imagePath);e&&(i.frameImage=e)}if(i&&i.slots&&!i.designer?.elements){let t=i.layout?.canvasWidth||1080,n=i.layout?.canvasHeight||1920,r=i.layout?.backgroundColor||`#ffffff`,a=i.layout?.aspectRatio||`9:16`,o=lF(i.slots,i.layout);i.designer={elements:o,canvasBackground:r,canvasWidth:t,canvasHeight:n,aspectRatio:a},console.log(` Converted ${o.length} slots to designer elements for ${e}`)}return cF.set(e,i),console.log(` ${e} configuration loaded successfully`),i}catch(t){return console.error(` Failed to load ${e} configuration:`,t),null}},dF=e=>sF[e]||null,fF=()=>aF.map(e=>sF[e]),pF=e=>aF.includes(e),mF=e=>{cF.has(e)&&(cF.delete(e),console.log(` Cleared cache for frame: ${e}`))},hF=async e=>{try{mF(e);let t=`./frame-configs/${e}.js`,n=oF[t];if(!n)return console.error(` No module loader found for ${t}`),null;let r=await n(),i=r.frameConfig||r.default;if(i)return cF.set(e,i),console.log(` Reloaded frame config for ${e}`),i}catch(t){console.error(` Failed to reload frame config for ${e}:`,t)}return null},gF=async(e=aF)=>{console.log(` Preloading frame configurations...`);let t=e.map(e=>uF(e));try{await Promise.all(t),console.log(` All frame configurations preloaded`)}catch(e){console.error(` Error preloading frame configurations:`,e)}};var _F=`custom_frames`;const vF=()=>{try{return JSON.parse(localStorage.getItem(_F)||`[]`)}catch(e){return console.error(`Error getting custom frames:`,e),[]}},yF=e=>{try{return vF().find(t=>t.id===e)}catch(e){return console.error(`Error getting custom frame:`,e),null}},bF=async(e,t)=>{try{let n=vF();if(n.some(t=>t.id===e.id))throw Error(`Frame ID sudah digunakan`);let r=await xF(t),i={...e,imagePath:r,thumbnailUrl:r,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),views:0,uses:0,likes:0,category:e.category||`custom`};return n.push(i),localStorage.setItem(_F,JSON.stringify(n)),{success:!0,frameId:i.id}}catch(e){return console.error(`Error saving custom frame:`,e),{success:!1,message:e.message}}};var xF=e=>new Promise((t,n)=>{let r=new FileReader;r.onloadend=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)});const SF=e=>{let t=yF(e);if(!t)return null;let n=1080,r=1920,i=t.slots?.map((e,t)=>({id:e.id||`photo_${t+1}`,type:`photo`,x:e.left*n,y:e.top*r,width:e.width*n,height:e.height*r,zIndex:e.zIndex||2,data:{photoIndex:e.photoIndex===void 0?t:e.photoIndex,image:null,aspectRatio:e.aspectRatio||`4:5`}}))||[];return{id:t.id,name:t.name,description:t.description,maxCaptures:t.maxCaptures,duplicatePhotos:t.duplicatePhotos||!1,imagePath:t.imagePath,frameImage:t.imagePath,thumbnailUrl:t.imagePath,slots:t.slots,designer:{elements:i},layout:t.layout||{aspectRatio:`9:16`,orientation:`portrait`,backgroundColor:`#ffffff`},category:t.category,isCustom:!0}},CF=e=>{try{let t=vF();if(t.some(t=>t.id===e.id)){console.warn(`Frame ${e.id} sudah ada, akan di-update`);let n=t.filter(t=>t.id!==e.id);n.push(e),localStorage.setItem(_F,JSON.stringify(n))}else t.push(e),localStorage.setItem(_F,JSON.stringify(t));return{success:!0,frameId:e.id}}catch(e){return console.error(`Error adding custom frame:`,e),{success:!1,message:e.message}}};var wF=e=>Array.isArray(e)?e.map(e=>({...e})):[],TF=e=>{if(!(!e||typeof e!=`object`))return{...e}},EF=e=>{if(!(!e||typeof e!=`object`))return{...e,storedAt:new Date().toISOString()}},DF=e=>{if(!e||typeof e!=`object`)return;let{elements:t,...n}=e;if(!Array.isArray(t)||t.length===0)return n;let r=t.map(e=>{if(!e||typeof e!=`object`)return e;let t={...e},n=e.type===`background-photo`,r=e.type===`upload`,i=e.type===`photo`;if(t.data&&typeof t.data==`object`){let e={...t.data};!n&&!r&&!i&&(typeof e.image==`string`&&e.image.startsWith(`data:`)&&(e.image=null),typeof e.originalImage==`string`&&e.originalImage.startsWith(`data:`)&&(e.originalImage=null),typeof e.preview==`string`&&e.preview.startsWith(`data:`)&&(e.preview=null)),t.data=e}return t});return{...n,elements:r}};const OF=e=>{if(!e||typeof e!=`object`)return null;let t={...e,slots:wF(e.slots),layout:TF(e.layout),metadata:EF(e.metadata)};e.isCustom||e.id?.startsWith(`custom-`)||(delete t.frameImage,delete t.preview);let n=DF(e.designer);return n?t.designer=n:delete t.designer,t};var kF=`custom-`,AF=e=>typeof e==`string`&&e.startsWith(kF),jF=new class{constructor(){this.currentFrame=null,this.currentConfig=null,this.isLoading=!1}async setCustomFrame(e){if(console.log(` setCustomFrame called with:`,e),!e||!e.id)return console.error(`Frame data is required to set custom frame.`),!1;this.isLoading=!0;try{let t=(SF(e.id));if(!t)throw Error(`Custom frame config for "${e.id}" not found`);return this.currentFrame=e.id,this.currentConfig=t,console.log(` Custom frame "${e.id}" set successfully`),console.log(`  - Max captures:`,t.maxCaptures),console.log(`  - Slots count:`,t.slots?.length),console.log(`  - Image path:`,t.imagePath?``:``),this.persistFrameSelection(e.id,t),!0}catch(e){return console.error(` Error setting custom frame:`,e),!1}finally{this.isLoading=!1}}async setFrame(e,t={}){if(console.log(` setFrame called with: ${e}`),!e)return console.error(`Frame name is required to set frame.`),!1;let n=t.config,r=t.isCustom??n?.isCustom??(AF(e));this.isLoading=!0;try{let t=n||null;if(!t)if(pF(e))t=await uF(e);else{let n=(SF(e));if(n)t=n,console.log(` Found custom frame: ${e}`);else{let n=(X.getJSON(`frameConfig`));n?.id===e&&(t=n)}if(!t){if(r)throw Error(`Custom frame "${e}" tidak ditemukan di storage`);return console.error(`Frame "${e}" tidak valid atau tidak ditemukan`),!1}}if(!t)throw Error(`Frame configuration for "${e}" is missing`);this.currentFrame=e,this.currentConfig=t,r?(console.log(` CUSTOM FRAME SET DEBUG:`),console.log(`  - Frame ID:`,e),console.log(`  - Config ID:`,t.id),console.log(`  - Max captures:`,t.maxCaptures),console.log(`  - Slots count:`,t.slots?.length),console.log(`  - Is custom:`,t.isCustom)):e===`Testframe3`&&(console.log(` ${e.toUpperCase()} SET FRAME DEBUG:`),console.log(`  - isValidFrame result:`,pF(e)),console.log(`  - getFrameConfig result:`,this.currentConfig),console.log(`  - maxCaptures:`,this.currentConfig?.maxCaptures),console.log(`  - slots count:`,this.currentConfig?.slots?.length)),this.persistFrameSelection(e,t);let i=Array.isArray(t?.slots)?t.slots.length:0;return console.log(` Frame "${e}" berhasil di-set dengan ${i} slots`),!0}catch(t){return console.error(` Error setting frame "${e}":`,t),!1}finally{this.isLoading=!1}}async loadFrameFromStorage(){let e=(X.getItem(`selectedFrame`)),t=(X.getJSON(`frameConfig`));if(console.log(` Checking localStorage for frame data...`),console.log(`  - Stored frame ID:`,e),console.log(`  - Stored config exists:`,!!t),console.log(`  - Stored config ID:`,t?.id),console.log(`  - Is custom frame:`,e?.startsWith(`custom-`)),t?.id&&t?.designer?.elements)try{let e=t.id;return this.currentFrame=e,this.currentConfig=t,this.persistFrameSelection(e,t),console.log(` Frame "${e}" loaded from cached config`),!0}catch(e){console.warn(` Cached config tidak valid, mencoba ulang...`,e)}if(e?.startsWith(`custom-`)){let e=(pS.getItem(`activeDraftId`));if(e){console.log(` Custom frame without config, loading from IndexedDB draft:`,e);try{let{default:t}=await(w(async()=>{let{default:e}=await import(`./draftStorage-Mu7Ufi7a.js`);return{default:e}},[])),n=await(t.getDraftById(e));if(n){console.log(` Draft found in IndexedDB, rebuilding frameConfig...`);let{buildFrameConfigFromDraft:e}=await(w(async()=>{let{buildFrameConfigFromDraft:e}=await import(`./draftHelpers-DCCf10Pn.js`);return{buildFrameConfigFromDraft:e}},[])),t=(e(n));return this.currentFrame=t.id,this.currentConfig=t,this.persistFrameSelection(t.id,t),console.log(` Frame config rebuilt from IndexedDB draft:`,{id:t.id,hasDesignerElements:!!t.designer?.elements,elementsCount:t.designer?.elements?.length}),!0}else console.warn(` Draft not found in IndexedDB:`,e)}catch(e){console.error(` Failed to load draft from IndexedDB:`,e)}}}if(e)try{if(pF(e)){if(await this.setFrame(e))return console.log(` Frame "${e}" reloaded successfully`),!0}else if(AF(e)){if(t?.id===e)return this.currentFrame=e,this.currentConfig=t,console.log(` Custom frame "${e}" loaded from cached config`),!0;console.warn(` Custom frame "${e}" tidak memiliki konfigurasi tersimpan`)}else console.warn(` Stored frame "${e}" tidak valid lagi`)}catch(e){console.error(` Error loading frame from storage:`,e)}return console.log(` No valid frame in storage, using default...`),await this.setFrame(`Testframe1`)}getCurrentConfig(){return this.currentConfig}getCurrentFrameName(){return this.currentFrame}getMaxCaptures(){return console.log(` getMaxCaptures called`),console.log(` currentConfig:`,this.currentConfig),console.log(` returning maxCaptures:`,this.currentConfig?this.currentConfig.maxCaptures:0),this.currentConfig?this.currentConfig.maxCaptures:0}getSlots(){return this.currentConfig?this.currentConfig.slots:[]}getFrameImagePath(){return this.currentConfig?this.currentConfig.imagePath:null}createEmptySlotPhotos(){let e=(this.getMaxCaptures());return Array(e).fill(null)}canCaptureMore(e){if(console.log(` canCaptureMore called`),console.log(` currentConfig:`,this.currentConfig),console.log(` currentSlotPhotos:`,e),!this.currentConfig)return console.log(` No currentConfig, returning false`),!1;let t=(e.filter(e=>e!==null)).length,n=this.currentConfig.maxCaptures,r=t<n;return console.log(` filledSlots: ${t}, maxCaptures: ${n}, canCapture: ${r}`),r}getNextEmptySlotIndex(e){return e.findIndex(e=>e===null)}getCaptureProgress(e){let t=(e.filter(e=>e!==null)).length,n=(this.getMaxCaptures());return{current:t,max:n,percentage:n>0?t/n*100:0,isComplete:t===n}}clearFrame(){this.currentFrame=null,this.currentConfig=null,X.removeItem(`selectedFrame`),X.removeItem(`frameConfig`),pS.removeItem(`activeDraftId`),pS.removeItem(`activeDraftSignature`),console.log(` Frame data berhasil dihapus`)}async getAllFrames(){return fF()}getFrameMetadata(e){return dF(e)}isFrameLoading(){return this.isLoading}async preloadFrames(e){return console.log(` Preloading frames for better performance...`),await gF(e)}getFrameImagePath(){return this.currentConfig?this.currentConfig.imagePath:null}persistFrameSelection(e,t){try{let n=(X.setItem(`selectedFrame`,e)),r={...t,__timestamp:Date.now(),__selectedAt:new Date().toISOString()},i=t.isCustom||(e?.startsWith(`custom-`)),a=!1;if(i){console.log(` [persistFrameSelection] Attempting to save FULL custom frame config...`),console.log(`  - Has designer.elements:`,!!r.designer?.elements),console.log(`  - Elements count:`,r.designer?.elements?.length),console.log(`  - Has frameImage:`,!!r.frameImage),console.log(`  - Has imagePath:`,!!r.imagePath);try{a=X.setJSON(`frameConfig`,r),a&&console.log(` [persistFrameSelection] Full custom frame config saved successfully`)}catch(e){console.warn(` [persistFrameSelection] Full config too large for localStorage:`,e.message)}}if(!a){console.log(` [persistFrameSelection] Saving sanitized frame config...`);let e=(OF(r));if(e&&(a=X.setJSON(`frameConfig`,e)),!a&&e){console.warn(` Failed to store sanitized frame config, attempting fallback without image data`);let t={...e};delete t.imagePath,a=X.setJSON(`frameConfig`,t)}}if(!n||!a)throw Error(`Failed to persist frame selection`);X.setItem(`frameConfigTimestamp`,String(r.__timestamp)),t?.metadata?.draftId?pS.setItem(`activeDraftId`,t.metadata.draftId):pS.removeItem(`activeDraftId`),t?.metadata?.signature?pS.setItem(`activeDraftSignature`,t.metadata.signature):pS.removeItem(`activeDraftSignature`),console.log(` Frame selection persisted with timestamp:`,r.__timestamp)}catch(e){throw console.error(` Error persisting frame selection:`,e),e}}getFrameConfigSync(e){return console.warn(` getFrameConfigSync is deprecated. Use async methods instead.`),dF(e)}getFrameInfo(){return this.currentConfig?{name:this.currentConfig.name,description:this.currentConfig.description,maxCaptures:this.currentConfig.maxCaptures,slotsCount:this.currentConfig.slots.length,aspectRatio:this.currentConfig.layout.aspectRatio,orientation:this.currentConfig.layout.orientation}:null}generatePreviewSlots(e){return this.getSlots().map((t,n)=>({...t,index:n,hasPhoto:e[n]!==null,photo:e[n],isEmpty:e[n]===null}))}};const MF={USERS:`users`,users:`users`,KREATOR_APPLICATIONS:`kreatorApplications`,kreatorApplications:`kreatorApplications`,FRAMES:`frames`,frames:`frames`,FRAME_CATEGORIES:`frameCategories`,NOTIFICATIONS:`notifications`,ANALYTICS:`analytics`},NF={ADMIN:`admin`,KREATOR:`kreator`,USER:`user`},PF={DRAFT:`draft`,PENDING_REVIEW:`pending_review`,APPROVED:`approved`,REJECTED:`rejected`,REQUEST_CHANGES:`request_changes`,ARCHIVED:`archived`},FF=[{id:`birthday`,name:`Birthday`,icon:``},{id:`wedding`,name:`Wedding`,icon:``},{id:`graduation`,name:`Graduation`,icon:``},{id:`corporate`,name:`Corporate`,icon:``},{id:`holiday`,name:`Holiday`,icon:``},{id:`party`,name:`Party`,icon:``},{id:`baby`,name:`Baby & Kids`,icon:``},{id:`anniversary`,name:`Anniversary`,icon:``},{id:`travel`,name:`Travel`,icon:``},{id:`other`,name:`Other`,icon:``}];async function IF(e){try{let{eventType:t,userId:n,frameId:r,kreatorId:i,metadata:a}=e;return{success:!0,eventId:(await qy(Lv(tS,MF.analytics),{eventType:t,userId:n||null,frameId:r||null,kreatorId:i||null,metadata:a||{},timestamp:Xy()})).id,message:`Event logged`}}catch(e){return console.error(`Error logging analytics event:`,e),{success:!1,message:e.message||`Failed to log event`}}}async function LF(e,t=null,n=null){return await IF({eventType:`frame_view`,frameId:e,userId:t})}async function RF(e,t,n,r=null){return await IF({eventType:`frame_download`,frameId:e,userId:t,kreatorId:n})}function zF(){let e=Be(),[t,n]=(0,b.useState)([]),[r,i]=(0,b.useState)({}),a=e=>{i(t=>({...t,[e]:!t[e]}))};return(0,b.useEffect)(()=>{X.removeItem(`frameConfig`),X.removeItem(`frameConfigTimestamp`),X.removeItem(`selectedFrame`),X.removeItem(`capturedPhotos`),X.removeItem(`capturedVideos`);try{let e=vF();console.log(` Loading custom frames...`),console.log(`  - Custom frames count:`,e.length),console.log(`  - Custom frames data:`,e),n(e)}catch(e){console.error(` Error loading custom frames:`,e),n([])}},[]),(0,Z.jsx)(`section`,{className:`min-h-screen bg-gradient-to-b from-[#fdf7f4] via-white to-[#f7f1ed] py-16`,children:(0,Z.jsxs)(`div`,{className:`container mx-auto px-4 max-w-7xl`,children:[(0,Z.jsxs)(`h2`,{className:`mb-8 text-center text-2xl font-bold text-slate-900 sm:text-3xl`,children:[`Pilihan Frame dari`,` `,(0,Z.jsx)(`span`,{className:`bg-gradient-to-r from-[#e0b7a9] to-[#c89585] bg-clip-text text-transparent`,children:`Admin Fremio`})]}),t.length>0?(0,Z.jsx)(`div`,{className:`grid grid-cols-4 gap-4 px-2 mb-12`,style:{display:`grid`,gridTemplateColumns:`repeat(4, 1fr)`,gap:`1rem`},children:t.map(t=>(0,Z.jsxs)(`div`,{className:`group relative flex flex-col gap-2 overflow-hidden rounded-lg border border-[#e0b7a9]/40 bg-white p-3 shadow-md transition-all duration-300 hover:-translate-y-1 hover:border-[#e0b7a9] hover:shadow-lg`,children:[(0,Z.jsx)(`div`,{className:`flex items-center justify-center overflow-hidden rounded-md bg-gray-50`,style:{height:`200px`,width:`100%`},children:(0,Z.jsx)(`img`,{src:t.imagePath||t.thumbnailUrl,alt:t.name,className:`object-contain transition-transform duration-300 group-hover:scale-105`,style:{height:`100%`,width:`100%`,objectFit:`contain`}})}),(0,Z.jsxs)(`div`,{className:`text-center`,children:[(0,Z.jsx)(`h4`,{className:`font-bold text-slate-900 truncate`,style:{fontSize:`12px`},children:t.name}),(0,Z.jsxs)(`p`,{className:`mt-1 text-slate-500`,style:{fontSize:`10px`},children:[t.maxCaptures,` captures`]})]}),t.description&&(0,Z.jsxs)(`div`,{className:`text-left px-1`,children:[(0,Z.jsx)(`p`,{className:`text-slate-600 leading-relaxed`,style:{fontSize:`10px`,display:`-webkit-box`,WebkitLineClamp:r[t.id]?`unset`:2,WebkitBoxOrient:`vertical`,overflow:`hidden`,textOverflow:`ellipsis`},children:t.description}),t.description.length>80&&(0,Z.jsx)(`button`,{onClick:e=>{e.stopPropagation(),a(t.id)},className:`mt-1 text-[#c89585] hover:text-[#e0b7a9] font-medium transition-colors`,style:{fontSize:`9px`},children:r[t.id]?`Show Less`:`Show More`})]}),(0,Z.jsx)(`div`,{className:`flex justify-center w-full`,children:(0,Z.jsxs)(`button`,{className:`group/btn relative overflow-hidden rounded-md border-2 border-slate-300 bg-white font-semibold text-slate-700 shadow-sm transition-all hover:border-slate-400 hover:shadow-md active:scale-95`,style:{fontSize:`11px`,padding:`8px 16px`},onClick:async()=>{await LF(t.id,null,t.name),await jF.setCustomFrame(t)===!1?alert(`Error: Gagal memilih frame`):e(`/take-moment`)},children:[(0,Z.jsx)(`span`,{className:`relative z-10`,children:`Lihat Frame`}),(0,Z.jsx)(`div`,{className:`absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-slate-100 to-transparent transition-transform duration-500 group-hover/btn:translate-x-full`})]})})]},t.id))}):(0,Z.jsxs)(`div`,{className:`mb-12 p-8 bg-gradient-to-br from-slate-50 to-gray-50 border-2 border-slate-200 rounded-xl text-center shadow-lg`,children:[(0,Z.jsx)(`div`,{className:`mb-6`,children:(0,Z.jsx)(`div`,{className:`inline-flex items-center justify-center w-20 h-20 bg-slate-100 rounded-full mb-4`,children:(0,Z.jsx)(`svg`,{className:`w-10 h-10 text-slate-400`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,Z.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z`})})})}),(0,Z.jsx)(`h3`,{className:`text-2xl font-bold text-slate-800 mb-3`,children:`Belum Ada Frame Tersedia`}),(0,Z.jsx)(`p`,{className:`text-base text-slate-600 mb-2 max-w-lg mx-auto leading-relaxed`,children:`Frame sedang dalam proses penambahan oleh admin.`}),(0,Z.jsx)(`p`,{className:`text-sm text-slate-500 max-w-md mx-auto`,children:`Silahkan kembali lagi nanti untuk melihat koleksi frame yang tersedia! `})]})]})})}var BF=u(_()),VF=(e,t=0)=>{if(typeof e==`number`&&Number.isFinite(e))return e;if(typeof e==`string`&&e.trim().length>0){let t=Number.parseFloat(e);if(Number.isFinite(t))return t}return t},HF=(e,t)=>{if(e==null)return t;let n=VF(e);return Number.isFinite(n)?n:t},UF=({version:e,sourceFrameId:t,sourceSignature:n,slotCount:r,slotOrder:i,minZIndex:a,maxZIndex:o})=>[`v${e}`,t??`unknown`,n??``,r??0,Array.isArray(i)?i.join(`,`):``,Number.isFinite(a)?a:``,Number.isFinite(o)?o:``].join(`|`);const WF=e=>{if(!e||typeof e!=`object`)return null;let t=Array.isArray(e.slots)?e.slots:[];if(t.length===0)return null;let n=[...t.map((e,t)=>{let n=HF(e?.zIndex,t);return{slotIndex:t,slotId:e?.id??`slot-${t}`,zIndex:n}})].sort((e,t)=>e.zIndex===t.zIndex?e.slotIndex-t.slotIndex:e.zIndex-t.zIndex),r=n.map(e=>e.slotIndex),i=n.reduce((e,t)=>(e[t.slotIndex]=t.zIndex,e),{}),a=n.map(e=>e.zIndex),o=a.reduce((e,t)=>t<e?t:e,1/0),s=a.reduce((e,t)=>t>e?t:e,-1/0),c=Number.isFinite(o)?o:null,l=Number.isFinite(s)?s:null,u=typeof e?.metadata?.signature==`string`?e.metadata.signature:null,d=e?.id??null,f={version:1,sourceFrameId:d,sourceSignature:u,slotCount:t.length,slotOrder:r,slots:n,zIndexLookup:i,minZIndex:c,maxZIndex:l,photoBaseZIndex:c,signature:null};return f.signature=UF({version:1,sourceFrameId:d,sourceSignature:u,slotCount:t.length,slotOrder:r,minZIndex:c,maxZIndex:l}),f},GF=(e={})=>{let{keepDraftId:t=!1,keepPhotos:n=!1,clearAll:r=!1}=e;console.log(` Clearing frame cache with options:`,e);let i=[`frameConfig`,`frameConfigTimestamp`,`selectedFrame`];(!n||r)&&i.push(`capturedPhotos`,`capturedVideos`),(!t||r)&&i.push(`activeDraftId`,`activeDraftSignature`),i.forEach(e=>{X.removeItem(e)}),console.log(` Frame cache cleared:`,i)},KF=(e=1440*60*1e3)=>{let t=X.getItem(`frameConfigTimestamp`);return t?Date.now()-parseInt(t)>e:!1},qF=()=>KF()?(console.log(` Frame cache is stale, clearing...`),GF({clearAll:!0}),!0):!1;var JF=`/fremio/assets/logo-DK_JQL-v.svg`,YF=`take-moment-mirrored-video-controls`,XF=`
  .mirrored-video-controls {
    transform: scaleX(-1);
    transform-origin: center;
  }

  .mirrored-video-controls::-webkit-media-controls-panel,
  .mirrored-video-controls::-webkit-media-controls-play-button,
  .mirrored-video-controls::-webkit-media-controls-volume-slider,
  .mirrored-video-controls::-webkit-media-controls-timeline,
  .mirrored-video-controls::-webkit-media-controls-current-time-display,
  .mirrored-video-controls::-webkit-media-controls-time-remaining-display,
  .mirrored-video-controls::-webkit-media-controls-mute-button,
  .mirrored-video-controls::-webkit-media-controls-fullscreen-button,
  .mirrored-video-controls::-webkit-media-controls-overlay-play-button,
  .mirrored-video-controls::-webkit-media-controls-start-playback-button,
  .mirrored-video-controls::-webkit-media-controls-seek-back-button,
  .mirrored-video-controls::-webkit-media-controls-seek-forward-button,
  .mirrored-video-controls::-webkit-media-controls-return-to-realtime-button,
  .mirrored-video-controls::-webkit-media-controls-toggle-closed-captions-button,
  .mirrored-video-controls::-webkit-media-controls-playback-rate-button {
    transform: scaleX(-1);
  }

  .mirrored-video-controls::-webkit-media-controls-panel {
    direction: ltr;
  }
`,ZF=[3,5,10],QF=480,$F=1,eI={3:{record:4,playback:4},5:{record:6,playback:6},10:{record:6,playback:6}},tI=e=>new Promise((t,n)=>{let r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}),nI=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768,rI=e=>{if(typeof e!=`string`)return null;let[t,n]=e.split(`,`);if(!n)return null;let r=t.match(/:(.*?);/)?.[1]||`image/jpeg`,i=atob(n),a=i.length,o=new Uint8Array(a);for(let e=0;e<a;e+=1)o[e]=i.charCodeAt(e);return new Blob([o],{type:r})},iI=(e,t=`image/jpeg`,n=.92)=>new Promise((r,i)=>{if(!e){i(Error(`Canvas element is not provided`));return}if(e.toBlob){e.toBlob(e=>{e?r(e):i(Error(`Failed to extract blob from canvas`))},t,n);return}try{let a=e.toDataURL(t,n),o=rI(a);if(!o){i(Error(`Failed to convert canvas data URL to blob`));return}r(o)}catch(e){i(e)}}),aI=e=>{if(e)try{URL.revokeObjectURL(e)}catch(e){console.warn(` Failed to revoke object URL`,e)}},oI=e=>typeof e==`string`&&e.startsWith(`blob:`),sI=async e=>{if(!e)throw Error(`Image blob is not available`);if(typeof window<`u`&&typeof window.createImageBitmap==`function`){let t=await window.createImageBitmap(e);return{source:t,width:t.width,height:t.height,cleanup:()=>{try{t.close?.()}catch(e){console.warn(` Failed to close ImageBitmap`,e)}}}}let t=URL.createObjectURL(e),n=new Image;return n.decoding=`async`,n.crossOrigin=`anonymous`,new Promise((e,r)=>{let i=(e=!0)=>{e&&aI(t),n.onload=null,n.onerror=null};n.onload=()=>{i(!1),e({source:n,width:n.naturalWidth,height:n.naturalHeight,cleanup:()=>{i(!0)}})},n.onerror=e=>{i(!0),r(e)},n.src=t})},cI=async(e,{maxWidth:t=600,maxHeight:n=600,quality:r=.8})=>{let{source:i,width:a,height:o,cleanup:s}=await sI(e);try{let e=t?t/a:1,s=n?n/o:1,c=Math.min(1,e,s),l=Math.max(1,Math.round(a*c)),u=Math.max(1,Math.round(o*c)),d=document.createElement(`canvas`);d.width=l,d.height=u;let f=d.getContext(`2d`,{alpha:!1,willReadFrequently:!1,desynchronized:!0});if(!f)throw Error(`Failed to obtain 2D context for photo compression`);f.imageSmoothingEnabled=!0,f.imageSmoothingQuality=`high`,f.drawImage(i,0,0,l,u);let p=await iI(d,`image/jpeg`,r);if(!p)throw Error(`Failed to produce compressed photo blob`);return{blob:p,width:l,height:u}}finally{s?.()}},lI=({photos:e=[],videos:t=[]})=>{let n=[...e,...t].filter(Boolean).reduce((e,t)=>typeof t==`string`?e+t.length*2:t?.dataUrl?e+t.dataUrl.length*2:typeof t?.sizeBytes==`number`&&Number.isFinite(t.sizeBytes)?e+t.sizeBytes:t?.blob&&typeof t.blob.size==`number`?e+t.blob.size:e,0),r=n/1024,i=r/1024;return{bytes:n,kb:r.toFixed(1),mb:i.toFixed(2)}},uI=({photos:e=[],videos:t=[]})=>{let n=e=>e.map(e=>{if(!e)return null;if(typeof e==`string`)return e;if(e?.dataUrl)return e.dataUrl;let t=typeof e?.sizeBytes==`number`?e.sizeBytes:e?.blob?.size??null;return{id:e.id??null,sizeBytes:t,mimeType:e.mimeType??null}}),r=X.estimateJSONBytes(n(e)),i=X.estimateJSONBytes(n(t)),a=r+i,o=a/1024,s=o/1024;return{bytes:a,kb:o.toFixed(1),mb:s.toFixed(2),breakdown:{photosBytes:r,videosBytes:i}}},dI=()=>{if(typeof window>`u`)return!1;let e=navigator.userAgent||navigator.vendor||window.opera,t=`ontouchstart`in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;return/android|iPad|iPhone|iPod/i.test(e)&&t},fI=async(e,t,n)=>{if(!e)return;let r=new Date().toISOString();try{let{default:i}=await w(async()=>{let{default:e}=await import(`./draftStorage-Mu7Ufi7a.js`);return{default:e}},[]),a=await i.getDraftById(e);if(!a){console.warn(` No existing draft found while persisting captured media`,{draftId:e});return}let o={...a,capturedPhotos:Array.isArray(t)?[...t]:[],capturedVideos:Array.isArray(n)?[...n]:[],lastCapturedAt:r};await i.saveDraft(o),console.log(` Captured media persisted to draft for recovery`,{draftId:e,photos:o.capturedPhotos.length,videos:o.capturedVideos.length,timestamp:r})}catch(t){console.warn(` Failed to persist captured media to draft fallback`,{draftId:e,error:t})}},pI=()=>{let[e,t]=(0,b.useState)(()=>dI());return(0,b.useEffect)(()=>{let e=()=>{t(dI()||window.innerWidth<=QF)};return window.addEventListener(`resize`,e),e(),()=>window.removeEventListener(`resize`,e)},[]),e},mI=(e,{quality:t=.8,maxWidth:n=600,maxHeight:r=600}={})=>new Promise((i,a)=>{try{let o=new Image;o.onload=()=>{let{width:e,height:a}=o;if(e>n||a>r){let t=Math.min(n/e,r/a);e=Math.round(e*t),a=Math.round(a*t)}let s=document.createElement(`canvas`);s.width=e,s.height=a;let c=s.getContext(`2d`);c.imageSmoothingEnabled=!0,c.imageSmoothingQuality=`high`,c.drawImage(o,0,0,e,a),i(s.toDataURL(`image/jpeg`,t))},o.onerror=a,o.src=e}catch(e){a(e)}}),hI=async(e,t)=>{let n=[];for(let r of e){let e=await mI(r,t);n.push(e)}return n},gI=()=>typeof crypto<`u`&&typeof crypto.randomUUID==`function`?crypto.randomUUID():`video-${Date.now()}-${Math.random().toString(36).slice(2,10)}`,_I=()=>typeof crypto<`u`&&typeof crypto.randomUUID==`function`?crypto.randomUUID():`photo-${Date.now()}-${Math.random().toString(36).slice(2,10)}`;function vI(){let e=Be(),t=pI(),{showToast:n}=JN(),r=(0,b.useRef)(null),i=(0,b.useRef)(null),a=(0,b.useRef)(null),o=(0,b.useRef)(null),s=(0,b.useRef)(null),c=(0,b.useRef)(null),l=(0,b.useRef)(null),u=(0,b.useRef)(null),d=(0,b.useRef)(null),f=(0,b.useRef)(`original`),p=(0,b.useRef)(`blur`),m=(0,b.useRef)(`#10B981`),h=(0,b.useRef)(null),g=(0,b.useRef)(null),_=(0,b.useRef)(!1),v=(0,b.useRef)(null),[y,x]=(0,b.useState)(!1),[S,C]=(0,b.useState)([]),[T,E]=(0,b.useState)([]),[D,O]=(0,b.useState)(!1),[k,A]=(0,b.useState)(null),[j,M]=(0,b.useState)(ZF[0]),[N,ee]=(0,b.useState)(null),[P,F]=(0,b.useState)(null),[I,te]=(0,b.useState)(`original`),[ne,re]=(0,b.useState)(null),[ie,L]=(0,b.useState)(!1),[R,ae]=(0,b.useState)(`blur`),[oe,se]=(0,b.useState)(`#10B981`),[ce,le]=(0,b.useState)(null),[ue,de]=(0,b.useState)(!1),fe=(0,b.useRef)(S),pe=(0,b.useRef)(T),me=(0,b.useRef)(0),he=(0,b.useRef)(null);(0,b.useEffect)(()=>{if(typeof document>`u`||document.getElementById(YF))return;let e=document.createElement(`style`);e.id=YF,e.textContent=XF,document.head.appendChild(e)},[]);let ge=(0,b.useCallback)(e=>{ee(t=>{let n=typeof e==`function`?e(t):e;return t?.previewUrl&&(!n||t.previewUrl!==n.previewUrl)&&aI(t.previewUrl),n??null})},[]),_e=(0,b.useCallback)(e=>{F(t=>{let n=typeof e==`function`?e(t):e;return t?.previewUrl&&(!n||t.previewUrl!==n.previewUrl)&&aI(t.previewUrl),n??null})},[]),z=(0,b.useCallback)(e=>{if(!e||typeof e==`string`)return;let t=e.previewUrl;t&&oI(t)&&aI(t)},[]),[ve,ye]=(0,b.useState)(!1),[be,xe]=(0,b.useState)(4/3),[Se,Ce]=(0,b.useState)(null),we=(0,b.useCallback)(e=>{if(e?.slots&&e.slots.length>0){let t=e.slots[0];if(t.aspectRatio&&typeof t.aspectRatio==`string`){let[e,n]=t.aspectRatio.split(`:`).map(Number);if(e&&n){let t=e/n;Ce(t),console.log(` Slot aspect ratio from string:`,t,`(${e}:${n})`);return}}if(t.width&&t.height){let e=t.width/t.height;Ce(e),console.log(` Slot aspect ratio from dimensions:`,e,`(${t.width} / ${t.height})`);return}}Ce(null),console.log(` No slots found, using default aspect ratio`)},[]),[B,Te]=(0,b.useState)(4),[Ee,De]=(0,b.useState)(!1),[Oe,ke]=(0,b.useState)(!1),[Ae,je]=(0,b.useState)(!1),[Me,Ne]=(0,b.useState)(!1),[Pe,Fe]=(0,b.useState)(null),[Ie,Le]=(0,b.useState)(!0),Re=(0,b.useRef)(null),ze=(0,b.useRef)(null),Ve=(0,b.useRef)({photos:null,videos:null}),He={fontFamily:`'Poppins', 'Inter', 'Helvetica Neue', sans-serif`,fontSize:`22px`,fontWeight:700,color:`#1E293B`,margin:0,lineHeight:1.4,letterSpacing:`-0.01em`},Ue={display:`block`},We={display:`flex`,alignItems:`center`,justifyContent:`center`,gap:`0.4rem`},Ge={height:`30px`,width:`auto`},Ke=(0,b.useCallback)(e=>Array.isArray(e)?e.map((e,t)=>{if(!e||!e.dataUrl)return null;let{id:n,dataUrl:r,mimeType:i,duration:a,timer:o,mirrored:s,requiresPreviewMirror:c,facingMode:l,sizeBytes:u,baseVideoIndex:d,recordedAt:f}=e;return{id:n||`video-${t}`,dataUrl:r,mimeType:i||`video/webm`,duration:a??null,timer:o??null,mirrored:!!s,requiresPreviewMirror:!!c,facingMode:l??null,sizeBytes:u??null,baseVideoIndex:d??t,recordedAt:f??null}}):[],[]),qe=(0,b.useCallback)(e=>{switch(e){case`Testframe4`:return{primary:{quality:.85,maxWidth:700,maxHeight:500},moderate:{quality:.75,maxWidth:600,maxHeight:450},emergency:{quality:.5,maxWidth:360,maxHeight:360}};case`Testframe2`:return{primary:{quality:.95,maxWidth:800,maxHeight:800},moderate:{quality:.6,maxWidth:400,maxHeight:400},emergency:{quality:.5,maxWidth:360,maxHeight:360}};default:return{primary:{quality:.75,maxWidth:500,maxHeight:500},moderate:{quality:.6,maxWidth:400,maxHeight:400},emergency:{quality:.5,maxWidth:360,maxHeight:360}}}},[]),Je=(0,b.useCallback)(()=>{Re.current&&typeof window<`u`&&typeof window.cancelIdleCallback==`function`&&window.cancelIdleCallback(Re.current),ze.current&&window.clearTimeout(ze.current),Re.current=null,ze.current=null},[]),Ye=(0,b.useCallback)(()=>{if(!X.isAvailable())return;let e=Ve.current;if(!e?.photos)return;let t=Array.isArray(e.photos)?e.photos.map(e=>{if(!e)return null;if(typeof e==`string`)return e;let{dataUrl:t,previewUrl:n}=e;return typeof t==`string`&&t.startsWith(`data:`)?t:typeof n==`string`&&n.startsWith(`data:`)?n:null}):[],r=Ke(Array.isArray(e.videos)?e.videos:[]),i=t.some(e=>typeof e==`string`&&e.startsWith(`data:`)),a=r.some(e=>typeof e?.dataUrl==`string`&&e.dataUrl.startsWith(`data:`));try{!i&&!a?(X.removeItem(`capturedPhotos`),X.removeItem(`capturedVideos`)):(X.setJSON(`capturedPhotos`,t),X.setJSON(`capturedVideos`,r))}catch(e){console.error(` Failed to persist captured media`,e),n({type:`error`,title:`Penyimpanan Penuh`,message:`Penyimpanan tidak tersedia. Silakan hapus beberapa foto atau kosongkan cache browser.`,action:{label:`Hapus Semua`,onClick:()=>{C([]),E([]),X.removeItem(`capturedPhotos`),X.removeItem(`capturedVideos`)}}})}finally{Ve.current={photos:null,videos:null}}},[Ke]),Xe=(0,b.useCallback)((e,t,{immediate:n=!1}={})=>{if(!X.isAvailable())return;Ve.current={photos:e,videos:t};let r=()=>{Je(),Ye()};if(n){r();return}typeof window<`u`&&typeof window.requestIdleCallback==`function`?(Je(),Re.current=window.requestIdleCallback(r,{timeout:120})):(Je(),ze.current=window.setTimeout(r,0))},[Je,Ye]),Ze=(0,b.useCallback)(()=>{Ve.current?.photos&&(Je(),Ye())},[Je,Ye]),Qe=(0,b.useCallback)(()=>{(Array.isArray(fe.current)?fe.current:[]).forEach(e=>z(e)),C([]),E([]),X.isAvailable()&&(Je(),Ve.current={photos:null,videos:null},X.removeItem(`capturedPhotos`),X.removeItem(`capturedVideos`))},[z,Je]),$e=(0,b.useCallback)(()=>{try{let e=X.getJSON(`capturedPhotos`,[]),t=X.getJSON(`capturedVideos`,[]),n=e.slice(0,B),r=t.slice(0,B);X.setJSON(`capturedPhotos`,n),X.setJSON(`capturedVideos`,r)}catch(e){console.warn(` Failed to clean up storage:`,e)}},[B]),et=(0,b.useCallback)(e=>{try{if(!e||typeof e!=`object`){X.removeItem(`frameLayerPlan`);return}let t=WF(e);if(!t){X.removeItem(`frameLayerPlan`);return}X.setJSON(`frameLayerPlan`,t)}catch(e){console.warn(` Failed to persist frame layer plan`,e)}},[]),tt=(0,b.useCallback)(()=>{if(o.current){try{o.current.stop?.()}catch(e){console.warn(` Error stopping active recording`,e)}o.current=null}i.current?.srcObject&&(i.current.srcObject.getTracks().forEach(e=>e.stop()),i.current.srcObject=null),a.current&&=(a.current.getTracks().forEach(e=>e.stop()),null),x(!1)},[]);(0,b.useEffect)(()=>{Qe(),qF();let e=X.getItem(`frameConfigTimestamp`),t=Date.now();if(e){let n=t-Number(e),r=n>3e5;console.log(` TakeMoment session check:`,{timestamp:new Date(Number(e)).toLocaleString(),ageMinutes:Math.round(n/1e3/60),isStale:r}),r&&(console.log(` Clearing stale frame session (>5 minutes old)`),X.removeItem(`frameConfig`),X.removeItem(`frameConfigTimestamp`),X.removeItem(`selectedFrame`))}else console.log(` No timestamp found, clearing old frame data`),X.removeItem(`frameConfig`),X.removeItem(`selectedFrame`);let n=X.getJSON(`frameConfig`),r=X.getItem(`activeDraftId`);if(console.log(` TakeMoment useEffect - checking frame sources:`,{hasStoredConfig:!!n,storedConfigId:n?.id,isCustomStored:n?.isCustom||n?.id?.startsWith(`custom-`),hasActiveDraftId:!!r,activeDraftId:r}),r){console.log(` activeDraftId found in initialization, loading custom frame from draft`),console.log(`   activeDraftId:`,r),console.log(`   storedConfig.id:`,n?.id),console.log(`   storedConfig.isCustom:`,n?.isCustom),(async()=>{try{let{default:e}=await w(async()=>{let{default:e}=await import(`./draftStorage-Mu7Ufi7a.js`);return{default:e}},[]),t=await e.getDraftById(r);if(t){console.log(` Draft loaded:`,{id:t.id,title:t.title,hasElements:!!t.elements,elementsCount:t.elements?.length});let{buildFrameConfigFromDraft:e}=await w(async()=>{let{buildFrameConfigFromDraft:e}=await import(`./draftHelpers-DCCf10Pn.js`);return{buildFrameConfigFromDraft:e}},[]),n=e(t);console.log(` Custom frame built from draft:`,{id:n.id,maxCaptures:n.maxCaptures,slotsCount:n.slots?.length,hasBackgroundPhoto:!!n.designer?.elements?.find(e=>e.type===`background-photo`)}),await jF.setFrame(n.id,{config:n,isCustom:!0}),Te(n.maxCaptures||1),console.log(` Set maxCaptures to:`,n.maxCaptures||1),we(n),et(n)}else console.error(` Draft not found:`,r),n?.maxCaptures&&Te(n.maxCaptures)}catch(e){console.error(` Failed to load draft:`,e),n?.maxCaptures&&Te(n.maxCaptures)}})();return}if(n?.id&&n.isCustom){console.log(` Using stored custom frame config from localStorage:`,n.id),jF.setFrame(n.id,{config:n,isCustom:!0}).then(()=>{let e=jF.getCurrentConfig();e?.maxCaptures?Te(e.maxCaptures):Te(4),we(e),et(e)});return}let i=jF.getCurrentConfig();console.log(` Checking frameProvider memory:`,{hasExistingConfig:!!i,existingFrameId:i?.id,isCustom:i?.id?.startsWith(`custom-`)}),i?.id?(console.log(` Using existing frame config from frameProvider:`,i.id),i?.maxCaptures?Te(i.maxCaptures):Te(4),we(i),et(i)):(console.log(` No frame in memory, loading from storage...`),jF.loadFrameFromStorage().catch(e=>{console.warn(` Failed to load frame from storage`,e)}).finally(()=>{let e=jF.getCurrentConfig();e?.maxCaptures?Te(e.maxCaptures):Te(4),we(e),et(e)}))},[Qe,et,we]),(0,b.useEffect)(()=>{Se!==null&&console.log(` Slot aspect ratio changed, container will update:`,Se)},[Se]),(0,b.useEffect)(()=>{if(!S.length)return;let e=lI({photos:S,videos:T}),t=uI({photos:S,videos:T});console.log(` Storage size`,{raw:e,projected:t})},[S,T]),(0,b.useEffect)(()=>{let e=me.current,n=S.length;if(me.current=n,B>0&&n>=B&&e<B&&n>0&&c.current){let e=c.current,n={behavior:`smooth`,block:t?`start`:`center`},r=()=>{try{e.scrollIntoView(n)}catch{try{e.scrollIntoView({behavior:`smooth`})}catch{e.scrollIntoView()}}};typeof window<`u`&&typeof window.requestAnimationFrame==`function`?window.requestAnimationFrame(r):r()}},[S.length,t,B]),(0,b.useEffect)(()=>{if(typeof window>`u`||!t)return;let e=he.current;if(he.current=y,!y||e===!0)return;let n=(e=`smooth`)=>{if(!s.current)return;let t=s.current.getBoundingClientRect(),n=window.scrollY+t.top-window.innerHeight/2+t.height/2;window.scrollTo({top:Math.max(n,0),behavior:e})},r=null,i=window.requestAnimationFrame(()=>{r=window.setTimeout(()=>n(`smooth`),60)});return()=>{window.cancelAnimationFrame(i),r&&window.clearTimeout(r)}},[y,t]),(0,b.useEffect)(()=>()=>{tt(),Ze()},[Ze,tt]),(0,b.useEffect)(()=>()=>{ge(null),_e(null)},[ge,_e]),(0,b.useEffect)(()=>{fe.current=S},[S]),(0,b.useEffect)(()=>{pe.current=T},[T]);let nt=(0,b.useMemo)(()=>Oe,[Oe]),rt=(0,b.useMemo)(()=>I===`blur`?!0:nt,[I,nt]);(0,b.useEffect)(()=>{if(f.current=I,p.current=R,m.current=oe,h.current=ce,ce&&R===`image`){let e=new Image;e.onload=()=>{g.current=e,console.log(` Background image cached:`,e.width,`x`,e.height)},e.onerror=()=>{console.error(` Failed to load background image`),g.current=null},e.src=ce}else g.current=null},[I,R,oe,ce]),(0,b.useEffect)(()=>{I!==`blur`&&de(!1)},[I]),(0,b.useEffect)(()=>{let e=!0,t=()=>{if(d.current&&cancelAnimationFrame(d.current),d.current=null,u.current){try{u.current.close()}catch{}u.current=null}_.current=!1};if(I===`original`){t(),re(null),L(!1),_.current=!1;return}return I===`blur`&&y&&(async()=>{if(typeof window>`u`)return;if(!y||!i.current){console.log(` Cannot init MediaPipe: cameraActive=`,y,`videoRef=`,!!i.current);return}console.log(` Starting MediaPipe initialization...`),_.current=!1,L(!0);let t=[{script:`https://cdn.jsdelivr.net/npm/@mediapipe/selfie_segmentation@0.1.1675465747/selfie_segmentation.js`,assetBase:`https://cdn.jsdelivr.net/npm/@mediapipe/selfie_segmentation@0.1.1675465747`},{script:`https://unpkg.com/@mediapipe/selfie_segmentation@0.1.1675465747/selfie_segmentation.js`,assetBase:`https://unpkg.com/@mediapipe/selfie_segmentation@0.1.1675465747`}],n=e=>new Promise((t,n)=>{if(window.__SELFIE_SEG_CTOR)return t(window.__SELFIE_SEG_CTOR);let r=window.SelfieSegmentation||window.selfieSegmentation,i=r?.SelfieSegmentation||r;if(typeof i==`function`)return window.__SELFIE_SEG_CTOR=i,window.__SELFIE_SEG_ASSET_BASE=window.__SELFIE_SEG_ASSET_BASE||e.assetBase,t(i);let a=document.querySelector(`script[data-selfie-segmentation="true"]`);if(a&&a.dataset.src===e.script){a.addEventListener(`load`,()=>{let r=window.SelfieSegmentation||window.selfieSegmentation,i=r?.SelfieSegmentation||r;typeof i==`function`?(window.__SELFIE_SEG_CTOR=i,window.__SELFIE_SEG_ASSET_BASE=e.assetBase,t(i)):n(Error(`SelfieSegmentation global not available after script load`))},{once:!0}),a.addEventListener(`error`,()=>{n(Error(`SelfieSegmentation script failed to load`))},{once:!0});return}let o=document.createElement(`script`);o.src=e.script,o.async=!0,o.crossOrigin=`anonymous`,o.dataset.selfieSegmentation=`true`,o.dataset.src=e.script,o.onload=()=>{let r=window.SelfieSegmentation||window.selfieSegmentation,i=r?.SelfieSegmentation||r;typeof i==`function`?(window.__SELFIE_SEG_CTOR=i,window.__SELFIE_SEG_ASSET_BASE=e.assetBase,t(i)):n(Error(`SelfieSegmentation global not available after script load`))},o.onerror=()=>n(Error(`SelfieSegmentation script failed to load`)),document.head.appendChild(o)});for(let r of t)try{console.log(` Loading MediaPipe from:`,r.script);let t=await Promise.race([n(r),new Promise((e,t)=>setTimeout(()=>t(Error(`CDN Timeout after 20s`)),2e4))]);if(!e){console.log(` Component unmounted, aborting MediaPipe init`);return}if(typeof t!=`function`){console.error(` Failed to resolve SelfieSegmentation constructor from script source`,r.script);continue}console.log(` MediaPipe module loaded successfully`);let a=new t({locateFile:e=>`${window.__SELFIE_SEG_ASSET_BASE||r.assetBase}/${e}`});if(a.setOptions({modelSelection:1,selfieMode:!1}),console.log(` MediaPipe options set (selfieMode: false for CSS mirror), attaching onResults...`),typeof a.initialize==`function`)try{await a.initialize(),console.log(` MediaPipe initialized base models`)}catch(e){console.warn(` MediaPipe initialize() warning:`,e?.message||e)}a.onResults(t=>{if(!e||!l.current||f.current===`original`)return;_.current||(_.current=!0,re(`mediapipe`),L(!1),console.log(` MediaPipe background ready`));let n=l.current,r=n.getContext(`2d`,{willReadFrequently:!0}),i=(e,t,n,r)=>{t&&e.drawImage(t,0,0,n,r)};if(!t.segmentationMask){console.warn(` MediaPipe returned empty segmentation mask`),_.current||L(!1);return}n.width!==t.image.width&&(n.width=t.image.width,n.height=t.image.height,console.log(` Canvas resized:`,n.width,`x`,n.height)),r.clearRect(0,0,n.width,n.height);let a=p.current,o=m.current,s=g.current;if(a===`blur`?(r.save(),r.filter=`blur(20px)`,i(r,t.image,n.width,n.height),r.restore()):a===`color`?(r.fillStyle=o,r.fillRect(0,0,n.width,n.height)):a===`image`&&s?i(r,s,n.width,n.height):(r.save(),r.filter=`blur(20px)`,i(r,t.image,n.width,n.height),r.restore()),t.segmentationMask){let e=v.current;e||(e=document.createElement(`canvas`),v.current=e),e.width!==n.width&&(e.width=n.width,e.height=n.height);let a=e.getContext(`2d`);a.clearRect(0,0,e.width,e.height),i(a,t.image,e.width,e.height),a.globalCompositeOperation=`destination-in`,i(a,t.segmentationMask,e.width,e.height),a.globalCompositeOperation=`source-over`,r.drawImage(e,0,0,n.width,n.height)}}),u.current=a;let o=async()=>{if(!(!e||!i.current||!u.current)&&f.current!==`original`){try{await u.current.send({image:i.current})}catch(e){console.error(`MediaPipe send error:`,e)}e&&f.current!==`original`&&(d.current=requestAnimationFrame(o))}};console.log(` MediaPipe initialized, starting processFrame loop`),o();return}catch(e){console.warn(` CDN failed:`,r.script,e.message),await new Promise(e=>setTimeout(e,2e3))}console.error(` All MediaPipe CDNs failed`),L(!1),re(null)})(),()=>{e=!1,t()}},[I,y,rt]);let it=S.length>=B,at=D||Ae||it,ot=e=>nI()?e<=4?12e5:e<=6?1e6:e<=8?8e5:6e5:e<=4?25e5:e<=6?2e6:e<=8?15e5:12e5,st=(e,t)=>{if(!e)return null;let n=e.id||gI(),r=e.blob instanceof Blob?e.blob:null,i=e.mimeType||r?.type||`video/webm`;return{id:n,blob:r,dataUrl:e.dataUrl??null,mimeType:i,duration:Number.isFinite(e.duration)?e.duration:null,timer:Number.isFinite(e.timer)?e.timer:null,mirrored:!!(e.mirrored??e.requiresPreviewMirror),requiresPreviewMirror:!!e.requiresPreviewMirror,facingMode:e.facingMode||null,sizeBytes:e.sizeBytes??(r?r.size:null),baseVideoIndex:e.baseVideoIndex??t,recordedAt:e.recordedAt??e.capturedAt??Date.now(),isConverting:!!(r&&!(e.dataUrl&&e.dataUrl.length>0)),conversionError:!1}},ct=()=>!ve||!N?null:(0,Z.jsx)(`div`,{style:{position:`fixed`,inset:0,background:`rgba(0,0,0,0.85)`,display:`flex`,alignItems:`center`,justifyContent:`center`,zIndex:1e3,padding:`1.5rem`},children:(0,Z.jsxs)(`div`,{style:{background:`#fff`,borderRadius:`18px`,width:`min(420px, 100%)`,maxHeight:`calc(100vh - 3rem)`,padding:`1.75rem`,boxShadow:`0 24px 48px rgba(0,0,0,0.25)`,display:`flex`,flexDirection:`column`,gap:`1.5rem`},children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,justifyContent:`center`,flexDirection:`column`,gap:`0.75rem`},children:[(0,Z.jsx)(`div`,{style:{fontSize:`1.4rem`,fontWeight:700,color:`#333`},children:` Foto berhasil diambil!`}),(0,Z.jsx)(`img`,{src:N.previewUrl||N.dataUrl||``,alt:`Captured`,style:{width:`100%`,maxHeight:`320px`,borderRadius:`12px`,objectFit:`contain`,boxShadow:`0 12px 24px rgba(0,0,0,0.2)`}}),Ae&&(0,Z.jsx)(`div`,{style:{fontSize:`0.95rem`,fontWeight:600,color:`#E8A889`},children:` Menyiapkan video, mohon tunggu sebentar...`})]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,gap:`1rem`,flexWrap:`wrap`,justifyContent:`center`},children:[(0,Z.jsx)(`button`,{onClick:_t,disabled:Ae,style:{flex:`1 1 120px`,padding:`0.85rem 1.5rem`,borderRadius:`999px`,border:`none`,background:Ae?`#6c757d`:`#28a745`,color:`#fff`,fontWeight:600,cursor:Ae?`not-allowed`:`pointer`,boxShadow:`0 16px 32px rgba(40,167,69,0.35)`},children:Ae?` Sedang menyiapkan...`:` Pilih`}),(0,Z.jsx)(`button`,{onClick:yt,disabled:Ae,style:{flex:`1 1 120px`,padding:`0.85rem 1.5rem`,borderRadius:`999px`,border:`none`,background:Ae?`#6c757d`:`#E8A889`,color:`#fff`,fontWeight:600,cursor:Ae?`not-allowed`:`pointer`,boxShadow:`0 16px 32px rgba(232,168,137,0.35)`},children:` Draft`}),(0,Z.jsx)(`button`,{onClick:vt,style:{flex:`1 1 120px`,padding:`0.85rem 1.5rem`,borderRadius:`999px`,border:`none`,background:`#6c757d`,color:`#fff`,fontWeight:600,cursor:`pointer`,boxShadow:`0 16px 32px rgba(108,117,125,0.35)`},children:` Ulangi`})]})]})}),lt=(0,b.useCallback)(async(e=`user`)=>{try{if(Fe(null),De(!0),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw Error(`Browser tidak mendukung akses kamera`);try{let e=(await navigator.mediaDevices.enumerateDevices()).filter(e=>e.kind===`videoinput`);if(console.log(` Available cameras:`,e.length,e),e.length===0)throw Error(`Tidak ada kamera yang terdeteksi di perangkat ini`)}catch(e){console.warn(` Could not enumerate devices:`,e)}let e;try{console.log(` Trying basic video request`),e=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}),console.log(` Camera started with basic constraints`)}catch(t){console.error(` Basic video failed:`,t.name,t.message);try{console.log(` Trying with resolution constraints`),e=await navigator.mediaDevices.getUserMedia({audio:!1,video:{width:640,height:480}}),console.log(` Camera started with resolution`)}catch(e){throw console.error(` Resolution constraints failed:`,e.name,e.message),e}}if(!e)throw Error(`Gagal mendapatkan stream kamera`);a.current=e,x(!0),setTimeout(()=>{i.current&&(i.current.srcObject=e,i.current.play().then(()=>{console.log(` Video playing`)}).catch(e=>{console.error(` video play failed`,e)}))},100)}catch(e){console.error(` Error accessing camera`,e),Fe(e.message),n({type:`error`,title:`Kamera Tidak Dapat Diakses`,message:e.message||`Pastikan izin kamera sudah diberikan di browser.`,action:{label:`Coba Lagi`,onClick:()=>window.location.reload()}})}finally{De(!1)}},[]),ut=(0,b.useCallback)(()=>{y?tt():lt(Oe?`environment`:`user`)},[y,Oe,lt,tt]),dt=(0,b.useCallback)(async()=>{if(!y||Ee)return;let e=!Oe;tt(),ke(e),await lt(e?`environment`:`user`)},[y,Oe,Ee,lt,tt]),ft=(0,b.useCallback)(async e=>{let t=Array.from(e.target.files||[]).filter(e=>e.type.startsWith(`image/`));if(!t.length){e.target.value=``;return}try{let e=(await Promise.all(t.map(async e=>{try{let t=URL.createObjectURL(e);return{id:_I(),blob:e,dataUrl:null,previewUrl:t,width:null,height:null,capturedAt:Date.now(),sizeBytes:typeof e.size==`number`?e.size:null,source:`upload`}}catch(e){return console.warn(` Failed to prepare uploaded photo preview`,e),null}}))).filter(Boolean);if(!e.length){n({type:`warning`,title:`Foto Tidak Valid`,message:`Tidak ada foto yang bisa diproses dari galeri. Pilih foto yang valid.`});return}let r=Math.max(0,B-S.length),i=r?e.slice(0,r):[];if((r?e.slice(r):e).forEach(e=>z(e)),!i.length){n({type:`warning`,title:`Batas Maksimal Tercapai`,message:`Maksimal ${B} foto untuk frame ini sudah tercapai.`,action:{label:`Hapus Foto`,onClick:()=>C([])}});return}let a=[...S,...i],o=(()=>{let e=[...T];for(;e.length<a.length;)e.push(null);return e.slice(0,a.length)})();C(a),E(o),Xe(a,o),n({type:`success`,title:`Foto Ditambahkan`,message:`${i.length} foto berhasil ditambahkan.`})}catch(e){console.error(` Failed to process uploaded photos`,e),n({type:`error`,title:`Upload Gagal`,message:`Gagal memproses foto dari galeri. Coba pilih file lain.`})}finally{e.target.value=``}},[S,T,z,B,Xe]),pt=()=>k?(0,Z.jsx)(`div`,{style:{position:`absolute`,inset:0,background:`rgba(0,0,0,0.7)`,display:`flex`,alignItems:`center`,justifyContent:`center`,borderRadius:`20px`,zIndex:10},children:(0,Z.jsx)(`span`,{style:{fontSize:`4rem`,fontWeight:`bold`,color:`white`,textShadow:`2px 2px 4px rgba(0,0,0,0.8)`},children:k})}):null,mt=(0,b.useCallback)(e=>{let t=a.current||i.current?.srcObject;if(!t)return console.warn(` No camera stream available for video recording`),null;let{record:n}=eI[e]||{record:e+1},r=e+$F,s=Math.max(0,r-n),c=t.clone(),l=()=>{c.getTracks().forEach(e=>{try{e.stop()}catch(e){console.warn(` Failed to stop recording track`,e)}})},u=[`video/webm;codecs=vp9`,`video/webm;codecs=vp8`,`video/webm`,`video/mp4;codecs=h264`].find(e=>{try{return e&&MediaRecorder.isTypeSupported(e)}catch{return!1}})||``,d=ot(n),f=c.getAudioTracks().length>0,p;try{let e=u?{mimeType:u,videoBitsPerSecond:d,...f?{audioBitsPerSecond:64e3}:{}}:{videoBitsPerSecond:d,...f?{audioBitsPerSecond:64e3}:{}};p=new MediaRecorder(c,e)}catch(e){console.warn(` Failed to create tuned MediaRecorder`,e);try{p=u?new MediaRecorder(c,{mimeType:u}):new MediaRecorder(c)}catch(e){return console.error(` Failed to create MediaRecorder`,e),l(),null}}let m=[],h,g,_=!1,v=!1,y,b={stop:()=>{if(g&&=(clearTimeout(g),null),h&&=(clearTimeout(h),null),!_){v=!0,l(),y?.(Error(`Recording cancelled before start`));return}if(v=!0,p.state!==`inactive`)try{p.stop()}catch(e){console.warn(` Error stopping recorder`,e)}},promise:null};b.promise=new Promise((t,r)=>{y=r,p.ondataavailable=e=>{e.data&&e.data.size>0?(m.push(e.data),(m.length===1||m.length%10==0)&&console.log(` Received video chunk: ${(e.data.size/1024).toFixed(2)}KB (total: ${m.length} chunks)`)):console.warn(` Received empty video chunk`)},p.onerror=e=>{console.error(` MediaRecorder error`,e.error||e),b.stop(),l(),r(e.error||Error(`MediaRecorder error`))},p.onstop=async()=>{v=!0;let i;try{let r=new Blob(m,{type:p.mimeType||u||`video/webm`});if(r.size<100)throw console.error(` Recorded video blob is too small:`,r.size,`bytes`),Error(`Invalid video blob: size is only ${r.size} bytes`);console.log(` Video blob created:`,{size:(r.size/1024).toFixed(2)+`KB`,type:r.type,chunkCount:m.length,recordDuration:n+`s`}),i=URL.createObjectURL(r);let a=await new Promise(e=>{let t=document.createElement(`video`);t.preload=`metadata`,t.muted=!0;let r=!1,a=()=>{r||(r=!0,t.onloadedmetadata=null,t.onloadeddata=null,t.onerror=null,t.src=``)};t.onloadedmetadata=()=>{let r=t.duration;Number.isFinite(r)&&r>0&&(a(),console.log(` Video duration validated:`,{actualDuration:r.toFixed(2)+`s`,expectedDuration:n+`s`}),e({isValid:!0,actualDuration:r}))},t.onloadeddata=()=>{let n=t.duration;Number.isFinite(n)&&n>0&&(a(),console.log(` Video duration validated (onloadeddata):`,{actualDuration:n.toFixed(2)+`s`}),e({isValid:!0,actualDuration:n}))},t.onerror=t=>{a(),console.warn(` Video validation error (non-critical):`,t),e({isValid:!0,actualDuration:n})},setTimeout(()=>{a(),console.warn(` Video validation timeout - using estimated duration`),e({isValid:!0,actualDuration:n})},2e3),t.src=i});console.log(` Video recording complete:`,{blobSize:(r.size/1024).toFixed(2)+`KB`,duration:(a.actualDuration||n).toFixed(2)+`s`,validated:a.isValid&&Number.isFinite(a.actualDuration)}),console.log(` Converting video blob to dataUrl...`);let o=new FileReader,c=await new Promise(e=>{o.onloadend=()=>{let t=o.result;console.log(` Video dataUrl created:`,{length:t?.length||0,preview:t?.substring(0,50)||`none`}),e(t)},o.onerror=()=>{console.warn(` Failed to convert blob to dataUrl, using blob only`),e(null)},o.readAsDataURL(r)});t({blob:r,dataUrl:c,previewUrl:i,mimeType:r.type||p.mimeType||u||`video/webm`,duration:Number.isFinite(a.actualDuration)?a.actualDuration:n,timer:e,actualDelay:s,facingMode:nt?`user`:`environment`,requiresPreviewMirror:nt,skipAutoMirror:nt,mirrored:!1,sizeBytes:r.size})}catch(e){i&&aI(i),r(e)}finally{l()}}});let x=()=>{if(!(_||v)){_=!0;try{p.start(100),console.log(` Recording started: ${n}s duration planned`);let e=Math.max(750,Math.round(n*1e3+500));g=setTimeout(()=>{p.state!==`inactive`&&(console.log(` Recording stopping after ${e}ms`),m.length===0&&console.error(` No video chunks received during recording!`),p.stop())},e)}catch(e){console.error(` Failed to start MediaRecorder`,e),l(),v=!0,y?.(e)}}};return s>0?h=setTimeout(x,s*1e3):x(),b.promise.finally(()=>{o.current===b&&(o.current=null)}),o.current=b,b},[nt]),ht=(0,b.useCallback)(async()=>{let e=ne===`mediapipe`&&l.current?l.current:i.current;if(!e)throw Error(`Video element is not ready for capture`);let t=i.current,n=t?.videoWidth||1280,r=t?.videoHeight||720,a=document.createElement(`canvas`);a.width=n,a.height=r;let o=a.getContext(`2d`);if(!o)throw Error(`Unable to access 2D context for capture canvas`);I===`blur`||nt?(o.save(),o.scale(-1,1),o.drawImage(e,-n,0,n,r),o.restore()):o.drawImage(e,0,0,n,r);let s=nI()?.75:.9,c=await iI(a,`image/jpeg`,s),u=URL.createObjectURL(c);console.log(` Converting photo blob to dataUrl...`);let d=new FileReader,f=await new Promise((e,t)=>{d.onloadend=()=>{let t=d.result;console.log(` Photo dataUrl created:`,{length:t?.length||0,preview:t?.substring(0,50)||`none`}),e(t)},d.onerror=()=>{console.warn(` Failed to convert photo blob to dataUrl`),t(Error(`FileReader error`))},d.readAsDataURL(c)}),p={blob:c,dataUrl:f,previewUrl:u,width:n,height:r,capturedAt:Date.now()};return ge(p),ye(!0),p},[ge,nt,ne,I]),gt=(0,b.useCallback)(()=>{if(!i.current||D||Ae)return;if(!y){n({type:`warning`,title:`Kamera Belum Aktif`,message:`Aktifkan kamera terlebih dahulu sebelum mengambil foto.`});return}if(it){n({type:`warning`,title:`Batas Maksimal`,message:`Maksimal ${B} foto sudah tercapai untuk frame ini!`,action:{label:`Reset`,onClick:()=>C([])}});return}let e=ZF.includes(j)?j:ZF[0];if(e!==j&&M(e),o.current){console.warn(` A recording is already in progress`);return}try{if(O(!0),_e(null),Ie){je(!0);let t=mt(e);t?t.promise.then(e=>{_e(e)}).catch(e=>{console.error(` Failed to record video`,e),n({type:`error`,title:`Perekaman Gagal`,message:`Perekaman video gagal. Silakan coba lagi.`,action:{label:`Coba Lagi`,onClick:gt}})}).finally(()=>{je(!1)}):je(!1)}else console.log(` Live Mode OFF - Skipping video recording`),je(!1)}catch(e){console.error(` Capture error:`,e),n({type:`error`,title:`Kesalahan Capture`,message:`Terjadi kesalahan saat mengambil foto. Silakan coba lagi.`}),O(!1),je(!1)}A(e);let t=setInterval(()=>{A(e=>e===null?null:e===1?(clearInterval(t),(async()=>{try{await ht()}catch(e){console.error(` Failed to capture photo`,e),n({type:`error`,title:`Capture Gagal`,message:`Gagal mengambil foto. Silakan coba lagi.`})}finally{O(!1)}})(),null):e-1)},1e3)},[D,ht,y,it,B,mt,j,Ae,_e,Ie]);(0,b.useEffect)(()=>{if(!y)return;let e=e=>{if(e.repeat||e.code!==`Space`&&e.key!==` `)return;let t=e.target,n=t?.tagName;n&&[`INPUT`,`TEXTAREA`,`SELECT`].includes(n)||t?.isContentEditable||(e.preventDefault(),gt())};return window.addEventListener(`keydown`,e),()=>window.removeEventListener(`keydown`,e)},[y,gt]);let _t=(0,b.useCallback)(async()=>{if(!N)return;if(Ae){n({type:`info`,title:`Tunggu Sebentar`,message:`Video masih diproses. Mohon tunggu beberapa detik lagi.`});return}if(Ie&&!P?.dataUrl&&!(P?.blob instanceof Blob)){n({type:`warning`,title:`Video Tidak Ditemukan`,message:`Silakan tunggu hingga proses selesai atau ambil ulang.`,action:{label:`Ambil Ulang`,onClick:()=>{ye(!1),ge(null),_e(null)}}});return}let e=N,t=P;(0,BF.flushSync)(()=>{ye(!1),ge(null),_e(null)});let r=!1,i=!1;try{if(nI()&&performance.memory&&console.log(` Memory before save:`,{used:`${(performance.memory.usedJSHeapSize/1024/1024).toFixed(2)}MB`,total:`${(performance.memory.totalJSHeapSize/1024/1024).toFixed(2)}MB`,limit:`${(performance.memory.jsHeapSizeLimit/1024/1024).toFixed(2)}MB`,photoCount:S.length+1}),!e.blob)throw Error(`Current photo blob is missing`);let a=URL.createObjectURL(e.blob),o=e.dataUrl;if(!o&&e.blob instanceof Blob)try{o=await tI(e.blob),console.log(` Photo dataUrl generated during save`,{length:o?.length||0})}catch(e){console.warn(` Failed to convert photo blob to dataUrl during save`,e)}let s={id:_I(),blob:e.blob,dataUrl:typeof o==`string`&&o.startsWith(`data:`)?o:null,previewUrl:a,width:e.width??null,height:e.height??null,capturedAt:e.capturedAt??Date.now(),sizeBytes:typeof e.blob.size==`number`?e.blob.size:null,source:`camera`};s.dataUrl||console.warn(` Photo entry missing dataUrl; fallback to preview URL only`);let c=Array.isArray(fe.current)?[...fe.current]:[],l=Array.isArray(pe.current)?[...pe.current]:[],u=[...c,s],d=u.slice(0,B);u.slice(B).forEach(e=>z(e));let f=d.findIndex(e=>e?.id===s.id),p=null;if(Ie&&(t?.blob||t?.dataUrl)){let e=t;if(!t.dataUrl&&t.blob instanceof Blob)try{let n=await tI(t.blob);e={...t,dataUrl:n},console.log(` Video dataUrl generated from blob`,{length:n?.length||0})}catch(e){console.error(` Failed to convert recorded video blob to dataUrl`,e),n({type:`error`,title:`Video Gagal Diproses`,message:`Silakan tunggu beberapa detik lalu pilih lagi atau ambil ulang.`,action:{label:`Ambil Ulang`,onClick:gt}});return}e?.dataUrl||console.warn(` Video source has no dataUrl even after conversion`);let r=f===-1?d.length-1:f;p=st(e,Math.max(0,r))}else Ie||console.log(` Live Mode OFF - No video to save`);!p&&Ie&&console.warn(` No video entry prepared; captured video may be missing`);let m=[...l];for(f===-1?m.push(p??null):m.splice(f,0,p??null);m.length<d.length;)m.push(null);let h=m.slice(0,d.length);fe.current=d,pe.current=h,C(d),E(h),Xe(d,h),i=!0,r=d.length>=B,nI()&&d.length>0&&(console.log(` Mobile memory cleanup after photo ${d.length}/${B}`),setTimeout(()=>{window.gc&&(window.gc(),console.log(` Manual GC triggered`))},100))}catch(r){console.error(` Error processing captured media`,r),n({type:`error`,title:`Proses Gagal`,message:`Gagal memproses foto. Silakan coba lagi.`,action:{label:`Coba Lagi`,onClick:_t}}),ge(e),_e(t),ye(!0);return}finally{i?(je(!1),y&&r&&tt()):je(!1)}},[y,fe,pe,N,P,Ae,st,B,ge,_e,z,Xe,tt,Ie]),vt=(0,b.useCallback)(()=>{ge(null),_e(null),je(!1),ye(!1)},[ge,_e]),yt=(0,b.useCallback)(async()=>{try{let{default:e}=await w(async()=>{let{default:e}=await import(`./draftStorage-Mu7Ufi7a.js`);return{default:e}},[]),t=jF.getCurrentConfig();if(!t){n({type:`error`,title:`Gagal Menyimpan`,message:`Frame tidak ditemukan.`});return}let r={frameConfig:t,capturedPhotos:[...S],capturedVideos:[...T],title:`Draft ${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await e.saveDraft(r),n({type:`success`,title:`Draft Tersimpan`,message:`Draft berhasil disimpan! Bisa dilanjutkan nanti.`}),ye(!1),ge(null),_e(null)}catch(e){console.error(`Failed to save draft:`,e),n({type:`error`,title:`Gagal Menyimpan`,message:`Terjadi kesalahan saat menyimpan draft.`})}},[S,T,n,ge,_e]),bt=(0,b.useCallback)(e=>{let t=S[e];z(t);let n=S.filter((t,n)=>n!==e),r=T.filter((t,n)=>n!==e).map((e,t)=>e?{...e,baseVideoIndex:e.baseVideoIndex??t}:null);C(n),E(r),Xe(n,r)},[S,T,z,Xe]),xt=(0,b.useCallback)(async()=>{if(S.length<B){n({type:`warning`,title:`Foto Belum Lengkap`,message:`Ambil ${B-S.length} foto lagi (${S.length}/${B}).`});return}Ne(!0);let t=Array.isArray(fe.current)?[...fe.current]:[],r=Array.isArray(pe.current)?[...pe.current]:[],i=!1,a=()=>{i||(i=!0,je(!0))},o=(e={})=>{i&&(i=!1,je(!1)),e.keepTransitionOverlay||Ne(!1)},s=jF.getCurrentFrameName(),c=qe(s),l=c?.primary??{quality:.8,maxWidth:600,maxHeight:600},u=c?.moderate??l,d=async e=>{let t=[];for(let n=0;n<e.length;n+=1){let r=e[n];if(!r){t.push(null);continue}if(typeof r==`string`){t.push({id:`photo-${n}`,dataUrl:r,previewUrl:r,blob:null,capturedAt:Date.now(),width:null,height:null,sizeBytes:r.length*2});continue}if(r.dataUrl){let e=r.previewUrl&&oI(r.previewUrl)&&r.previewUrl!==r.dataUrl;e&&aI(r.previewUrl),t.push({...r,blob:null,previewUrl:e?r.dataUrl:r.previewUrl||r.dataUrl,sizeBytes:typeof r.sizeBytes==`number`&&Number.isFinite(r.sizeBytes)?r.sizeBytes:r.dataUrl.length*2});continue}if(!r.blob)throw Error(`Photo ${n+1} tidak memiliki data untuk diproses.`);let i;try{i=await cI(r.blob,l)}catch(e){console.warn(` Gagal kompresi foto dengan profil utama, mencoba fallback`,e);try{i=await cI(r.blob,u)}catch(e){console.warn(` Fallback kompresi foto gagal, memakai blob asli`,e),i={blob:r.blob,width:r.width??null,height:r.height??null}}}let a=i?.blob??r.blob,o=await tI(a);r.previewUrl&&oI(r.previewUrl)&&aI(r.previewUrl),t.push({...r,dataUrl:o,previewUrl:o,blob:null,width:i?.width??r.width??null,height:i?.height??r.height??null,sizeBytes:typeof a.size==`number`?a.size:r.sizeBytes??null})}return t},f=async e=>{let t=[];for(let n=0;n<e.length;n+=1){let r=e[n];if(!r){t.push(null);continue}if(r.dataUrl){t.push({...r,blob:null,isConverting:!1,conversionError:!1,sizeBytes:typeof r.sizeBytes==`number`&&Number.isFinite(r.sizeBytes)?r.sizeBytes:r.dataUrl.length*2});continue}if(!r.blob)throw Error(`Video ${n+1} tidak memiliki data untuk diproses.`);try{let e=await tI(r.blob);t.push({...r,dataUrl:e,blob:null,isConverting:!1,conversionError:!1,sizeBytes:typeof r.sizeBytes==`number`?r.sizeBytes:r.blob.size??null})}catch(e){throw console.error(` Gagal mengonversi video untuk editor`,e),Error(`Video ${n+1} gagal diproses.`)}}return t};a();let p;try{p=await d(t),C(p),fe.current=p,Xe(p,r)}catch(e){console.error(` Gagal memproses foto sebelum masuk editor`,e),n({type:`error`,title:`Proses Foto Gagal`,message:`Mohon ulangi pengambilan atau coba lagi.`,action:{label:`Coba Lagi`,onClick:xt}}),o();return}if(p.some(e=>!e||!e.dataUrl)){n({type:`info`,title:`Masih Memproses`,message:`Foto masih diproses. Mohon tunggu sebentar dan coba lagi.`}),o();return}let m;try{m=await f(r),E(m),pe.current=m,Xe(p,m)}catch(e){console.error(` Gagal memproses video sebelum masuk editor`,e),n({type:`error`,title:`Proses Video Gagal`,message:e?.message||`Video gagal diproses. Silakan coba lagi.`,action:{label:`Coba Lagi`,onClick:xt}}),o();return}if(m.some(e=>e&&!e.dataUrl)){n({type:`info`,title:`Masih Memproses`,message:`Video masih diproses atau gagal tersimpan. Mohon tunggu sebentar dan coba lagi.`}),o();return}let h=jF.getCurrentConfig();console.log(` Frame config before editor navigation:`,{fromProvider:h?.id||`null`,fromStorage:X.getItem(`selectedFrame`),hasSlots:h?.slots?.length||0});let g=(e,t)=>!e||!e.dataUrl?null:{id:e.id||`video-${t}`,dataUrl:e.dataUrl,mimeType:e.mimeType||`video/webm`,duration:e.duration??null,timer:e.timer??null,mirrored:!!e.mirrored,requiresPreviewMirror:!!e.requiresPreviewMirror,facingMode:e.facingMode??null,sizeBytes:e.sizeBytes??null,baseVideoIndex:e.baseVideoIndex??t,recordedAt:e.recordedAt??null},_=(e,t)=>{let n=[...e];for(;n.length<t;)n.push(null);return n.slice(0,t).map((e,t)=>g(e,t))},v=(e,t)=>{let n=[...e],r=_(t,n.length);return{photos:n,videos:r}};try{let e=p.map(e=>e?.dataUrl??null);if(e.some(e=>!e))throw Error(`Foto tidak lengkap untuk disimpan.`);Ze(),$e();let t=v(e,m),n=lI(t);if(parseFloat(n.mb)>4){let t=await hI(e,{quality:s===`Testframe4`?.7:.6,maxWidth:s===`Testframe4`?500:400,maxHeight:400}),n=v(t,m);X.setJSON(`capturedPhotos`,n.photos),X.setJSON(`capturedVideos`,n.videos)}else X.setJSON(`capturedPhotos`,t.photos),X.setJSON(`capturedVideos`,t.videos);let r=X.getItem(`activeDraftId`);r&&await fI(r,t.photos,t.videos),console.log(` [SAVE DATA] Starting frame config save...`),console.log(`   Captured photos count:`,fe.current.length),console.log(`   Photos data preview:`,fe.current.map((e,t)=>({index:t,hasData:!!e,isString:typeof e==`string`,length:typeof e==`string`?e.length:`N/A`,preview:typeof e==`string`?e.substring(0,30)+`...`:`Not a string`})));let i=null;if(r)if(console.log(` CRITICAL: activeDraftId found, using custom frame from current session`),console.log(`   activeDraftId:`,r),i=h,console.log(`   frameProvider config ID:`,i?.id),!i||!i.id?.startsWith(`custom-`)){console.warn(` activeDraftId exists but frameProvider has wrong frame, rebuilding from draft...`);try{let{default:e}=await w(async()=>{let{default:e}=await import(`./draftStorage-Mu7Ufi7a.js`);return{default:e}},[]),t=await e.getDraftById(r);if(t){let{buildFrameConfigFromDraft:e}=await w(async()=>{let{buildFrameConfigFromDraft:e}=await import(`./draftHelpers-DCCf10Pn.js`);return{buildFrameConfigFromDraft:e}},[]);i=e(t),console.log(` Rebuilt custom frame from draft:`,i.id)}else console.error(` Draft not found:`,r)}catch(e){console.error(` Failed to rebuild from draft:`,e)}}else console.log(` Using custom frame from frameProvider:`,i.id);else console.log(` No activeDraftId, using regular frame`),i=X.getJSON(`frameConfig`),!i||!i.id?(console.warn(` No stored frameConfig, using frameProvider...`),i=h):console.log(` Using stored frameConfig (regular frame):`,i.id);if(i&&i.id)try{console.log(` Saving frame config before editor:`,i.id),X.setItem(`selectedFrame`,i.id);let e={...i,__timestamp:Date.now(),__savedFrom:`TakeMoment`};X.setJSON(`frameConfig`,e),X.setItem(`frameConfigTimestamp`,String(e.__timestamp)),console.log(` Frame config saved with timestamp:`,e.__timestamp)}catch(e){console.error(` QuotaExceededError when saving frame config`,e),console.warn(` Frame config too large for localStorage, EditPhoto will load from draft`),!X.getItem(`activeDraftId`)&&i.metadata?.draftId&&(X.setItem(`activeDraftId`,i.metadata.draftId),console.log(` Restored activeDraftId:`,i.metadata.draftId))}else console.error(` No valid frame config to save!`)}catch(e){console.error(` Gagal menyimpan data sebelum masuk editor`,e),n({type:`error`,title:`Penyimpanan Gagal`,message:e?.message||`Terjadi kesalahan saat menyiapkan data untuk editor.`,action:{label:`Coba Lagi`,onClick:xt}}),o();return}o({keepTransitionOverlay:!0}),tt();try{X.setItem(`editorAutoSelectFirstSlot`,`true`)}catch(e){console.warn(` Failed to set editor auto-select flag`,e)}console.log(` TAKEMOMENT: About to navigate to /edit-photo`),console.log(` Frame data verification:`),console.log(`  - frameProvider.getCurrentFrameName():`,jF.getCurrentFrameName()),console.log(`  - frameProvider.getCurrentConfig():`,jF.getCurrentConfig()),console.log(`  - localStorage selectedFrame:`,X.getItem(`selectedFrame`)),console.log(`  - localStorage frameConfig:`,X.getJSON(`frameConfig`)),console.log(`  - localStorage activeDraftId:`,X.getItem(`activeDraftId`));let y=X.getJSON(`frameConfig`);y&&(console.log(`  - Stored config details:`),console.log(`    - ID:`,y.id),console.log(`    - Slots:`,y.slots?.length),console.log(`    - Max captures:`,y.maxCaptures),console.log(`    - Has frameImage:`,!!y.frameImage),console.log(`    - Is custom:`,y.isCustom)),e(`/edit-photo`)},[S,fe,pe,$e,Ze,qe,B,e,Xe,tt]),St=()=>Me?(0,Z.jsx)(`div`,{style:{position:`fixed`,inset:0,background:`rgba(15,23,42,0.82)`,backdropFilter:`blur(6px)`,display:`flex`,alignItems:`center`,justifyContent:`center`,zIndex:9999,padding:`2rem`},children:(0,Z.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,alignItems:`center`,gap:`1rem`,padding:`2.25rem 2.75rem`,borderRadius:`28px`,background:`rgba(255,255,255,0.12)`,boxShadow:`0 24px 80px rgba(15,23,42,0.45)`,color:`white`,textAlign:`center`,maxWidth:`min(460px, 90vw)`},children:[(0,Z.jsx)(`div`,{style:{fontSize:`2.25rem`},children:``}),(0,Z.jsx)(`div`,{style:{fontSize:`1.25rem`,fontWeight:700,letterSpacing:`0.015em`},children:`Menyiapkan editor`}),(0,Z.jsx)(`div`,{style:{fontSize:`1rem`,lineHeight:1.5,opacity:.85},children:`Foto dan video kamu sedang diproses. Mohon tunggu sebentar sampai halaman editor siap.`})]})}):null,Ct=e=>{let t=e===`mobile`,n=S.map((e,t)=>({photo:e,idx:t})).filter(({photo:e})=>!!e).map(({photo:e,idx:t})=>{let n=typeof e==`string`?e:e.previewUrl||e.dataUrl||null;return n?{id:typeof e==`string`?`photo-${t}`:e.id||`photo-${t}`,src:n,index:t}:null}).filter(Boolean);return(0,Z.jsxs)(`div`,{style:t?{background:`#fff`,borderRadius:`14px`,padding:`0.75rem`,margin:`0 0 0.85rem`,minHeight:`220px`,display:`flex`,flexDirection:`column`,gap:`0.65rem`,width:`100%`,boxShadow:`none`}:{background:`rgba(232,168,137,0.24)`,borderRadius:`24px`,padding:`0.75rem 1rem`,minHeight:`150px`,width:`min(420px, 100%)`,display:`flex`,flexDirection:`column`,gap:`0.5rem`,boxShadow:`0 24px 48px rgba(232,168,137,0.22)`,border:`1px solid rgba(232,168,137,0.28)`,alignSelf:`center`},children:[(0,Z.jsxs)(`header`,{style:{display:`flex`,alignItems:`center`,justifyContent:`space-between`,gap:`0.75rem`},children:[(0,Z.jsx)(`h3`,{style:{fontSize:`1.05rem`,fontWeight:`bold`,color:`#333`,margin:0},children:`Preview`}),S.length>0&&(0,Z.jsxs)(`span`,{style:{fontSize:`0.85rem`,fontWeight:500,color:`#94a3b8`},children:[S.length,`/`,B]})]}),(0,Z.jsx)(`div`,{style:{flex:`1 1 auto`,display:`flex`,alignItems:`center`,justifyContent:`center`,width:`100%`},children:S.length>0?(0,Z.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:S.length>1?`repeat(auto-fit, minmax(110px, 1fr))`:`1fr`,gap:`0.45rem`,width:`100%`,maxWidth:t?`240px`:`100%`},children:n.map(({id:e,src:n,index:r})=>(0,Z.jsxs)(`div`,{style:{position:`relative`,aspectRatio:Se?`${Se} / 1`:`4 / 3`,borderRadius:`12px`,overflow:`hidden`,boxShadow:t?`0 2px 10px rgba(0,0,0,0.12)`:`0 10px 20px rgba(15,23,42,0.15)`,transition:`transform 0.2s ease`},children:[(0,Z.jsx)(`img`,{src:n,alt:`Photo ${r+1}`,style:{width:`100%`,height:`100%`,objectFit:`cover`}}),(0,Z.jsx)(`button`,{onClick:()=>bt(r),style:{position:`absolute`,top:`6px`,right:`6px`,width:`22px`,height:`22px`,borderRadius:`11px`,border:`none`,background:`rgba(255, 59, 48, 0.95)`,color:`white`,fontSize:`14px`,fontWeight:`bold`,cursor:`pointer`,display:`flex`,alignItems:`center`,justifyContent:`center`,boxShadow:`0 2px 8px rgba(0,0,0,0.25)`},title:`Hapus foto ${r+1}`,children:``})]},e))}):(0,Z.jsxs)(`div`,{style:{textAlign:`center`,color:`#999`,fontSize:t?`0.9rem`:`0.82rem`,display:`flex`,flexDirection:`column`,alignItems:`center`,gap:`0.5rem`},children:[(0,Z.jsx)(`div`,{style:{fontSize:t?`2.35rem`:`1.9rem`,lineHeight:1},children:``}),(0,Z.jsx)(`div`,{style:{fontWeight:500},children:`belum ada foto`}),(0,Z.jsx)(`div`,{style:{fontSize:t?`0.8rem`:`0.72rem`,color:`#666`},children:`ambil foto untuk melihat preview di sini`})]})}),(0,Z.jsx)(`button`,{onClick:xt,disabled:S.length<B,style:{width:`100%`,padding:t?`0.75rem`:`0.65rem`,background:S.length>=B?`#1E293B`:`#d7dde5`,color:`white`,border:`none`,borderRadius:`999px`,fontSize:t?`0.95rem`:`0.88rem`,fontWeight:600,cursor:S.length>=B?`pointer`:`not-allowed`,boxShadow:t?`0 8px 16px rgba(0,0,0,0.1)`:`0 14px 28px rgba(30,41,59,0.15)`,transition:`transform 0.2s ease`,opacity:S.length>=B?1:.7},children:S.length>=B?` Edit Photos`:` ${S.length}/${B} foto`})]})},wt=e=>{let t=e===`mobile`,n=t?`Pakai Kamera`:y?`Stop Camera`:`Camera`,i=y;return(0,Z.jsxs)(`div`,{style:t?{display:`grid`,gridTemplateColumns:`auto auto auto`,justifyContent:`center`,justifyItems:`center`,alignItems:`center`,columnGap:`1.05rem`,rowGap:`0.3rem`,marginBottom:`0.85rem`,width:`100%`}:{display:`grid`,gridTemplateColumns:`1fr auto 1fr`,alignItems:`center`,columnGap:`0.75rem`,marginBottom:`1rem`,width:`100%`},children:[(0,Z.jsx)(`input`,{ref:r,type:`file`,accept:`image/*`,multiple:!0,onChange:ft,style:{position:`absolute`,left:`-9999px`,opacity:0,pointerEvents:`none`}}),(0,Z.jsx)(`button`,{onClick:()=>{S.length>=B||r.current?.click()},disabled:S.length>=B,title:S.length>=B?`Maksimal foto sudah tercapai`:`Pilih file dari galeri`,style:{padding:t?`0.65rem 0.85rem`:`0.7rem 1.35rem`,background:S.length>=B?`#f1f5f9`:`#fff`,color:S.length>=B?`#94a3b8`:`#333`,border:`1px solid #e2e8f0`,borderRadius:`999px`,fontSize:t?`0.92rem`:`1rem`,fontWeight:500,cursor:S.length>=B?`not-allowed`:`pointer`,boxShadow:`0 12px 24px rgba(15,23,42,0.08)`,display:`flex`,alignItems:`center`,justifyContent:`center`,justifySelf:t?`center`:`start`,gridColumn:`1`},children:S.length>=B?`Max photos reached`:t?`Upload dari galeri`:`Choose file (${B-S.length} left)`}),i?(0,Z.jsxs)(`div`,{style:{display:`flex`,flexDirection:t?`column`:`row`,alignItems:`center`,gap:t?`0.3rem`:`0.5rem`,justifySelf:`center`,gridColumn:`2`,textAlign:t?`center`:`left`},children:[(0,Z.jsx)(`span`,{style:{fontSize:t?`0.88rem`:`0.95rem`,fontWeight:t?600:500,color:t?`#1E293B`:`#475569`},children:`Timer:`}),(0,Z.jsx)(`select`,{value:j,onChange:e=>M(Number(e.target.value)),disabled:D,style:{padding:t?`0.5rem 0.85rem`:`0.6rem 1rem`,borderRadius:`999px`,border:`1px solid #e2e8f0`,background:`#fff`,color:`#333`,fontSize:t?`0.95rem`:`1rem`,cursor:D?`not-allowed`:`pointer`,boxShadow:`0 12px 24px rgba(15,23,42,0.08)`,minWidth:t?`132px`:void 0},children:ZF.map(e=>(0,Z.jsxs)(`option`,{value:e,children:[e,` detik`]},e))}),(0,Z.jsx)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`0.5rem`,marginLeft:t?0:`0.5rem`},children:(0,Z.jsxs)(`label`,{style:{display:`flex`,alignItems:`center`,gap:`0.4rem`,cursor:`pointer`,fontSize:t?`0.88rem`:`0.95rem`,fontWeight:t?600:500,color:t?`#1E293B`:`#475569`},children:[(0,Z.jsx)(`input`,{type:`checkbox`,checked:Ie,onChange:e=>Le(e.target.checked),disabled:D,style:{width:`18px`,height:`18px`,cursor:D?`not-allowed`:`pointer`,accentColor:`#E8A889`}}),(0,Z.jsx)(`span`,{children:` Live Mode`})]})})]}):(0,Z.jsx)(`div`,{style:{gridColumn:`2`,justifySelf:`center`,minHeight:t?`48px`:0}}),(0,Z.jsxs)(`button`,{onClick:ut,style:{padding:t?`0.65rem 0.9rem`:`0.7rem 1.35rem`,background:y?`#E8A889`:`#fff`,color:y?`#fff`:`#333`,border:y?`1px solid #E8A889`:`1px solid #e2e8f0`,borderRadius:`999px`,fontSize:t?`0.92rem`:`1rem`,fontWeight:500,cursor:`pointer`,boxShadow:y?`0 16px 32px rgba(232,168,137,0.35)`:`0 12px 24px rgba(15,23,42,0.08)`,display:`flex`,alignItems:`center`,justifyContent:`center`,gap:`0.5rem`,justifySelf:t?`center`:`end`,gridColumn:`3`},children:[t&&(0,Z.jsx)(`span`,{role:`img`,"aria-hidden":`true`,children:``}),n]})]})},Tt=(e,t)=>{let n=e===`mobile`;return(0,Z.jsxs)(`div`,{style:{width:`100%`,display:`flex`,flexDirection:`column`,alignItems:`center`,gap:n?`12px`:`16px`},children:[(0,Z.jsx)(`div`,{ref:t,style:{background:`#fff`,borderRadius:n?`18px`:`20px`,overflow:`hidden`,position:`relative`,height:n?`min(400px, 60vh)`:Se?`500px`:`400px`,width:Se?`${500*Se}px`:n?`100%`:`640px`,maxWidth:`100%`,margin:`0 auto`,display:`flex`,alignItems:`center`,justifyContent:`center`},children:y?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(`video`,{ref:i,autoPlay:!0,playsInline:!0,muted:!0,style:{position:`absolute`,top:0,left:0,width:`100%`,height:`100%`,objectFit:`cover`,transform:rt?`scaleX(-1)`:`none`,background:`#000`,opacity:ne===`mediapipe`?0:1,transition:`opacity 200ms ease`,pointerEvents:ne===`mediapipe`?`none`:`auto`,zIndex:1},onLoadedMetadata:()=>{i.current&&xe(i.current.videoWidth/Math.max(i.current.videoHeight,1))},onError:e=>{console.error(` Video error`,e),Fe(`Video gagal dimuat`)}}),(0,Z.jsx)(`canvas`,{ref:l,style:{position:`absolute`,top:0,left:0,width:`100%`,height:`100%`,objectFit:`cover`,background:`#000`,transform:rt?`scaleX(-1)`:`none`,opacity:ne===`mediapipe`?1:0,transition:`opacity 200ms ease`,pointerEvents:`none`,zIndex:2}}),Pe&&(0,Z.jsxs)(`div`,{style:{position:`absolute `,bottom:n?`16px`:`24px`,left:`50%`,transform:`translateX(-50%)`,background:`rgba(255, 59, 48, 0.95)`,color:`#fff`,padding:`0.75rem 1rem`,borderRadius:`14px`,display:`flex`,alignItems:`center`,gap:`0.5rem`,boxShadow:`0 12px 32px rgba(0,0,0,0.25)`,maxWidth:`90%`,textAlign:`left`,fontSize:`0.95rem`},children:[(0,Z.jsx)(`span`,{role:`img`,"aria-label":`Camera error`,children:``}),(0,Z.jsx)(`span`,{children:Pe})]}),pt(),n&&y&&!Ee&&(0,Z.jsx)(`button`,{onClick:dt,style:{position:`absolute`,top:`14px`,right:`14px`,width:`44px`,height:`44px`,borderRadius:`22px`,border:`none`,background:`rgba(15,23,42,0.4)`,display:`flex`,alignItems:`center`,justifyContent:`center`,cursor:`pointer`},children:(0,Z.jsx)(`img`,{src:`/fremio/assets/flip-Cs2CzGrD.png`,alt:`Flip camera`,style:{width:`20px`,height:`20px`}})})]}):(0,Z.jsxs)(`div`,{style:{textAlign:`center`,color:`#94a3b8`,fontSize:`1.05rem`,display:`flex`,flexDirection:`column`,gap:`0.5rem`,alignItems:`center`,padding:`2.5rem 1rem`},children:[(0,Z.jsx)(`div`,{style:{fontSize:`3.5rem`,lineHeight:1},children:``}),(0,Z.jsx)(`div`,{style:{fontWeight:600},children:`Kamera belum aktif`}),(0,Z.jsx)(`div`,{style:{fontSize:`0.9rem`},children:`aktifkan kamera atau upload dari galeri`}),Pe&&(0,Z.jsx)(`div`,{style:{marginTop:`0.5rem`,background:`rgba(255, 59, 48, 0.1)`,border:`1px solid rgba(255, 59, 48, 0.3)`,color:`#ef4444`,borderRadius:`10px`,padding:`0.5rem 0.75rem`,fontSize:`0.85rem`,lineHeight:1.4,maxWidth:`320px`},children:Pe})]})}),y&&!Ee&&(0,Z.jsxs)(`div`,{style:{display:`flex`,gap:`10px`,background:`rgba(15,23,42,0.9)`,padding:n?`8px 12px`:`10px 16px`,borderRadius:`999px`,boxShadow:`0 12px 32px rgba(15,23,42,0.25)`},children:[(0,Z.jsx)(`button`,{onClick:()=>{te(`original`),de(!1)},disabled:D,style:{padding:n?`8px 14px`:`10px 18px`,borderRadius:`18px`,border:`none`,background:I===`original`?`#8B5CF6`:`transparent`,color:`#fff`,fontSize:`14px`,fontWeight:600,cursor:D?`not-allowed`:`pointer`,opacity:D?.5:1,transition:`background 0.2s ease`},children:` Normal`}),(0,Z.jsxs)(`button`,{onClick:()=>{te(`blur`),de(!0)},disabled:D||ie,style:{padding:n?`8px 14px`:`10px 18px`,borderRadius:`18px`,border:`none`,background:I===`blur`?`#8B5CF6`:`transparent`,color:`#fff`,fontSize:`14px`,fontWeight:600,cursor:D||ie?`not-allowed`:`pointer`,opacity:D||ie?.5:1,transition:`background 0.2s ease`,display:`flex`,alignItems:`center`,gap:`6px`},children:[` Background`,ie&&(0,Z.jsx)(`span`,{style:{fontSize:`10px`},children:``})]})]}),y&&!Ee&&I===`blur`&&!ie&&ne===`mediapipe`&&(0,Z.jsx)(Z.Fragment,{children:ue?(0,Z.jsxs)(`div`,{style:{width:`100%`,maxWidth:n?`100%`:`640px`,background:`rgba(15,23,42,0.95)`,backdropFilter:`blur(16px)`,padding:n?`14px`:`18px`,borderRadius:`20px`,boxShadow:`0 18px 36px rgba(15,23,42,0.3)`},children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,justifyContent:`space-between`,marginBottom:`12px`,color:`#A78BFA`,fontSize:`13px`,fontWeight:600},children:[(0,Z.jsx)(`span`,{children:` Background Options`}),(0,Z.jsx)(`button`,{onClick:()=>de(!1),style:{background:`rgba(255,255,255,0.1)`,border:`none`,color:`#fff`,borderRadius:`12px`,padding:`6px 10px`,fontSize:`12px`,cursor:`pointer`},children:` Tutup`})]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,gap:`8px`,marginBottom:`12px`},children:[(0,Z.jsx)(`button`,{onClick:()=>ae(`blur`),disabled:D,style:{flex:1,padding:`8px 12px`,borderRadius:`12px`,border:`none`,background:R===`blur`?`#8B5CF6`:`rgba(255,255,255,0.1)`,color:`#fff`,fontSize:`13px`,fontWeight:600,cursor:D?`not-allowed`:`pointer`,opacity:D?.5:1},children:` Blur`}),(0,Z.jsx)(`button`,{onClick:()=>ae(`color`),disabled:D,style:{flex:1,padding:`8px 12px`,borderRadius:`12px`,border:`none`,background:R===`color`?`#8B5CF6`:`rgba(255,255,255,0.1)`,color:`#fff`,fontSize:`13px`,fontWeight:600,cursor:D?`not-allowed`:`pointer`,opacity:D?.5:1},children:` Color`}),(0,Z.jsx)(`button`,{onClick:()=>ae(`image`),disabled:D,style:{flex:1,padding:`8px 12px`,borderRadius:`12px`,border:`none`,background:R===`image`?`#8B5CF6`:`rgba(255,255,255,0.1)`,color:`#fff`,fontSize:`13px`,fontWeight:600,cursor:D?`not-allowed`:`pointer`,opacity:D?.5:1},children:` Image`})]}),R===`color`&&(0,Z.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(6, 1fr)`,gap:`8px`},children:[`#FFFFFF`,`#000000`,`#EC4899`,`#3B82F6`,`#8B5CF6`,`#10B981`,`#F59E0B`,`#EF4444`,`#6B7280`,`#14B8A6`,`#F97316`,`#6366F1`].map(e=>(0,Z.jsx)(`button`,{onClick:()=>se(e),disabled:D,style:{width:`100%`,aspectRatio:`1`,background:e,border:oe===e?`3px solid #A78BFA`:`2px solid rgba(255,255,255,0.2)`,borderRadius:`10px`,cursor:D?`not-allowed`:`pointer`,opacity:D?.5:1}},e))}),R===`image`&&(0,Z.jsx)(`div`,{children:(0,Z.jsx)(`input`,{type:`file`,accept:`image/*`,disabled:D,onChange:e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onload=e=>le(e.target?.result),e.readAsDataURL(t)}},style:{padding:`8px`,background:`rgba(255,255,255,0.1)`,border:`2px dashed rgba(255,255,255,0.3)`,borderRadius:`10px`,color:`#fff`,fontSize:`13px`,cursor:D?`not-allowed`:`pointer`,opacity:D?.5:1,width:`100%`}})})]}):(0,Z.jsx)(`button`,{onClick:()=>de(!0),style:{background:`rgba(15,23,42,0.85)`,color:`#E2E8F0`,border:`none`,borderRadius:`14px`,padding:`10px 16px`,display:`flex`,alignItems:`center`,gap:`8px`,boxShadow:`0 12px 28px rgba(15,23,42,0.25)`,cursor:`pointer`},children:` Buka pengaturan background`})})]})},Et=e=>{let t=e===`mobile`,n=at||!y;return t?(0,Z.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,alignItems:`center`,justifyContent:`center`,gap:`0.65rem`,padding:`0.95rem 0`},children:[(0,Z.jsxs)(`div`,{style:{fontSize:`0.9rem`,fontWeight:600,color:it?`#ef4444`:`#475569`,textAlign:`center`},children:[`Foto: `,S.length,`/`,B,it&&` - maksimal tercapai!`]}),(0,Z.jsx)(`button`,{onClick:gt,disabled:n,style:{width:`80px`,height:`80px`,borderRadius:`50%`,border:`none`,background:n?`#e2e8f0`:`#E8A889`,color:`white`,fontSize:`1.4rem`,fontWeight:700,boxShadow:n?`none`:`0 20px 40px rgba(232,168,137,0.4)`,cursor:n?`not-allowed`:`pointer`,display:`flex`,alignItems:`center`,justifyContent:`center`},children:S.length>=B?``:D?` ${k??j}s`:Ae?``:y?``:``})]}):(0,Z.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,alignItems:`center`,justifyContent:`center`,gap:`0.6rem`,padding:`1rem 0 0.35rem`},children:[(0,Z.jsx)(`button`,{onClick:gt,disabled:n,style:{padding:`0.85rem 1.9rem`,borderRadius:`999px`,border:`none`,background:n?`#e2e8f0`:`#1E293B`,color:n?`#94a3b8`:`#fff`,fontSize:`1.05rem`,fontWeight:600,cursor:n?`not-allowed`:`pointer`,boxShadow:n?`none`:`0 18px 36px rgba(15,23,42,0.2)`,minWidth:`200px`,transition:`transform 0.2s ease, box-shadow 0.2s ease`},children:n&&!y?`Aktifkan kamera`:`Capture`}),(0,Z.jsx)(`div`,{style:{fontSize:`0.9rem`,color:`#475569`,fontWeight:500,textAlign:`center`},children:`Tekan spasi untuk capture`}),(0,Z.jsxs)(`div`,{style:{fontSize:`0.95rem`,fontWeight:600,color:it?`#ef4444`:`#475569`,textAlign:`center`},children:[`Foto: `,S.length,`/`,B,it&&` - maksimal tercapai!`]})]})};return(0,Z.jsxs)(Z.Fragment,{children:[t?(()=>(0,Z.jsxs)(`main`,{style:{minHeight:`100vh`,background:`#F4E6DA`,display:`flex`,flexDirection:`column`},children:[(0,Z.jsxs)(`section`,{style:{flex:`1 1 auto`,display:`flex`,flexDirection:`column`,padding:`0.7rem 0.75rem 0.85rem`,gap:`0.85rem`},children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`0.4rem`,alignItems:`center`,textAlign:`center`},children:[(0,Z.jsxs)(`button`,{type:`button`,onClick:()=>e(`/frames`),style:{alignSelf:`flex-start`,display:`inline-flex`,alignItems:`center`,gap:`0.35rem`,padding:`0.45rem 0.95rem`,borderRadius:`999px`,border:`none`,background:`#fff`,color:`#1E293B`,fontWeight:600,fontSize:`0.9rem`,boxShadow:`0 12px 24px rgba(15,23,42,0.12)`,cursor:`pointer`,marginBottom:`1.35rem`},children:[(0,Z.jsx)(`span`,{style:{fontSize:`0.95rem`},children:``}),(0,Z.jsx)(`span`,{children:`Kembali`})]}),(0,Z.jsxs)(`h1`,{style:{...He,marginTop:`0.1rem`},children:[(0,Z.jsx)(`span`,{style:Ue,children:`Pilih momen berhargamu`}),(0,Z.jsxs)(`span`,{style:We,children:[`bersama`,(0,Z.jsx)(`img`,{src:JF,alt:`Fremio`,style:Ge})]})]})]}),(0,Z.jsxs)(`div`,{style:{background:`rgba(255,255,255,0.6)`,borderRadius:`22px`,padding:`0.95rem`,display:`flex`,flexDirection:`column`,gap:`0.9rem`,boxShadow:`0 30px 60px rgba(148,163,184,0.25)`},children:[wt(`mobile`),Tt(`mobile`,s),Et(`mobile`)]}),(0,Z.jsx)(`div`,{ref:c,style:{width:`100%`},children:Ct(`mobile`)})]}),ct()]}))():(()=>{let t=Et(`desktop`);return(0,Z.jsxs)(`main`,{style:{minHeight:`100vh`,background:`#F4E6DA`,padding:`2rem`,display:`flex`,flexDirection:`column`,gap:`1.2rem`},children:[(0,Z.jsx)(`section`,{style:{background:`rgba(255,255,255,0.6)`,borderRadius:`28px`,padding:`2rem`,display:`flex`,justifyContent:`center`,boxShadow:`0 40px 80px rgba(148,163,184,0.25)`},children:(0,Z.jsxs)(`div`,{style:{width:`min(1100px, 100%)`,display:`flex`,flexDirection:`column`,gap:`1.25rem`,alignItems:`center`},children:[(0,Z.jsxs)(`div`,{style:{width:`100%`,display:`flex`,flexDirection:`column`,alignItems:`center`,justifyContent:`center`,gap:`0.35rem`,textAlign:`center`},children:[(0,Z.jsxs)(`button`,{type:`button`,onClick:()=>e(`/frames`),style:{alignSelf:`flex-start`,display:`inline-flex`,alignItems:`center`,gap:`0.4rem`,padding:`0.55rem 1.1rem`,borderRadius:`999px`,border:`none`,background:`#fff`,color:`#1E293B`,fontWeight:600,fontSize:`0.95rem`,cursor:`pointer`,boxShadow:`0 14px 28px rgba(15,23,42,0.12)`,transition:`transform 0.15s ease, box-shadow 0.15s ease`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-1px)`,e.currentTarget.style.boxShadow=`0 18px 32px rgba(15,23,42,0.18)`},onMouseLeave:e=>{e.currentTarget.style.transform=`none`,e.currentTarget.style.boxShadow=`0 14px 28px rgba(15,23,42,0.12)`},children:[(0,Z.jsx)(`span`,{style:{fontSize:`1rem`},children:``}),(0,Z.jsx)(`span`,{children:`Kembali`})]}),(0,Z.jsxs)(`h1`,{style:He,children:[(0,Z.jsx)(`span`,{style:Ue,children:`Pilih momen berhargamu`}),(0,Z.jsxs)(`span`,{style:We,children:[`bersama`,(0,Z.jsx)(`img`,{src:JF,alt:`Fremio`,style:Ge})]})]})]}),(0,Z.jsx)(`div`,{style:{width:`100%`,maxWidth:`640px`},children:wt(`desktop`)}),(0,Z.jsx)(`div`,{style:{width:`100%`,maxWidth:`820px`},children:Tt(`desktop`,s)}),(0,Z.jsx)(`div`,{style:{width:`100%`,maxWidth:`640px`},children:t}),(0,Z.jsx)(`div`,{ref:c,style:{width:`100%`,display:`flex`,justifyContent:`center`},children:Ct(`desktop`)})]})}),ct()]})})(),St()]})}function yI(){let e=(e,t=200,n=150)=>{let r=document.createElement(`canvas`);r.width=t,r.height=n;let i=r.getContext(`2d`);return i.fillStyle=e,i.fillRect(0,0,t,n),i.fillStyle=`white`,i.font=`20px Arial`,i.textAlign=`center`,i.fillText(`Sample Photo`,t/2,n/2),r.toDataURL(`image/png`)},t=[e(`#ff6b6b`),e(`#4ecdc4`),e(`#45b7d1`)];X.setJSON(`capturedPhotos`,t);let n={id:`test-sample-frame`,name:`Test Sample Frame`,imagePath:`https://via.placeholder.com/1080x1920/2563eb/ffffff?text=SAMPLE+FRAME`,maxCaptures:3,slots:[{left:.1,top:.2,width:.35,height:.25,photoIndex:0},{left:.55,top:.2,width:.35,height:.25,photoIndex:1},{left:.325,top:.55,width:.35,height:.25,photoIndex:2}],category:`test`,createdAt:Date.now()};return CF(n),X.setJSON(`selectedFrame`,{id:n.id,name:n.name,type:`custom`}),console.log(` Sample data created:`),console.log(`- 3 sample photos stored in capturedPhotos`),console.log(`- Test custom frame added:`,n.name),console.log(`- Frame selected for testing`),{photos:t,frame:n,frameId:n.id}}function bI(){X.removeItem(`capturedPhotos`),X.removeItem(`selectedFrame`),X.removeItem(`frameConfig`),X.removeItem(`frameSlots`),console.log(` Test data cleared from localStorage`)}var xI=`fremio-storage`,SI=1,CI=`drafts`,wI=null,TI=()=>new Promise((e,t)=>{if(wI){e(wI);return}if(!window.indexedDB){t(Error(`IndexedDB not supported in this browser`));return}let n=indexedDB.open(xI,SI);n.onerror=()=>{console.error(` IndexedDB failed to open:`,n.error),t(n.error)},n.onsuccess=()=>{wI=n.result,console.log(` IndexedDB initialized successfully`),e(wI)},n.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains(CI)||(t.createObjectStore(CI,{keyPath:`id`}).createIndex(`updatedAt`,`updatedAt`,{unique:!1}),console.log(` IndexedDB object store created`))}});const EI=async()=>{try{let e=await TI();return new Promise((t,n)=>{let r=e.transaction([CI],`readonly`).objectStore(CI).getAll();r.onsuccess=()=>{let e=r.result||[];console.log(` IndexedDB: Loaded drafts:`,e.length),t(e)},r.onerror=()=>{console.error(` IndexedDB: Failed to get drafts:`,r.error),n(r.error)}})}catch(e){return console.error(` IndexedDB: getAllDrafts failed:`,e),[]}},DI=async e=>{try{let t=await TI();return new Promise((n,r)=>{let i=t.transaction([CI],`readonly`).objectStore(CI).get(e);i.onsuccess=()=>{let t=i.result||null;console.log(` IndexedDB: Get draft:`,e,t?`found`:`not found`),n(t)},i.onerror=()=>{console.error(` IndexedDB: Failed to get draft:`,i.error),r(i.error)}})}catch(e){return console.error(` IndexedDB: getDraft failed:`,e),null}},OI=async e=>{try{let t=await TI(),n=JSON.stringify(e),r=Math.round(n.length/1024),i=(n.length/1024/1024).toFixed(2);return console.log(` IndexedDB: Saving draft:`,{id:e.id,sizeKB:r+` KB`,sizeMB:i+` MB`,hasBackground:!!e.elements?.find(e=>e.type===`background-photo`)}),new Promise((n,r)=>{let i=t.transaction([CI],`readwrite`).objectStore(CI).put(e);i.onsuccess=()=>{console.log(` IndexedDB: Draft saved successfully:`,e.id),n(e)},i.onerror=()=>{console.error(` IndexedDB: Failed to save draft:`,i.error),r(i.error)}})}catch(e){throw console.error(` IndexedDB: saveDraft failed:`,e),e}},kI=async e=>{try{let t=await TI();return new Promise((n,r)=>{let i=t.transaction([CI],`readwrite`).objectStore(CI).delete(e);i.onsuccess=()=>{console.log(` IndexedDB: Draft deleted:`,e),n(!0)},i.onerror=()=>{console.error(` IndexedDB: Failed to delete draft:`,i.error),r(i.error)}})}catch(e){return console.error(` IndexedDB: deleteDraft failed:`,e),!1}},AI=async()=>{try{let e=await TI();return new Promise((t,n)=>{let r=e.transaction([CI],`readwrite`).objectStore(CI).clear();r.onsuccess=()=>{console.log(` IndexedDB: All drafts cleared`),t(!0)},r.onerror=()=>{console.error(` IndexedDB: Failed to clear drafts:`,r.error),n(r.error)}})}catch(e){return console.error(` IndexedDB: clearAllDrafts failed:`,e),!1}},jI=async()=>{try{if(!navigator.storage||!navigator.storage.estimate)return{usage:0,quota:0,percentage:0};let e=await navigator.storage.estimate(),t=e.usage||0,n=e.quota||0,r=n>0?Math.round(t/n*100):0;return console.log(` IndexedDB Storage:`,{usageMB:(t/1024/1024).toFixed(2)+` MB`,quotaMB:(n/1024/1024).toFixed(2)+` MB`,percentage:r+`%`}),{usage:t,quota:n,percentage:r}}catch(e){return console.error(` Failed to get storage estimate:`,e),{usage:0,quota:0,percentage:0}}};var MI={getAllDrafts:EI,getDraft:DI,saveDraft:OI,deleteDraft:kI,clearAllDrafts:AI,getStorageEstimate:jI};const NI=async(e,t)=>{try{if(!e||!t?.id)return console.error(` Invalid userId or draft`),!1;let n=Rv(tS,`users/${e}/drafts/${t.id}`);return await Wy(n,{...t,syncedAt:Xy(),userId:e},{merge:!0}),console.log(` Draft saved to cloud:`,t.id),!0}catch(e){return console.error(` Error saving draft to cloud:`,e),!1}},PI=async e=>{try{if(!e)return console.error(` Invalid userId`),[];let t=Lv(tS,`users/${e}/drafts`),n=Ty(t,Ay(`updatedAt`,`desc`)),r=(await Uy(n)).docs.map(e=>({...e.data(),createdAt:e.data().createdAt?.toDate?.()?.toISOString()||e.data().createdAt,updatedAt:e.data().updatedAt?.toDate?.()?.toISOString()||e.data().updatedAt,syncedAt:e.data().syncedAt?.toDate?.()?.toISOString()||e.data().syncedAt}));return console.log(` Loaded ${r.length} drafts from cloud`),r}catch(e){return console.error(` Error getting drafts from cloud:`,e),[]}},FI=async(e,t)=>{try{if(!e||!t)return console.error(` Invalid userId or draftId`),!1;let n=Rv(tS,`users/${e}/drafts/${t}`);return await Ky(n),console.log(` Draft deleted from cloud:`,t),!0}catch(e){return console.error(` Error deleting draft from cloud:`,e),!1}};var II=`fremio-creator-drafts`,LI=e=>Array.isArray(e)?e:[],RI=()=>{try{let e=localStorage.getItem(`fremio_user`);if(e){let t=JSON.parse(e);return t?.email||t?.id||`guest`}}catch(e){console.error(`Failed to get current user:`,e)}return`guest`},zI=()=>typeof crypto<`u`&&typeof crypto.randomUUID==`function`?crypto.randomUUID():`draft-${Date.now()}-${Math.random().toString(36).slice(2,8)}`;const BI=async()=>{let e=RI();if(e!==`guest`)try{console.log(` Loading drafts from cloud for user:`,e);let t=await PI(e);if(t.length>0){console.log(` Loaded ${t.length} drafts from cloud`);for(let e of t)await MI.saveDraft(e);return t}}catch(e){console.warn(` Failed to load from cloud, using local storage:`,e)}try{console.log(` Loading drafts from IndexedDB for user:`,e);let t=await MI.getAllDrafts(),n=LI(t).filter(t=>t.userId===e);return console.log(` Loaded ${n.length} drafts for user ${e}`),n}catch(t){console.error(` Failed to load from IndexedDB, falling back to localStorage:`,t);let n=X.getJSON(II,[]);return LI(n).filter(t=>t.userId===e)}},VI=async e=>{let t=RI();try{let n=await MI.getDraft(e);return n&&n.userId===t?n:(console.warn(` Draft ${e} not found or belongs to different user`),null)}catch(n){console.error(` Failed to get draft from IndexedDB, falling back to localStorage:`,n);let r=X.getJSON(II,[]),i=LI(r).find(t=>t.id===e);return i&&i.userId===t?i:null}};var HI=async e=>{try{console.log(` [persistDrafts] Attempting to save to localStorage:`,{count:e.length,ids:e.map(e=>e.id)});let t=X.setJSON(II,e);if(console.log(` [persistDrafts] setJSON result:`,t),!t)throw Error(`Failed to save drafts to localStorage (setJSON returned false)`);let n=X.getJSON(II);if(console.log(` [persistDrafts] Verification result:`,{isArray:Array.isArray(n),count:n?.length,ids:n?.map(e=>e.id)}),!Array.isArray(n))throw Error(`Draft persistence verification failed - not an array`);return n.length!==e.length&&console.warn(` [persistDrafts] Draft count mismatch!`,{expected:e.length,actual:n.length}),console.log(` [persistDrafts] Drafts successfully persisted and verified`),!0}catch(e){throw console.error(` [persistDrafts] Failed to persist drafts`,e),console.error(` [persistDrafts] Error details:`,{message:e.message,name:e.name,stack:e.stack}),e}},UI=(e,t,n,r)=>{let i=RI();return{...n,...e,id:r,userId:e.userId??n?.userId??i,title:e.title??n?.title??`Draft`,createdAt:n?.createdAt??e.createdAt??t,updatedAt:t}},WI=async(e,t)=>{let n=e.id??zI(),r={...e,id:n},i=e.id?await MI.getDraft(e.id):null,a=UI(r,t,i,n);return console.log(` [saveDraft] Persisting single draft to IndexedDB:`,{id:a.id,hasElements:Array.isArray(a.elements)}),await MI.saveDraft(a),a},GI=async(e,t)=>{let n=LI(X.getJSON(II,[])),r=e.id??zI(),i=n.findIndex(e=>e.id===r),a=i===-1?null:n[i],o=UI({...e,id:r},t,a,r);return i===-1?n.push(o):n[i]=o,await HI(n),o};const KI=async e=>{let t=RI();try{let n=await MI.getDraft(e);if(n&&n.userId===t?(await MI.deleteDraft(e),console.log(` Deleted draft ${e} from IndexedDB for user ${t}`)):console.warn(` Cannot delete draft ${e} - belongs to different user`),t!==`guest`)try{console.log(` Deleting draft from cloud:`,e),await FI(t,e),console.log(` Deleted from cloud:`,e)}catch(e){console.error(` Failed to delete from cloud (local delete succeeded):`,e)}return await BI()}catch(n){console.error(` Failed to delete from IndexedDB:`,n);let r=X.getJSON(II,[]),i=LI(r).filter(n=>n.id!==e||n.userId!==t);if(X.setJSON(II,i),t!==`guest`)try{await FI(t,e)}catch(e){console.error(` Failed to delete from cloud:`,e)}return i.filter(e=>e.userId===t)}},qI=async()=>{try{await MI.clearAllDrafts()}catch(e){console.error(` Failed to clear IndexedDB:`,e)}X.removeItem(II)},JI=async e=>{let t=new Date().toISOString(),n={...e},r=RI(),i;try{i=await WI(n,t)}catch(e){console.error(` [saveDraft] Failed to save draft to IndexedDB, falling back to localStorage:`,e),i=await GI(n,t)}if(r!==`guest`)try{console.log(` Syncing draft to cloud:`,i.id),await NI(r,i),console.log(` Synced to cloud:`,i.id)}catch(e){console.error(` Failed to sync to cloud (local save succeeded):`,e)}return i};var YI={loadDrafts:BI,getDraftById:VI,saveDraft:JI,deleteDraft:KI,clearDrafts:qI};const XI=1080,ZI=1920;var QI=XI/480,$I=ZI/853;const eL=Math.round(60*QI),tL=Math.round(160*QI),nL=Math.round(160*$I);Math.round(120*Math.min(QI,$I));var rL=(e,t)=>{if(!Number.isFinite(e)||!Number.isFinite(t)||e<=0||t<=0)return`1:1`;let n=e=>Math.round(Number(e)*1e3),r=(e,t)=>{let n=Math.abs(e),r=Math.abs(t);for(;r;){let e=r;r=n%r,n=e}return n||1},i=n(e),a=n(t),o=r(i,a),s=Math.round(i/o),c=Math.round(a/o);return`${Math.max(1,s)}:${Math.max(1,c)}`},iL=e=>{if(!e||typeof e!=`object`)return null;let{id:t,type:n,x:r,y:i,width:a,height:o,rotation:s,zIndex:c,isLocked:l,data:u}=e;return{id:t,type:n,x:r,y:i,width:a,height:o,rotation:s,zIndex:c,isLocked:l,data:u}},aL=(e,t=0)=>{let n=Number(e);return Number.isFinite(n)?n:t},oL=e=>!e||typeof e!=`object`?[]:Array.isArray(e.elements)&&e.elements.length>0?e.elements:Array.isArray(e.designer?.elements)&&e.designer.elements.length>0?e.designer.elements:Array.isArray(e.frameConfig?.designer?.elements)&&e.frameConfig.designer.elements.length>0?e.frameConfig.designer.elements:[],sL=(e=[])=>{if(!Array.isArray(e))return[];let t=e.filter(e=>{if(!e||typeof e!=`object`)return!1;if(e.type===`photo`)return!0;let t=String(e?.data?.label||``).toLowerCase();return e.type===`shape`&&t.includes(`foto`)});return console.log(` [normalizePhotoPlaceholders] Filtering photo slots:`,{totalElements:e.length,photoPlaceholders:t.length,types:e.map(e=>({type:e.type,id:e.id?.slice(0,8)})),photoTypes:t.map(e=>({type:e.type,id:e.id?.slice(0,8),photoIndex:e.data?.photoIndex}))}),t},cL=e=>!Number.isFinite(e)||e<=0?0:e>=1?1:e,lL=(e,t,n,r)=>{let i=n>0?n:XI,a=r>0?r:ZI,o=aL(e?.x),s=aL(e?.y),c=Math.max(1,aL(e?.width,0)),l=Math.max(1,aL(e?.height,0)),u=aL(e?.rotation,0),d=cL(o/i),f=cL(s/a),p=cL(c/i),m=cL(l/a),h=l>0?rL(c,l):`4:5`,g=Number.isFinite(e?.data?.photoIndex)?e.data.photoIndex:t;return{id:e?.id||`custom_slot_${t+1}`,left:d,top:f,width:p||0,height:m||0,aspectRatio:h,zIndex:Number.isFinite(e?.zIndex)?e.zIndex:1,rotation:u,photoIndex:g}},uL=(e,t)=>{if(!e||typeof e!=`object`)return null;let n=cL(aL(e.left??e.x,0)),r=cL(aL(e.top??e.y,0)),i=cL(aL(e.width??e.w,0)),a=cL(aL(e.height??e.h,0)),o=typeof e.aspectRatio==`string`&&e.aspectRatio.includes(`:`)?e.aspectRatio:rL(i||1,a||1);return{id:e.id||`legacy_slot_${t+1}`,left:n,top:r,width:i,height:a,aspectRatio:o,zIndex:Number.isFinite(e.zIndex)?e.zIndex:1,rotation:aL(e.rotation,0),photoIndex:Number.isFinite(e.photoIndex)?e.photoIndex:t}};const dL=(e=[],t,n)=>{let r={aspectRatio:n,canvasBackground:t,elements:e.map(iL)};try{return JSON.stringify(r)}catch(e){return console.warn(` Failed to serialize draft signature`,e),`${Date.now()}-${Math.random()}`}},fL=e=>{if(!e)throw Error(`Draft is required to build frame configuration`);let t=oL(e);console.log(` [buildFrameConfigFromDraft] Source elements:`,{total:t.length,types:t.map(e=>({type:e.type,id:e.id?.slice(0,8),zIndex:e.zIndex,label:e.data?.label}))});let n=sL(t);console.log(` [buildFrameConfigFromDraft] After filtering for photo slots:`,{photoElementsCount:n.length,photoElements:n.map(e=>({type:e.type,id:e.id?.slice(0,8),photoIndex:e.data?.photoIndex}))});let{id:r,title:i,preview:a,canvasBackground:o,canvasWidth:s=XI,canvasHeight:c=ZI,aspectRatio:l=`9:16`,signature:u,createdAt:d,updatedAt:f}=e,p=u||dL(t,o,l),m=n.map((e,t)=>lL(e,t,aL(s,XI),aL(c,ZI)));m.length===0&&(m=(Array.isArray(e.slots)?e.slots:Array.isArray(e.designer?.slots)?e.designer.slots:Array.isArray(e.frameConfig?.slots)?e.frameConfig.slots:[]).map((e,t)=>uL(e,t)).filter(Boolean)),m.length===0&&console.warn(` [buildFrameConfigFromDraft] Draft does not contain any photo slots`,{draftId:e.id,hasElements:Array.isArray(t)&&t.length>0});let h=new Set;m.forEach((e,t)=>{e&&(Number.isFinite(e.photoIndex)?h.add(e.photoIndex):h.add(t))});let g=h.size>0?h.size:m.length;console.log(` [buildFrameConfigFromDraft] maxCaptures calculation:`,{slotsCount:m.length,uniquePhotoIndices:Array.from(h),maxCaptures:g,slotDetails:m.map((e,t)=>({id:e.id,photoIndex:e.photoIndex,width:e.width,height:e.height}))});let _=c>=s?`portrait`:`landscape`;return console.log(` [buildFrameConfigFromDraft] Final frameConfig:`,{id:`custom-${r}`,slotsCount:m.length,designerElementsCount:t.length,designerElementsZIndex:t.map(e=>({type:e.type,id:e.id?.slice(0,8),zIndex:e.zIndex}))}),{id:`custom-${r}`,name:i||`Custom Frame`,description:`Custom frame created in Fremio`,isCustom:!0,duplicatePhotos:!1,frameImage:a,imagePath:a,preview:a,layout:{aspectRatio:l,orientation:_,backgroundColor:o,canvasWidth:aL(s,XI),canvasHeight:aL(c,ZI)},maxCaptures:g,slots:m,designer:{elements:t,canvasBackground:o,aspectRatio:l,canvasWidth:aL(s,XI),canvasHeight:aL(c,ZI),signature:p},metadata:{source:`draft`,draftId:r,signature:p,createdAt:d||null,updatedAt:f||null}}},pL=e=>{let t=fL(e);console.log(` [activateDraftFrame] Storing full frameConfig:`,{id:t.id,hasDesignerElements:!!t.designer?.elements,elementsCount:t.designer?.elements?.length,hasBackgroundPhoto:!!t.designer?.elements?.find(e=>e.type===`background-photo`)});let n=X.setItem(`selectedFrame`,t.id);e?.id?pS.setItem(`activeDraftId`,e.id):pS.removeItem(`activeDraftId`),t?.metadata?.signature?pS.setItem(`activeDraftSignature`,t.metadata.signature):pS.removeItem(`activeDraftSignature`);try{let e={...t,__timestamp:Date.now(),__selectedAt:new Date().toISOString()};X.setJSON(`frameConfig`,e),X.setItem(`frameConfigTimestamp`,String(e.__timestamp)),console.log(` [activateDraftFrame] Full frameConfig stored to localStorage with timestamp`)}catch(e){console.warn(` [activateDraftFrame] localStorage failed (too large), frameConfig will load from draft:`,e)}if(!n)throw Error(`Failed to save frame ID to storage`);return Array.isArray(e.capturedPhotos)&&e.capturedPhotos.length>0?(console.log(` [activateDraftFrame] Restoring captured photos:`,e.capturedPhotos.length),pS.setJSON(`capturedPhotos`,e.capturedPhotos)):(console.log(` [activateDraftFrame] No captured photos to restore`),pS.removeItem(`capturedPhotos`)),e.frameArtwork?(console.log(` [activateDraftFrame] Storing frame artwork info`),pS.setJSON(`draftFrameArtwork`,e.frameArtwork)):pS.removeItem(`draftFrameArtwork`),t},mL=-4e3,hL=.001;function gL(){console.log(` EDITOR COMPONENT RENDERING...`),Be();let[e,t]=(0,b.useState)([]),[n,r]=(0,b.useState)(null),[i,a]=(0,b.useState)(null),[o,s]=(0,b.useState)(null),[c,l]=(0,b.useState)(null),[u,d]=(0,b.useState)(!1),[f,p]=(0,b.useState)(!1),[m,h]=(0,b.useState)({}),[g,_]=(0,b.useState)(null),[v,y]=(0,b.useState)(null),[x,S]=(0,b.useState)([]),[C,w]=(0,b.useState)(null),[T,E]=(0,b.useState)(null),D=e=>e?`slotPhotos:${e}`:null,O=(e,t)=>{let n=D(e);if(n)try{X.setJSON(n,t)}catch(e){console.warn(` Failed to persist slotPhotos`,e)}},k=e=>({"FremioSeries-blue-2":`/fremio/assets/FremioSeries-blue-2-B5pXOU3W.png`,"FremioSeries-babyblue-3":`/fremio/assets/FremioSeries-babyblue-3-B2fJnRv7.png`,"FremioSeries-black-3":`/fremio/assets/FremioSeries-black-3-CSx5W-Nn.png`,"FremioSeries-blue-3":`/fremio/assets/FremioSeries-blue-3-B23Qyzxk.png`,"FremioSeries-cream-3":`/fremio/assets/FremioSeries-cream-3-CUffidfK.png`,"FremioSeries-green-3":`/fremio/assets/FremioSeries-green-3-CsjrGuhw.png`,"FremioSeries-maroon-3":`/fremio/assets/FremioSeries-maroon-3-BqO_9j9u.png`,"FremioSeries-orange-3":`/fremio/assets/FremioSeries-orange-3-CCMNFmRj.png`,"FremioSeries-pink-3":`/fremio/assets/FremioSeries-pink-3-Nbg5RheE.png`,"FremioSeries-purple-3":`/fremio/assets/FremioSeries-purple-3-DeZtk4x9.png`,"FremioSeries-white-3":`/fremio/assets/FremioSeries-white-3-CWTBArXr.png`,"FremioSeries-blue-4":`/fremio/assets/FremioSeries-blue-4-D7sHCwpI.png`,SalPriadi:`/fremio/assets/Sal%20Priadi-D_OPShHH.png`,"InspiredBy-7Des":`/fremio/assets/7%20Des-CG2hfBhW.png`,"InspiredBy-AbbeyRoad":`/fremio/assets/Abbey%20Road-DAtbj3Fj.png`,"InspiredBy-LagipulaHidupAkanBerakhir":`/fremio/assets/Lagipula%20Hidup%20Akan%20Berakhir-B5WiXZ1W.png`,"InspiredBy-MembangunDanMenghancurkan":`/fremio/assets/Membangun%20_%20Menghancurkan-DDRKkt_z.png`,"InspiredBy-MenariDenganBayangan":`/fremio/assets/Menari%20dengan%20Bayangan-U97hNN0z.png`,"InspiredBy-PSILOVEYOU":`/fremio/assets/PS.%20I%20LOVE%20YOU-B16x22QN.png`})[e]||null,A=e=>typeof e==`string`&&e.startsWith(`custom-`),j=()=>{let e=X.getItem(`selectedFrame`);if(e)return e;let t=X.getJSON(`frameConfig`);if(t?.id)return t.id;let n=X.getItem(`activeDraftId`);if(n)return`custom-${n}`;let r=jF?.getCurrentConfig?.();return r?.id?r.id:null},M=e=>{let t=X.getJSON(`frameConfig`);if(t?.id===e)return console.log(` Using cached frameConfig for:`,e),t;let n=jF?.getCurrentConfig?.();if(n?.id===e)return console.log(` Using frameProvider config for:`,e),n;if(A(e)){let t=e.replace(`custom-`,``),n=YI?.getDraftById?.(t);if(n){console.log(` Rebuilding config from draft:`,t);let e=fL(n);if(e)return X.setJSON(`frameConfig`,e),e}}return null},N=(e,t)=>{let n=k(e);if(n)return console.log(` Using built-in frame asset for:`,e),n;if(A(e)){if(t?.frameImage)return console.log(` Using custom frame base64 from config.frameImage for:`,e),t.frameImage;if(t?.preview)return console.log(` Using custom frame base64 from config.preview for:`,e),t.preview;let n=e.replace(`custom-`,``),r=YI?.getDraftById?.(n);if(r?.preview)return console.log(` Using custom frame base64 from draft.preview for:`,e),r.preview;console.error(` No frameImage found in config or draft for custom frame:`,e)}return null};(0,b.useEffect)(()=>{console.log(` Editor useEffect started - loading data...`),console.log(` Checking localStorage keys:`,Object.keys(localStorage));try{let e=X.getJSON(`capturedPhotos`);if(console.log(` Raw capturedPhotos from localStorage:`,e),console.log(` Type:`,typeof e,`IsArray:`,Array.isArray(e)),e){let n=Array.isArray(e)?e:[];t(n),console.log(` Loaded photos:`,n.length,`photos`),n.length>0&&n.forEach((e,t)=>{console.log(` Photo ${t}:`,e?`${e.substring(0,50)}... (length: ${e.length})`:`null/undefined`)})}else console.log(` No captured photos found in localStorage`),console.log(` All localStorage contents:`),Object.keys(localStorage).forEach(e=>{console.log(`  - ${e}:`,localStorage.getItem(e)?.substring(0,100))}),t([]);let n=j();if(console.log(` Resolved frame ID:`,n),!n){console.error(` No frame ID could be resolved`);return}let i=M(n);if(console.log(` Resolved frame config:`,{frameId:n,hasConfig:!!i,slotsCount:i?.slots?.length,isCustom:A(n)}),!i){console.error(` No frame config could be resolved for:`,n);return}E(i);let o=N(n,i);if(console.log(` Resolved frame image:`,{frameId:n,hasImage:!!o,imageType:o?.startsWith(`data:`)?`base64`:`imported`}),!o){console.error(` No frame image could be resolved for:`,n);return}r(o),a(i.slots),l(n),p(!!i.duplicatePhotos);let c=Array.isArray(i?.designer?.elements)?i.designer.elements.filter(e=>e&&e.type!==`photo`&&e.type!==`background-photo`&&!e?.data?.__capturedOverlay):[];S(c),console.log(` Loaded designer elements:`,c.length),console.log(` Designer elements detail:`,c.map(e=>({type:e.type,id:e.id?.slice(0,8),zIndex:e.zIndex,hasData:!!e.data,text:e.data?.text,fill:e.data?.fill,image:e.data?.image?`has image`:`no image`})));let u=Array.isArray(i?.designer?.elements)?i.designer.elements.find(e=>e?.type===`background-photo`):null;w(u),u&&console.log(` Loaded background photo:`,{id:u.id?.slice(0,8),zIndex:u.zIndex,hasImage:!!u.data?.image,width:u.width,height:u.height});let d=null;try{let e=X.getJSON(`frameLayerPlan`);e&&e.version===1&&e.sourceFrameId===i.id&&e.slotCount===i.slots.length&&(!e.sourceSignature||e.sourceSignature===i?.metadata?.signature)&&(d=e)}catch(e){console.warn(` Failed to load stored frame layer plan`,e)}if(!d)if(d=WF(i),d)try{X.setJSON(`frameLayerPlan`,d)}catch(e){console.warn(` Failed to persist frame layer plan`,e)}else X.removeItem(`frameLayerPlan`);if(s(d),i.duplicatePhotos&&Array.isArray(i.slots)){let t={};i.slots.forEach((n,r)=>{let i=n.photoIndex===void 0?r:n.photoIndex;t[r]=Array.isArray(e)&&e[i]?e[i]:null});let r=D(n),a=t;if(r){let e=X.getJSON(r);if(e){let n={};i.slots.forEach((r,i)=>{e&&Object.prototype.hasOwnProperty.call(e,i)?n[i]=e[i]:n[i]=t[i]||null}),a=n}}h(a),O(n,a)}console.log(` Editor: Frame loaded successfully:`,{frameId:n,slotsCount:i.slots?.length,duplicatePhotos:i.duplicatePhotos,isCustom:A(n)})}catch(e){console.error(` FATAL ERROR in Editor useEffect:`,e),console.error(`Error stack:`,e.stack)}},[]),(0,b.useEffect)(()=>{if(!f||!Array.isArray(i)||i.length===0||!Array.isArray(e)||e.length===0||!(Object.keys(m||{}).length===0||i.some((e,t)=>!m[t])))return;let t={...m||{}};i.forEach((n,r)=>{if(!t[r]){let i=n.photoIndex===void 0?r:n.photoIndex;t[r]=e[i]||null}}),h(t);let n=c||X.getItem(`selectedFrame`);O(n,t)},[f,i,e]);let ee=(e,t)=>{e.stopPropagation(),_({slotIndex:t}),console.log(`[DnD]  Mulai drag dari slot`,t+1),e.dataTransfer.effectAllowed=`move`,e.dataTransfer.setData(`text/plain`,`slot-${t}`);let n=e.target.tagName===`IMG`?e.target:e.currentTarget.querySelector(`img`);n&&e.dataTransfer.setDragImage(n,n.offsetWidth/2,n.offsetHeight/2)},P=(e,t)=>{e.preventDefault(),e.stopPropagation(),y(t),e.dataTransfer.dropEffect=`move`,console.log(`[DnD]  Hover over slot`,t+1)},F=(e,t)=>{e.preventDefault(),e.stopPropagation(),y(t)},I=e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.contains(e.relatedTarget)||y(null)},te=(n,r)=>{if(n.preventDefault(),n.stopPropagation(),y(null),console.log(`[DnD]  Drop ke slot`,r+1),console.log(`[DnD] draggedPhoto state:`,g),console.log(`[DnD] duplicatePhotos:`,f),console.log(`[DnD] frameSlots length:`,i?.length),console.log(`[DnD] photos length:`,e?.length),console.log(`[DnD] slotPhotos:`,m),!g){console.log(`[DnD]  No draggedPhoto state`);return}let a=g.slotIndex;if(a===r){console.log(`[DnD]  Same slot, no swap needed`),_(null);return}if(f&&Array.isArray(i)){let t={...m},n=i[a],o=i[r],s=n?.photoIndex===void 0?a:n.photoIndex,l=o?.photoIndex===void 0?r:o.photoIndex,u=t[a]||e[s]||null;t[a]=t[r]||e[l]||null,t[r]=u,h(t);let d=c||X.getItem(`selectedFrame`);O(d,t),_(null),console.log(`[DnD]  Berhasil tukar slot`,a+1,``,r+1,`(duplicate-photos frame, independent)`);return}if(Array.isArray(i)){let n=i[a],o=i[r],s=n?.photoIndex===void 0?a:n.photoIndex,c=o?.photoIndex===void 0?r:o.photoIndex,l=[...e],u=l[s];l[s]=l[c],l[c]=u,t(l),X.setJSON(`capturedPhotos`,l),console.log(`[DnD]  Berhasil tukar slot`,a+1,``,r+1,`(standard frame)`)}_(null)};return console.log(` EDITOR RENDER:`,{hasPhotos:!!e,photosLength:e?.length,hasFrameSlots:!!i,frameSlotsLength:i?.length,hasSelectedFrame:!!n,frameId:c}),(0,Z.jsxs)(`div`,{style:{minHeight:`100vh`,background:`#f5f5f5`,padding:`12px`,paddingTop:`44px`,display:`flex`,flexDirection:`column`,fontFamily:`system-ui, -apple-system, sans-serif`},children:[(0,Z.jsxs)(`div`,{style:{position:`fixed`,top:`10px`,right:`10px`,display:`flex`,gap:`5px`,zIndex:1e3,background:`rgba(255, 255, 255, 0.9)`,padding:`8px`,borderRadius:`6px`,border:`1px solid #e1e1e1`},children:[(0,Z.jsx)(`button`,{onClick:()=>{let e=(e,t,n=400,r=500)=>{let i=document.createElement(`canvas`);i.width=n,i.height=r;let a=i.getContext(`2d`);return a.fillStyle=e,a.fillRect(0,0,n,r),a.strokeStyle=`white`,a.lineWidth=8,a.strokeRect(0,0,n,r),a.fillStyle=`white`,a.font=`bold 32px Arial`,a.textAlign=`center`,a.shadowColor=`black`,a.shadowBlur=4,a.fillText(`FOTO ${t}`,n/2,r/2-20),a.fillText(`Test Image`,n/2,r/2+20),i.toDataURL(`image/png`)},t=[e(`#e74c3c`,`1`),e(`#2ecc71`,`2`),e(`#3498db`,`3`)];X.setJSON(`capturedPhotos`,t),X.setItem(`selectedFrame`,`FremioSeries-black-3`);let n={id:`FremioSeries-black-3`,name:`FremioSeries Black 6 Foto`,maxCaptures:3,duplicatePhotos:!0,slots:[{id:`slot_1a`,left:.05,top:.03,width:.41,height:.28,aspectRatio:`4:5`,zIndex:2,photoIndex:0},{id:`slot_1b`,left:.545,top:.03,width:.41,height:.28,aspectRatio:`4:5`,zIndex:2,photoIndex:0},{id:`slot_2a`,left:.05,top:.33,width:.41,height:.28,aspectRatio:`4:5`,zIndex:2,photoIndex:1},{id:`slot_2b`,left:.545,top:.33,width:.41,height:.28,aspectRatio:`4:5`,zIndex:2,photoIndex:1},{id:`slot_3a`,left:.05,top:.63,width:.41,height:.28,aspectRatio:`4:5`,zIndex:2,photoIndex:2},{id:`slot_3b`,left:.545,top:.63,width:.41,height:.28,aspectRatio:`4:5`,zIndex:2,photoIndex:2}]};X.setJSON(`frameConfig`,n);let r={};n.slots.forEach((e,n)=>{let i=e.photoIndex===void 0?n:e.photoIndex;r[n]=t[i]||null}),X.setJSON(`slotPhotos:${n.id}`,r),console.log(` Test data created for FremioSeries-black-3`),console.log(`Photos:`,t.length),console.log(`Frame config:`,n),window.location.reload()},style:{padding:`4px 9px`,background:`#e74c3c`,color:`white`,border:`none`,borderRadius:`3px`,fontSize:`11px`,cursor:`pointer`},children:` Load Black-3 Test Data`}),(0,Z.jsx)(`button`,{onClick:()=>{bI(),window.location.reload()},style:{padding:`4px 9px`,background:`#dc3545`,color:`white`,border:`none`,borderRadius:`3px`,fontSize:`11px`,cursor:`pointer`},children:`Clear`})]}),(0,Z.jsxs)(`div`,{style:{position:`fixed`,left:`10px`,top:`60px`,background:`rgba(0, 0, 0, 0.8)`,color:`white`,padding:`12px`,borderRadius:`8px`,fontSize:`11px`,fontFamily:`monospace`,zIndex:9999,maxWidth:`300px`,maxHeight:`80vh`,overflow:`auto`},children:[(0,Z.jsx)(`div`,{style:{fontWeight:`bold`,marginBottom:`8px`,color:`#fbbf24`},children:` DEBUG INFO`}),(0,Z.jsxs)(`div`,{style:{marginBottom:`6px`},children:[(0,Z.jsx)(`strong`,{children:`Photos:`}),` `,e?`${e.length} items`:`NULL`]}),e&&e.length>0&&(0,Z.jsx)(`div`,{style:{marginBottom:`6px`,fontSize:`10px`},children:e.map((e,t)=>(0,Z.jsxs)(`div`,{children:[`Photo `,t,`: `,e?`${e.substring(0,30)}... (${e.length} chars)`:`NULL`]},t))}),(0,Z.jsxs)(`div`,{style:{marginBottom:`6px`},children:[(0,Z.jsx)(`strong`,{children:`FrameSlots:`}),` `,i?`${i.length} slots`:`NULL`]}),i&&i.length>0&&(0,Z.jsx)(`div`,{style:{marginBottom:`6px`,fontSize:`10px`},children:i.map((e,t)=>(0,Z.jsxs)(`div`,{children:[`Slot `,t,`: zIndex=`,e.zIndex,`, photoIndex=`,e.photoIndex]},t))}),(0,Z.jsxs)(`div`,{style:{marginBottom:`6px`},children:[(0,Z.jsx)(`strong`,{children:`FrameId:`}),` `,c||`NULL`]}),(0,Z.jsxs)(`div`,{style:{marginBottom:`6px`},children:[(0,Z.jsx)(`strong`,{children:`SelectedFrame:`}),` `,n?`YES`:`NO`]}),(0,Z.jsxs)(`div`,{style:{marginBottom:`6px`},children:[(0,Z.jsx)(`strong`,{children:`DuplicatePhotos:`}),` `,f?`YES`:`NO`]}),(0,Z.jsxs)(`div`,{style:{marginBottom:`6px`},children:[(0,Z.jsx)(`strong`,{children:`DesignerElements:`}),` `,x?.length||0]}),(0,Z.jsxs)(`div`,{style:{marginBottom:`6px`},children:[(0,Z.jsx)(`strong`,{children:`BackgroundPhoto:`}),` `,C?`YES`:`NO`]}),(0,Z.jsx)(`div`,{style:{marginBottom:`6px`,marginTop:`10px`,paddingTop:`10px`,borderTop:`1px solid #444`},children:(0,Z.jsx)(`strong`,{style:{color:`#fbbf24`},children:`Rendering Condition:`})}),(0,Z.jsxs)(`div`,{style:{marginBottom:`4px`},children:[`frameSlots: `,(0,Z.jsx)(`span`,{style:{color:i?`#10b981`:`#ef4444`},children:i?``:``})]}),(0,Z.jsxs)(`div`,{style:{marginBottom:`4px`},children:[`photos: `,(0,Z.jsx)(`span`,{style:{color:e?`#10b981`:`#ef4444`},children:e?``:``})]}),(0,Z.jsxs)(`div`,{style:{marginBottom:`4px`},children:[`photos.length > 0: `,(0,Z.jsx)(`span`,{style:{color:e&&e.length>0?`#10b981`:`#ef4444`},children:e&&e.length>0?``:``})]}),(0,Z.jsxs)(`div`,{style:{marginBottom:`4px`,fontWeight:`bold`,color:i&&e&&e.length>0?`#10b981`:`#ef4444`},children:[`SHOULD RENDER: `,i&&e&&e.length>0?`YES `:`NO `]})]}),(0,Z.jsxs)(`div`,{style:{flex:1,display:`flex`,flexDirection:`column`,alignItems:`center`,gap:`10px`,maxWidth:`460px`,margin:`0 auto`,width:`100%`},children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,gap:`6px`,alignItems:`center`},children:[(0,Z.jsx)(`button`,{onClick:async()=>{if(!u)try{d(!0);let t=c||X.getItem(`selectedFrame`);if(!t)return;let n=await hF(t);if(n?.slots){E(n),a(n.slots),p(!!n.duplicatePhotos);let r=Array.isArray(n?.designer?.elements)?n.designer.elements.filter(e=>e&&e.type!==`photo`&&e.type!==`background-photo`&&!e?.data?.__capturedOverlay):[];S(r);let i=Array.isArray(n?.designer?.elements)?n.designer.elements.find(e=>e?.type===`background-photo`):null;if(w(i),n.duplicatePhotos){let r={};n.slots.forEach((t,n)=>{let i=t.photoIndex===void 0?n:t.photoIndex;r[n]=Array.isArray(e)&&e[i]?e[i]:null}),h(r),O(t,r)}else h({});X.setJSON(`frameConfig`,n);let o=WF(n);if(o){s(o);try{X.setJSON(`frameLayerPlan`,o)}catch(e){console.warn(` Failed to persist reloaded frame layer plan`,e)}}else s(null),X.removeItem(`frameLayerPlan`);console.log(` Editor: reloaded frame slots`)}}finally{d(!1)}},style:{padding:`5px 10px`,background:`#6c757d`,color:`#fff`,border:`none`,borderRadius:`6px`,cursor:`pointer`,fontSize:`0.78rem`},children:u?` Reloading...`:` Reload Config`}),(0,Z.jsx)(`div`,{style:{padding:`3px 8px`,background:`#e8f2ff`,color:`#0f3d8c`,borderRadius:`999px`,fontSize:`0.7rem`,border:`1px solid #c7ddff`},children:` Drag foto antar slot untuk menukar posisi`})]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,alignItems:`center`,minHeight:`300px`},children:[(0,Z.jsx)(`h3`,{style:{margin:`0 0 6px 0`,fontSize:`0.85rem`,fontWeight:`500`,color:`#333`,textAlign:`center`},children:`Preview`}),n&&i&&Array.isArray(i)?(0,Z.jsxs)(`div`,{style:{position:`relative`,width:`188px`,height:`282px`,background:A(c)&&(T?.layout?.backgroundColor||T?.designer?.canvasBackground)||`#fff`,borderRadius:`10px`,boxShadow:`0 3px 10px rgba(15,23,42,0.12)`,border:`1px solid #e2e8f0`,overflow:`hidden`},children:[C&&C.data?.image&&(0,Z.jsx)(`div`,{style:{position:`absolute`,left:0,top:0,width:`100%`,height:`100%`,zIndex:Number.isFinite(C.zIndex)?C.zIndex:-4e3,overflow:`hidden`,pointerEvents:`none`},children:(0,Z.jsx)(`img`,{src:C.data.image,alt:`Background`,style:{width:`100%`,height:`100%`,objectFit:`cover`,pointerEvents:`none`}})}),(()=>(console.log(` PHOTO RENDERING BLOCK:`,{hasFrameSlots:!!i,frameSlotsLength:i?.length,hasPhotos:!!e,photosLength:e?.length,photosIsArray:Array.isArray(e),condition:i&&e&&e.length>0,willRender:!!(i&&e&&e.length>0)}),!i||!e||e.length===0?(console.error(` PHOTO RENDERING BLOCKED:`,{frameSlots:!!i,photos:!!e,photosLength:e?.length}),(0,Z.jsxs)(`div`,{style:{position:`absolute`,inset:`10px`,background:`rgba(255, 0, 0, 0.2)`,border:`3px dashed red`,display:`flex`,alignItems:`center`,justifyContent:`center`,fontSize:`12px`,color:`red`,fontWeight:600,textAlign:`center`,zIndex:9999},children:[` NO PHOTOS`,(0,Z.jsx)(`br`,{}),`frameSlots: `,i?`YES`:`NO`,(0,Z.jsx)(`br`,{}),`photos: `,e?`YES`:`NO`,(0,Z.jsx)(`br`,{}),`photos.length: `,e?.length||0]})):i.map((t,n)=>{let r=t.photoIndex===void 0?n:t.photoIndex,i=f&&m?.[n]||e[r];if(!i)return console.warn(` No photo for slot ${n}`),null;let a=g?.slotIndex===n,o=v===n,s=Number.isFinite(t.zIndex)&&t.zIndex>=0?t.zIndex:100+n;return console.log(` Rendering photo slot ${n}:`,{slotId:t.id,slotZIndex:t.zIndex,finalZIndex:s,usedOriginal:Number.isFinite(t.zIndex),zIndex:s,hasSource:!!i,position:{left:t.left,top:t.top,width:t.width,height:t.height}}),(0,Z.jsx)(`div`,{style:{position:`absolute`,left:`${(t.left||0)*100}%`,top:`${(t.top||0)*100}%`,width:`${(t.width||0)*100}%`,height:`${(t.height||0)*100}%`,overflow:`hidden`,borderRadius:`6px`,background:`#f0f0f0`,outline:o?`3px solid #4f46e5`:`none`,cursor:a?`grabbing`:`grab`,opacity:a?.85:1,boxShadow:o?`0 4px 12px rgba(79, 70, 229, 0.3)`:`none`,zIndex:s},draggable:!0,onDragStart:e=>ee(e,n),onDragEnd:()=>_(null),onDragOver:e=>P(e,n),onDragEnter:e=>F(e,n),onDragLeave:I,onDrop:e=>te(e,n),children:(0,Z.jsx)(`img`,{src:i,alt:`Photo ${n+1}`,style:{width:`100%`,height:`100%`,objectFit:`cover`,pointerEvents:`none`}})},`photo-slot-${n}`)})))(),x&&x.length>0&&x.map((e,t)=>{if(!e||!e.type)return null;let n=Number.isFinite(e.zIndex)?e.zIndex:200+t,r=T?.layout?.canvasWidth||1080,i=T?.layout?.canvasHeight||1920,a=188/r,o=282/i,s=(e.x||0)*a,c=(e.y||0)*o,l=(e.width||100)*a,u=(e.height||100)*o;if(console.log(` Rendering designer element ${t}:`,{type:e.type,id:e.id?.slice(0,8),elementZIndex:e.zIndex,finalZIndex:n,usedOriginal:Number.isFinite(e.zIndex)}),e.type===`text`){let r=(e.data?.fontSize||24)*a;return(0,Z.jsx)(`div`,{style:{position:`absolute`,left:`${s}px`,top:`${c}px`,width:`${l}px`,height:`${u}px`,zIndex:n,pointerEvents:`none`,fontFamily:e.data?.fontFamily||`Inter`,fontSize:`${r}px`,color:e.data?.color||`#111827`,fontWeight:e.data?.fontWeight||500,textAlign:e.data?.align||`left`,display:`flex`,alignItems:`center`,justifyContent:e.data?.align===`center`?`center`:e.data?.align===`right`?`flex-end`:`flex-start`,whiteSpace:`pre-wrap`,lineHeight:1.25},children:e.data?.text||`Text`},`designer-${e.id||t}`)}return e.type===`shape`?(0,Z.jsx)(`div`,{style:{position:`absolute`,left:`${s}px`,top:`${c}px`,width:`${l}px`,height:`${u}px`,zIndex:n,pointerEvents:`none`,background:e.data?.fill||`#f4d3c2`,borderRadius:`${(e.data?.borderRadius||24)*a}px`}},`designer-${e.id||t}`):e.type===`upload`&&e.data?.image?(0,Z.jsx)(`div`,{style:{position:`absolute`,left:`${s}px`,top:`${c}px`,width:`${l}px`,height:`${u}px`,zIndex:n,pointerEvents:`none`,borderRadius:`${(e.data?.borderRadius||24)*a}px`,overflow:`hidden`},children:(0,Z.jsx)(`img`,{src:e.data.image,alt:`Element`,style:{width:`100%`,height:`100%`,objectFit:e.data?.objectFit||`cover`}})},`designer-${e.id||t}`):null}),!A(c)&&n&&(0,Z.jsx)(`img`,{src:n,alt:`Frame`,style:{position:`absolute`,inset:0,width:`100%`,height:`100%`,objectFit:`contain`,pointerEvents:`none`,zIndex:1e3}})]}):(0,Z.jsx)(`div`,{style:{height:`260px`,width:`188px`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:`#666`,background:`#fff`,border:`1px dashed #cbd5f5`,borderRadius:`10px`},children:`No frame selected`})]}),(0,Z.jsx)(`button`,{onClick:()=>{console.log(`=== DEBUG EDITOR DATA ===`),console.log(`Photos from state:`,e),console.log(`SelectedFrame from state:`,n),console.log(`FrameSlots from state:`,i),console.log(`DuplicatePhotos:`,f),console.log(`SlotPhotos:`,m),console.log(`DraggedPhoto:`,g),console.log(`DragOverSlot:`,v),console.log(`LocalStorage capturedPhotos:`,X.getItem(`capturedPhotos`)),console.log(`LocalStorage selectedFrame:`,X.getItem(`selectedFrame`)),console.log(`LocalStorage frameConfig:`,X.getItem(`frameConfig`)),console.log(`LocalStorage frameSlots (legacy):`,X.getItem(`frameSlots`))},style:{marginTop:`8px`,background:`#17a2b8`,color:`white`,border:`none`,borderRadius:`13px`,padding:`7px 18px`,fontSize:`0.75rem`,cursor:`pointer`},children:` Debug Drag & Drop`}),(0,Z.jsxs)(`div`,{style:{marginTop:`8px`,display:`flex`,gap:`4px`},children:[(0,Z.jsx)(`button`,{onClick:()=>{yI(),window.location.reload()},style:{background:`#28a745`,color:`white`,border:`none`,borderRadius:`10px`,padding:`5px 10px`,fontSize:`0.68rem`,cursor:`pointer`},children:`Create Test Data`}),(0,Z.jsx)(`button`,{onClick:()=>{bI(),window.location.reload()},style:{background:`#dc3545`,color:`white`,border:`none`,borderRadius:`10px`,padding:`5px 10px`,fontSize:`0.68rem`,cursor:`pointer`},children:`Clear Test Data`})]})]})]})}var _L=s(((exports,t)=>{
/*!
* html2canvas 1.4.1 <https://html2canvas.hertzen.com>
* Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
* Released under MIT License
*/
(function(n,r){typeof exports==`object`&&t!==void 0?t.exports=r():typeof define==`function`&&define.amd?define(r):(n=typeof globalThis<`u`?globalThis:n||self,n.html2canvas=r())})(exports,(function(){
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if(typeof n!=`function`&&n!==null)throw TypeError(`Class extends value `+String(n)+` is not a constructor or null`);e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function r(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})}function i(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==`function`&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(o){if(r)throw TypeError(`Generator is already executing.`);for(;n;)try{if(r=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,i=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if((a=n.trys,!(a=a.length>0&&a[a.length-1]))&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){n.label=o[1];break}if(o[0]===6&&n.label<a[1]){n.label=a[1],a=o;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(o);break}a[2]&&n.ops.pop(),n.trys.pop();continue}o=t.call(e,n)}catch(e){o=[6,e],i=0}finally{r=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function a(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||t)}for(var o=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(e){return e.width!==0});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),s=function(e,t){return o.fromClientRect(e,t.getBoundingClientRect())},c=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw Error(`Unable to get document size`);var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new o(0,0,r,i)},l=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);(a&64512)==56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),n--)}else t.push(i)}return t},u=function(){var e=[...arguments];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return``;for(var n=[],r=-1,i=``;++r<t;){var a=e[r];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(r+1===t||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},d=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`,f=typeof Uint8Array>`u`?[]:new Uint8Array(256),p=0;p<d.length;p++)f[d.charCodeAt(p)]=p;for(var m=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`,h=typeof Uint8Array>`u`?[]:new Uint8Array(256),g=0;g<m.length;g++)h[m.charCodeAt(g)]=g;for(var _=function(e){var t=e.length*.75,n=e.length,r,i=0,a,o,s,c;e[e.length-1]===`=`&&(t--,e[e.length-2]===`=`&&t--);var l=typeof ArrayBuffer<`u`&&typeof Uint8Array<`u`&&Uint8Array.prototype.slice!==void 0?new ArrayBuffer(t):Array(t),u=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<n;r+=4)a=h[e.charCodeAt(r)],o=h[e.charCodeAt(r+1)],s=h[e.charCodeAt(r+2)],c=h[e.charCodeAt(r+3)],u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|s>>2,u[i++]=(s&3)<<6|c&63;return l},v=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},y=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},b=5,x=11,S=2,C=x-b,w=65536>>b,T=(1<<b)-1,E=1024>>b,D=w+E+32,O=65536>>x,k=(1<<C)-1,A=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},j=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},M=function(e,t){var n=_(e),r=Array.isArray(n)?y(n):new Uint32Array(n),i=Array.isArray(n)?v(n):new Uint16Array(n),a=24,o=A(i,a/2,r[4]/2),s=r[5]===2?A(i,(a+r[4])/2):j(r,Math.ceil((a+r[4])/4));return new N(r[0],r[1],r[2],r[3],o,s)},N=function(){function e(e,t,n,r,i,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>b],t=(t<<S)+(e&T),this.data[t];if(e<=65535)return t=this.index[w+(e-55296>>b)],t=(t<<S)+(e&T),this.data[t];if(e<this.highStart)return t=D-O+(e>>x),t=this.index[t],t+=e>>b&k,t=this.index[t],t=(t<<S)+(e&T),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),ee=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`,P=typeof Uint8Array>`u`?[]:new Uint8Array(256),F=0;F<ee.length;F++)P[ee.charCodeAt(F)]=F;var I=`KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==`,te=50,ne=1,re=2,ie=3,L=4,R=5,ae=7,oe=8,se=9,ce=10,le=11,ue=12,de=13,fe=14,pe=15,me=16,he=17,ge=18,_e=19,z=20,ve=21,ye=22,be=23,xe=24,Se=25,Ce=26,we=27,B=28,Te=29,Ee=30,De=31,Oe=32,ke=33,Ae=34,je=35,Me=36,Ne=37,Pe=38,Fe=39,Ie=40,Le=41,Re=42,ze=43,Be=[9001,65288],Ve=`!`,He=``,Ue=``,We=M(I),Ge=[Ee,Me],Ke=[ne,re,ie,R],qe=[ce,oe],Je=[we,Ce],Ye=Ke.concat(qe),Xe=[Pe,Fe,Ie,Ae,je],Ze=[pe,de],Qe=function(e,t){t===void 0&&(t=`strict`);var n=[],r=[],i=[];return e.forEach(function(e,a){var o=We.get(e);if(o>te?(i.push(!0),o-=te):i.push(!1),[`normal`,`auto`,`loose`].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(e)!==-1)return r.push(a),n.push(me);if(o===L||o===le){if(a===0)return r.push(a),n.push(Ee);var s=n[a-1];return Ye.indexOf(s)===-1?(r.push(r[a-1]),n.push(s)):(r.push(a),n.push(Ee))}if(r.push(a),o===De)return n.push(t===`strict`?ve:Ne);if(o===Re||o===Te)return n.push(Ee);if(o===ze)return e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(Ne):n.push(Ee);n.push(o)}),[r,n,i]},$e=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?e.indexOf(i)!==-1:e===i)for(var a=n;a<=r.length;){a++;var o=r[a];if(o===t)return!0;if(o!==ce)break}if(i===ce)for(var a=n;a>0;){a--;var s=r[a];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var c=n;c<=r.length;){c++;var o=r[c];if(o===t)return!0;if(o!==ce)break}if(s!==ce)break}return!1},et=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r===ce)n--;else return r}return 0},tt=function(e,t,n,r,i){if(n[r]===0)return He;var a=r-1;if(Array.isArray(i)&&i[a]===!0)return He;var o=a-1,s=a+1,c=t[a],l=o>=0?t[o]:0,u=t[s];if(c===re&&u===ie)return He;if(Ke.indexOf(c)!==-1)return Ve;if(Ke.indexOf(u)!==-1||qe.indexOf(u)!==-1)return He;if(et(a,t)===oe)return Ue;if(We.get(e[a])===le||(c===Oe||c===ke)&&We.get(e[s])===le||c===ae||u===ae||c===se||[ce,de,pe].indexOf(c)===-1&&u===se||[he,ge,_e,xe,B].indexOf(u)!==-1||et(a,t)===ye||$e(be,ye,a,t)||$e([he,ge],ve,a,t)||$e(ue,ue,a,t))return He;if(c===ce)return Ue;if(c===be||u===be)return He;if(u===me||c===me)return Ue;if([de,pe,ve].indexOf(u)!==-1||c===fe||l===Me&&Ze.indexOf(c)!==-1||c===B&&u===Me||u===z||Ge.indexOf(u)!==-1&&c===Se||Ge.indexOf(c)!==-1&&u===Se||c===we&&[Ne,Oe,ke].indexOf(u)!==-1||[Ne,Oe,ke].indexOf(c)!==-1&&u===Ce||Ge.indexOf(c)!==-1&&Je.indexOf(u)!==-1||Je.indexOf(c)!==-1&&Ge.indexOf(u)!==-1||[we,Ce].indexOf(c)!==-1&&(u===Se||[ye,pe].indexOf(u)!==-1&&t[s+1]===Se)||[ye,pe].indexOf(c)!==-1&&u===Se||c===Se&&[Se,B,xe].indexOf(u)!==-1)return He;if([Se,B,xe,he,ge].indexOf(u)!==-1)for(var d=a;d>=0;){var f=t[d];if(f===Se)return He;if([B,xe].indexOf(f)!==-1)d--;else break}if([we,Ce].indexOf(u)!==-1)for(var d=[he,ge].indexOf(c)===-1?a:o;d>=0;){var f=t[d];if(f===Se)return He;if([B,xe].indexOf(f)!==-1)d--;else break}if(Pe===c&&[Pe,Fe,Ae,je].indexOf(u)!==-1||[Fe,Ae].indexOf(c)!==-1&&[Fe,Ie].indexOf(u)!==-1||[Ie,je].indexOf(c)!==-1&&u===Ie||Xe.indexOf(c)!==-1&&[z,Ce].indexOf(u)!==-1||Xe.indexOf(u)!==-1&&c===we||Ge.indexOf(c)!==-1&&Ge.indexOf(u)!==-1||c===xe&&Ge.indexOf(u)!==-1||Ge.concat(Se).indexOf(c)!==-1&&u===ye&&Be.indexOf(e[s])===-1||Ge.concat(Se).indexOf(u)!==-1&&c===ge)return He;if(c===Le&&u===Le){for(var p=n[a],m=1;p>0&&(p--,t[p]===Le);)m++;if(m%2!=0)return He}return c===Oe&&u===ke?He:Ue},nt=function(e,t){t||={lineBreak:`normal`,wordBreak:`normal`};var n=Qe(e,t.lineBreak),r=n[0],i=n[1],a=n[2];(t.wordBreak===`break-all`||t.wordBreak===`break-word`)&&(i=i.map(function(e){return[Se,Ee,Re].indexOf(e)===-1?e:Ne}));var o=t.wordBreak===`keep-all`?a.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):void 0;return[r,i,o]},rt=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===Ve,this.start=n,this.end=r}return e.prototype.slice=function(){return u.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),it=function(e,t){var n=l(e),r=nt(n,t),i=r[0],a=r[1],o=r[2],s=n.length,c=0,u=0;return{next:function(){if(u>=s)return{done:!0,value:null};for(var e=He;u<s&&(e=tt(n,a,i,++u,o))===He;);if(e!==He||u===s){var t=new rt(n,e,c,u);return c=u,{value:t,done:!1}}return{done:!0,value:null}}}},at=1,ot=2,st=4,ct=8,lt=10,ut=47,dt=92,ft=9,pt=32,mt=34,ht=61,gt=35,_t=36,vt=37,yt=39,bt=40,xt=41,St=95,Ct=45,wt=33,Tt=60,Et=62,Dt=64,Ot=91,kt=93,At=61,jt=123,Mt=63,Nt=125,Pt=124,Ft=126,It=128,Lt=65533,Rt=42,zt=43,Bt=44,Vt=58,Ht=59,Ut=46,Wt=0,Gt=8,Kt=11,qt=14,Jt=31,Yt=127,Xt=-1,Zt=48,Qt=97,$t=101,en=102,tn=117,nn=122,rn=65,an=69,on=70,sn=85,cn=90,ln=function(e){return e>=Zt&&e<=57},un=function(e){return e>=55296&&e<=57343},dn=function(e){return ln(e)||e>=rn&&e<=on||e>=Qt&&e<=en},fn=function(e){return e>=Qt&&e<=nn},pn=function(e){return e>=rn&&e<=cn},mn=function(e){return fn(e)||pn(e)},hn=function(e){return e>=It},gn=function(e){return e===lt||e===ft||e===pt},_n=function(e){return mn(e)||hn(e)||e===St},vn=function(e){return _n(e)||ln(e)||e===Ct},yn=function(e){return e>=Wt&&e<=Gt||e===Kt||e>=qt&&e<=Jt||e===Yt},bn=function(e,t){return e===dt?t!==lt:!1},xn=function(e,t,n){return e===Ct?_n(t)||bn(t,n):_n(e)?!0:!!(e===dt&&bn(e,t))},Sn=function(e,t,n){return e===zt||e===Ct?ln(t)?!0:t===Ut&&ln(n):ln(e===Ut?t:e)},Cn=function(e){var t=0,n=1;(e[t]===zt||e[t]===Ct)&&(e[t]===Ct&&(n=-1),t++);for(var r=[];ln(e[t]);)r.push(e[t++]);var i=r.length?parseInt(u.apply(void 0,r),10):0;e[t]===Ut&&t++;for(var a=[];ln(e[t]);)a.push(e[t++]);var o=a.length,s=o?parseInt(u.apply(void 0,a),10):0;(e[t]===an||e[t]===$t)&&t++;var c=1;(e[t]===zt||e[t]===Ct)&&(e[t]===Ct&&(c=-1),t++);for(var l=[];ln(e[t]);)l.push(e[t++]);var d=l.length?parseInt(u.apply(void 0,l),10):0;return n*(i+s*10**-o)*10**(c*d)},wn={type:2},Tn={type:3},En={type:4},Dn={type:13},On={type:8},kn={type:21},An={type:9},jn={type:10},Mn={type:11},Nn={type:12},Pn={type:14},Fn={type:23},In={type:1},Ln={type:25},Rn={type:24},zn={type:26},Bn={type:27},Vn={type:28},Hn={type:29},Un={type:31},Wn={type:32},Gn=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(l(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Wn;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case mt:return this.consumeStringToken(mt);case gt:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(vn(t)||bn(n,r)){var i=xn(t,n,r)?ot:at,a=this.consumeName();return{type:5,value:a,flags:i}}break;case _t:if(this.peekCodePoint(0)===ht)return this.consumeCodePoint(),Dn;break;case yt:return this.consumeStringToken(yt);case bt:return wn;case xt:return Tn;case Rt:if(this.peekCodePoint(0)===ht)return this.consumeCodePoint(),Pn;break;case zt:if(Sn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Bt:return En;case Ct:var o=e,s=this.peekCodePoint(0),c=this.peekCodePoint(1);if(Sn(o,s,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(xn(o,s,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(s===Ct&&c===Et)return this.consumeCodePoint(),this.consumeCodePoint(),Rn;break;case Ut:if(Sn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case ut:if(this.peekCodePoint(0)===Rt)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===Rt&&(l=this.consumeCodePoint(),l===ut)||l===Xt)return this.consumeToken()}break;case Vt:return zn;case Ht:return Bn;case Tt:if(this.peekCodePoint(0)===wt&&this.peekCodePoint(1)===Ct&&this.peekCodePoint(2)===Ct)return this.consumeCodePoint(),this.consumeCodePoint(),Ln;break;case Dt:var d=this.peekCodePoint(0),f=this.peekCodePoint(1),p=this.peekCodePoint(2);if(xn(d,f,p)){var a=this.consumeName();return{type:7,value:a}}break;case Ot:return Vn;case dt:if(bn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case kt:return Hn;case At:if(this.peekCodePoint(0)===ht)return this.consumeCodePoint(),On;break;case jt:return Mn;case Nt:return Nn;case tn:case sn:var m=this.peekCodePoint(0),h=this.peekCodePoint(1);return m===zt&&(dn(h)||h===Mt)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case Pt:if(this.peekCodePoint(0)===ht)return this.consumeCodePoint(),An;if(this.peekCodePoint(0)===Pt)return this.consumeCodePoint(),kn;break;case Ft:if(this.peekCodePoint(0)===ht)return this.consumeCodePoint(),jn;break;case Xt:return Wn}return gn(e)?(this.consumeWhiteSpace(),Un):ln(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):_n(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:u(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return e===void 0?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();dn(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===Mt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var r=parseInt(u.apply(void 0,e.map(function(e){return e===Mt?Zt:e})),16),i=parseInt(u.apply(void 0,e.map(function(e){return e===Mt?on:e})),16);return{type:30,start:r,end:i}}var a=parseInt(u.apply(void 0,e),16);if(this.peekCodePoint(0)===Ct&&dn(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];dn(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var i=parseInt(u.apply(void 0,o),16);return{type:30,start:a,end:i}}else return{type:30,start:a,end:a}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()===`url`&&this.peekCodePoint(0)===bt?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===bt?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Xt)return{type:22,value:``};var t=this.peekCodePoint(0);if(t===yt||t===mt){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Xt||this.peekCodePoint(0)===xt)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Fn)}for(;;){var r=this.consumeCodePoint();if(r===Xt||r===xt)return{type:22,value:u.apply(void 0,e)};if(gn(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Xt||this.peekCodePoint(0)===xt?(this.consumeCodePoint(),{type:22,value:u.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Fn);if(r===mt||r===yt||r===bt||yn(r))return this.consumeBadUrlRemnants(),Fn;if(r===dt)if(bn(r,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Fn;else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;gn(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===xt||e===Xt)return;bn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n=``;e>0;){var r=Math.min(t,e);n+=u.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){var t=``,n=0;do{var r=this._value[n];if(r===Xt||r===void 0||r===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(r===lt)return this._value.splice(0,n),In;if(r===dt){var i=this._value[n+1];i!==Xt&&i!==void 0&&(i===lt?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):bn(r,i)&&(t+=this.consumeStringSlice(n),t+=u(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var e=[],t=st,n=this.peekCodePoint(0);for((n===zt||n===Ct)&&e.push(this.consumeCodePoint());ln(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===Ut&&ln(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ct;ln(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===an||n===$t)&&((r===zt||r===Ct)&&ln(i)||ln(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ct;ln(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Cn(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);if(xn(r,i,a)){var o=this.consumeName();return{type:15,number:t,flags:n,unit:o}}return r===vt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(dn(e)){for(var t=u(e);dn(this.peekCodePoint(0))&&t.length<6;)t+=u(this.consumeCodePoint());gn(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||un(n)||n>1114111?Lt:n}return e===Xt?Lt:e},e.prototype.consumeName=function(){for(var e=``;;){var t=this.consumeCodePoint();if(vn(t))e+=u(t);else if(bn(t,this.peekCodePoint(0)))e+=u(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},e}(),Kn=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Gn;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw SyntaxError(`Error parsing CSS component value, unexpected EOF`);this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw SyntaxError(`Error parsing CSS component value, multiple values found when expecting only one`)},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||tr(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return e===void 0?Wn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),qn=function(e){return e.type===15},Jn=function(e){return e.type===17},Yn=function(e){return e.type===20},Xn=function(e){return e.type===0},Zn=function(e,t){return Yn(e)&&e.value===t},Qn=function(e){return e.type!==31},$n=function(e){return e.type!==31&&e.type!==4},er=function(e){var t=[],n=[];return e.forEach(function(e){if(e.type===4){if(n.length===0)throw Error(`Error parsing function args, zero tokens for arg`);t.push(n),n=[];return}e.type!==31&&n.push(e)}),n.length&&t.push(n),t},tr=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},nr=function(e){return e.type===17||e.type===15},rr=function(e){return e.type===16||nr(e)},ir=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},ar={type:17,number:0,flags:st},or={type:16,number:50,flags:st},sr={type:16,number:100,flags:st},cr=function(e,t,n){var r=e[0],i=e[1];return[lr(r,t),lr(i===void 0?r:i,n)]},lr=function(e,t){if(e.type===16)return e.number/100*t;if(qn(e))switch(e.unit){case`rem`:case`em`:return 16*e.number;case`px`:default:return e.number}return e.number},ur=`deg`,dr=`grad`,fr=`rad`,pr=`turn`,mr={name:`angle`,parse:function(e,t){if(t.type===15)switch(t.unit){case ur:return Math.PI*t.number/180;case dr:return Math.PI/200*t.number;case fr:return t.number;case pr:return Math.PI*2*t.number}throw Error(`Unsupported angle type`)}},hr=function(e){return e.type===15&&(e.unit===ur||e.unit===dr||e.unit===fr||e.unit===pr)},gr=function(e){switch(e.filter(Yn).map(function(e){return e.value}).join(` `)){case`to bottom right`:case`to right bottom`:case`left top`:case`top left`:return[ar,ar];case`to top`:case`bottom`:return _r(0);case`to bottom left`:case`to left bottom`:case`right top`:case`top right`:return[ar,sr];case`to right`:case`left`:return _r(90);case`to top left`:case`to left top`:case`right bottom`:case`bottom right`:return[sr,sr];case`to bottom`:case`top`:return _r(180);case`to top right`:case`to right top`:case`left bottom`:case`bottom left`:return[sr,ar];case`to left`:case`right`:return _r(270)}return 0},_r=function(e){return Math.PI*e/180},vr={name:`color`,parse:function(e,t){if(t.type===18){var n=Er[t.name];if(n===void 0)throw Error(`Attempting to parse an unsupported color function "`+t.name+`"`);return n(e,t.values)}if(t.type===5){if(t.value.length===3){var r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return xr(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(t.value.length===4){var r=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3),o=t.value.substring(3,4);return xr(parseInt(r+r,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(t.value.length===6){var r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6);return xr(parseInt(r,16),parseInt(i,16),parseInt(a,16),1)}if(t.value.length===8){var r=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),o=t.value.substring(6,8);return xr(parseInt(r,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}}if(t.type===20){var s=Or[t.value.toUpperCase()];if(s!==void 0)return s}return Or.TRANSPARENT}},yr=function(e){return(255&e)==0},br=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?`rgba(`+i+`,`+r+`,`+n+`,`+t/255+`)`:`rgb(`+i+`,`+r+`,`+n+`)`},xr=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(r*255)<<0)>>>0},Sr=function(e,t){if(e.type===17)return e.number;if(e.type===16){var n=t===3?1:255;return t===3?e.number/100*n:Math.round(e.number/100*n)}return 0},Cr=function(e,t){var n=t.filter($n);if(n.length===3){var r=n.map(Sr),i=r[0],a=r[1],o=r[2];return xr(i,a,o,1)}if(n.length===4){var s=n.map(Sr),i=s[0],a=s[1],o=s[2],c=s[3];return xr(i,a,o,c)}return 0};function wr(e,t,n){return n<0&&(n+=1),n>=1&&--n,n<1/6?(t-e)*n*6+e:n<1/2?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var Tr=function(e,t){var n=t.filter($n),r=n[0],i=n[1],a=n[2],o=n[3],s=(r.type===17?_r(r.number):mr.parse(e,r))/(Math.PI*2),c=rr(i)?i.number/100:0,l=rr(a)?a.number/100:0,u=o!==void 0&&rr(o)?lr(o,1):1;if(c===0)return xr(l*255,l*255,l*255,1);var d=l<=.5?l*(c+1):l+c-l*c,f=l*2-d,p=wr(f,d,s+1/3),m=wr(f,d,s),h=wr(f,d,s-1/3);return xr(p*255,m*255,h*255,u)},Er={hsl:Tr,hsla:Tr,rgb:Cr,rgba:Cr},Dr=function(e,t){return vr.parse(e,Kn.create(t).parseComponentValue())},Or={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},kr={name:`background-clip`,initialValue:`border-box`,prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(Yn(e))switch(e.value){case`padding-box`:return 1;case`content-box`:return 2}return 0})}},Ar={name:`background-color`,initialValue:`transparent`,prefix:!1,type:3,format:`color`},jr=function(e,t){var n=vr.parse(e,t[0]),r=t[1];return r&&rr(r)?{color:n,stop:r}:{color:n,stop:null}},Mr=function(e,t){var n=e[0],r=e[e.length-1];n.stop===null&&(n.stop=ar),r.stop===null&&(r.stop=sr);for(var i=[],a=0,o=0;o<e.length;o++){var s=e[o].stop;if(s!==null){var c=lr(s,t);c>a?i.push(c):i.push(a),a=c}else i.push(null)}for(var l=null,o=0;o<i.length;o++){var u=i[o];if(u===null)l===null&&(l=o);else if(l!==null){for(var d=o-l,f=i[l-1],p=(u-f)/(d+1),m=1;m<=d;m++)i[l+m-1]=p*m;l=null}}return e.map(function(e,n){return{color:e.color,stop:Math.max(Math.min(1,i[n]/t),0)}})},Nr=function(e,t,n){var r=t/2,i=n/2,a=lr(e[0],t)-r,o=i-lr(e[1],n);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},Pr=function(e,t,n){var r=typeof e==`number`?e:Nr(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),a=t/2,o=n/2,s=i/2,c=Math.sin(r-Math.PI/2)*s,l=Math.cos(r-Math.PI/2)*s;return[i,a-l,a+l,o-c,o+c]},Fr=function(e,t){return Math.sqrt(e*e+t*t)},Ir=function(e,t,n,r,i){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var a=t[0],o=t[1],s=Fr(n-a,r-o);return(i?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:t,optimumDistance:s}:e},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Lr=function(e,t,n,r,i){var a=0,o=0;switch(e.size){case 0:e.shape===0?a=o=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-r)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(e.shape===0)a=o=Math.min(Fr(t,n),Fr(t,n-i),Fr(t-r,n),Fr(t-r,n-i));else if(e.shape===1){var s=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),c=Ir(r,i,t,n,!0),l=c[0],u=c[1];a=Fr(l-t,(u-n)/s),o=s*a}break;case 1:e.shape===0?a=o=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-r)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(e.shape===0)a=o=Math.max(Fr(t,n),Fr(t,n-i),Fr(t-r,n),Fr(t-r,n-i));else if(e.shape===1){var s=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r)),d=Ir(r,i,t,n,!1),l=d[0],u=d[1];a=Fr(l-t,(u-n)/s),o=s*a}break}return Array.isArray(e.size)&&(a=lr(e.size[0],r),o=e.size.length===2?lr(e.size[1],i):a),[a,o]},Rr=function(e,t){var n=_r(180),r=[];return er(t).forEach(function(t,i){if(i===0){var a=t[0];if(a.type===20&&a.value===`to`){n=gr(t);return}else if(hr(a)){n=mr.parse(e,a);return}}var o=jr(e,t);r.push(o)}),{angle:n,stops:r,type:1}},zr=function(e,t){var n=_r(180),r=[];return er(t).forEach(function(t,i){if(i===0){var a=t[0];if(a.type===20&&[`top`,`left`,`right`,`bottom`].indexOf(a.value)!==-1){n=gr(t);return}else if(hr(a)){n=(mr.parse(e,a)+_r(270))%_r(360);return}}var o=jr(e,t);r.push(o)}),{angle:n,stops:r,type:1}},Br=function(e,t){var n=_r(180),r=[],i=1;return er(t).forEach(function(t,n){var a=t[0];if(n===0){if(Yn(a)&&a.value===`linear`){i=1;return}else if(Yn(a)&&a.value===`radial`){i=2;return}}if(a.type===18){if(a.name===`from`){var o=vr.parse(e,a.values[0]);r.push({stop:ar,color:o})}else if(a.name===`to`){var o=vr.parse(e,a.values[0]);r.push({stop:sr,color:o})}else if(a.name===`color-stop`){var s=a.values.filter($n);if(s.length===2){var o=vr.parse(e,s[1]),c=s[0];Jn(c)&&r.push({stop:{type:16,number:c.number*100,flags:c.flags},color:o})}}}}),i===1?{angle:(n+_r(180))%_r(360),stops:r,type:i}:{size:3,shape:0,stops:r,position:[],type:i}},Vr=`closest-side`,Hr=`farthest-side`,Ur=`closest-corner`,Wr=`farthest-corner`,Gr=`circle`,Kr=`ellipse`,qr=`cover`,Jr=`contain`,Yr=function(e,t){var n=0,r=3,i=[],a=[];return er(t).forEach(function(t,o){var s=!0;if(o===0){var c=!1;s=t.reduce(function(e,t){if(c)if(Yn(t))switch(t.value){case`center`:return a.push(or),e;case`top`:case`left`:return a.push(ar),e;case`right`:case`bottom`:return a.push(sr),e}else (rr(t)||nr(t))&&a.push(t);else if(Yn(t))switch(t.value){case Gr:return n=0,!1;case Kr:return n=1,!1;case`at`:return c=!0,!1;case Vr:return r=0,!1;case qr:case Hr:return r=1,!1;case Jr:case Ur:return r=2,!1;case Wr:return r=3,!1}else if(nr(t)||rr(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},s)}if(s){var l=jr(e,t);i.push(l)}}),{size:r,shape:n,stops:i,position:a,type:2}},Xr=function(e,t){var n=0,r=3,i=[],a=[];return er(t).forEach(function(t,o){var s=!0;if(o===0?s=t.reduce(function(e,t){if(Yn(t))switch(t.value){case`center`:return a.push(or),!1;case`top`:case`left`:return a.push(ar),!1;case`right`:case`bottom`:return a.push(sr),!1}else if(rr(t)||nr(t))return a.push(t),!1;return e},s):o===1&&(s=t.reduce(function(e,t){if(Yn(t))switch(t.value){case Gr:return n=0,!1;case Kr:return n=1,!1;case Jr:case Vr:return r=0,!1;case Hr:return r=1,!1;case Ur:return r=2,!1;case qr:case Wr:return r=3,!1}else if(nr(t)||rr(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},s)),s){var c=jr(e,t);i.push(c)}}),{size:r,shape:n,stops:i,position:a,type:2}},Zr=function(e){return e.type===1},Qr=function(e){return e.type===2},$r={name:`image`,parse:function(e,t){if(t.type===22){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===18){var r=ti[t.name];if(r===void 0)throw Error(`Attempting to parse an unsupported image function "`+t.name+`"`);return r(e,t.values)}throw Error(`Unsupported image type `+t.type)}};function ei(e){return!(e.type===20&&e.value===`none`)&&(e.type!==18||!!ti[e.name])}var ti={"linear-gradient":Rr,"-moz-linear-gradient":zr,"-ms-linear-gradient":zr,"-o-linear-gradient":zr,"-webkit-linear-gradient":zr,"radial-gradient":Yr,"-moz-radial-gradient":Xr,"-ms-radial-gradient":Xr,"-o-radial-gradient":Xr,"-webkit-radial-gradient":Xr,"-webkit-gradient":Br},ni={name:`background-image`,initialValue:`none`,type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value===`none`?[]:t.filter(function(e){return $n(e)&&ei(e)}).map(function(t){return $r.parse(e,t)})}},ri={name:`background-origin`,initialValue:`border-box`,prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(Yn(e))switch(e.value){case`padding-box`:return 1;case`content-box`:return 2}return 0})}},ii={name:`background-position`,initialValue:`0% 0%`,type:1,prefix:!1,parse:function(e,t){return er(t).map(function(e){return e.filter(rr)}).map(ir)}},ai={name:`background-repeat`,initialValue:`repeat`,prefix:!1,type:1,parse:function(e,t){return er(t).map(function(e){return e.filter(Yn).map(function(e){return e.value}).join(` `)}).map(oi)}},oi=function(e){switch(e){case`no-repeat`:return 1;case`repeat-x`:case`repeat no-repeat`:return 2;case`repeat-y`:case`no-repeat repeat`:return 3;case`repeat`:default:return 0}},si;(function(e){e.AUTO=`auto`,e.CONTAIN=`contain`,e.COVER=`cover`})(si||={});var ci={name:`background-size`,initialValue:`0`,prefix:!1,type:1,parse:function(e,t){return er(t).map(function(e){return e.filter(li)})}},li=function(e){return Yn(e)||rr(e)},ui=function(e){return{name:`border-`+e+`-color`,initialValue:`transparent`,prefix:!1,type:3,format:`color`}},di=ui(`top`),fi=ui(`right`),pi=ui(`bottom`),mi=ui(`left`),hi=function(e){return{name:`border-radius-`+e,initialValue:`0 0`,prefix:!1,type:1,parse:function(e,t){return ir(t.filter(rr))}}},gi=hi(`top-left`),_i=hi(`top-right`),vi=hi(`bottom-right`),yi=hi(`bottom-left`),bi=function(e){return{name:`border-`+e+`-style`,initialValue:`solid`,prefix:!1,type:2,parse:function(e,t){switch(t){case`none`:return 0;case`dashed`:return 2;case`dotted`:return 3;case`double`:return 4}return 1}}},xi=bi(`top`),Si=bi(`right`),Ci=bi(`bottom`),wi=bi(`left`),Ti=function(e){return{name:`border-`+e+`-width`,initialValue:`0`,type:0,prefix:!1,parse:function(e,t){return qn(t)?t.number:0}}},Ei=Ti(`top`),Di=Ti(`right`),Oi=Ti(`bottom`),ki=Ti(`left`),Ai={name:`color`,initialValue:`transparent`,prefix:!1,type:3,format:`color`},ji={name:`direction`,initialValue:`ltr`,prefix:!1,type:2,parse:function(e,t){switch(t){case`rtl`:return 1;case`ltr`:default:return 0}}},Mi={name:`display`,initialValue:`inline-block`,prefix:!1,type:1,parse:function(e,t){return t.filter(Yn).reduce(function(e,t){return e|Ni(t.value)},0)}},Ni=function(e){switch(e){case`block`:case`-webkit-box`:return 2;case`inline`:return 4;case`run-in`:return 8;case`flow`:return 16;case`flow-root`:return 32;case`table`:return 64;case`flex`:case`-webkit-flex`:return 128;case`grid`:case`-ms-grid`:return 256;case`ruby`:return 512;case`subgrid`:return 1024;case`list-item`:return 2048;case`table-row-group`:return 4096;case`table-header-group`:return 8192;case`table-footer-group`:return 16384;case`table-row`:return 32768;case`table-cell`:return 65536;case`table-column-group`:return 131072;case`table-column`:return 262144;case`table-caption`:return 524288;case`ruby-base`:return 1048576;case`ruby-text`:return 2097152;case`ruby-base-container`:return 4194304;case`ruby-text-container`:return 8388608;case`contents`:return 16777216;case`inline-block`:return 33554432;case`inline-list-item`:return 67108864;case`inline-table`:return 134217728;case`inline-flex`:return 268435456;case`inline-grid`:return 536870912}return 0},Pi={name:`float`,initialValue:`none`,prefix:!1,type:2,parse:function(e,t){switch(t){case`left`:return 1;case`right`:return 2;case`inline-start`:return 3;case`inline-end`:return 4}return 0}},Fi={name:`letter-spacing`,initialValue:`0`,prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value===`normal`?0:t.type===17||t.type===15?t.number:0}},Ii;(function(e){e.NORMAL=`normal`,e.STRICT=`strict`})(Ii||={});var Li={name:`line-break`,initialValue:`normal`,prefix:!1,type:2,parse:function(e,t){switch(t){case`strict`:return Ii.STRICT;case`normal`:default:return Ii.NORMAL}}},Ri={name:`line-height`,initialValue:`normal`,prefix:!1,type:4},zi=function(e,t){return Yn(e)&&e.value===`normal`?1.2*t:e.type===17?t*e.number:rr(e)?lr(e,t):t},Bi={name:`list-style-image`,initialValue:`none`,type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value===`none`?null:$r.parse(e,t)}},Vi={name:`list-style-position`,initialValue:`outside`,prefix:!1,type:2,parse:function(e,t){switch(t){case`inside`:return 0;case`outside`:default:return 1}}},Hi={name:`list-style-type`,initialValue:`none`,prefix:!1,type:2,parse:function(e,t){switch(t){case`disc`:return 0;case`circle`:return 1;case`square`:return 2;case`decimal`:return 3;case`cjk-decimal`:return 4;case`decimal-leading-zero`:return 5;case`lower-roman`:return 6;case`upper-roman`:return 7;case`lower-greek`:return 8;case`lower-alpha`:return 9;case`upper-alpha`:return 10;case`arabic-indic`:return 11;case`armenian`:return 12;case`bengali`:return 13;case`cambodian`:return 14;case`cjk-earthly-branch`:return 15;case`cjk-heavenly-stem`:return 16;case`cjk-ideographic`:return 17;case`devanagari`:return 18;case`ethiopic-numeric`:return 19;case`georgian`:return 20;case`gujarati`:return 21;case`gurmukhi`:return 22;case`hebrew`:return 22;case`hiragana`:return 23;case`hiragana-iroha`:return 24;case`japanese-formal`:return 25;case`japanese-informal`:return 26;case`kannada`:return 27;case`katakana`:return 28;case`katakana-iroha`:return 29;case`khmer`:return 30;case`korean-hangul-formal`:return 31;case`korean-hanja-formal`:return 32;case`korean-hanja-informal`:return 33;case`lao`:return 34;case`lower-armenian`:return 35;case`malayalam`:return 36;case`mongolian`:return 37;case`myanmar`:return 38;case`oriya`:return 39;case`persian`:return 40;case`simp-chinese-formal`:return 41;case`simp-chinese-informal`:return 42;case`tamil`:return 43;case`telugu`:return 44;case`thai`:return 45;case`tibetan`:return 46;case`trad-chinese-formal`:return 47;case`trad-chinese-informal`:return 48;case`upper-armenian`:return 49;case`disclosure-open`:return 50;case`disclosure-closed`:return 51;case`none`:default:return-1}}},Ui=function(e){return{name:`margin-`+e,initialValue:`0`,prefix:!1,type:4}},Wi=Ui(`top`),Gi=Ui(`right`),Ki=Ui(`bottom`),qi=Ui(`left`),Ji={name:`overflow`,initialValue:`visible`,prefix:!1,type:1,parse:function(e,t){return t.filter(Yn).map(function(e){switch(e.value){case`hidden`:return 1;case`scroll`:return 2;case`clip`:return 3;case`auto`:return 4;case`visible`:default:return 0}})}},Yi={name:`overflow-wrap`,initialValue:`normal`,prefix:!1,type:2,parse:function(e,t){switch(t){case`break-word`:return`break-word`;case`normal`:default:return`normal`}}},Xi=function(e){return{name:`padding-`+e,initialValue:`0`,prefix:!1,type:3,format:`length-percentage`}},Zi=Xi(`top`),Qi=Xi(`right`),$i=Xi(`bottom`),ea=Xi(`left`),ta={name:`text-align`,initialValue:`left`,prefix:!1,type:2,parse:function(e,t){switch(t){case`right`:return 2;case`center`:case`justify`:return 1;case`left`:default:return 0}}},na={name:`position`,initialValue:`static`,prefix:!1,type:2,parse:function(e,t){switch(t){case`relative`:return 1;case`absolute`:return 2;case`fixed`:return 3;case`sticky`:return 4}return 0}},ra={name:`text-shadow`,initialValue:`none`,type:1,prefix:!1,parse:function(e,t){return t.length===1&&Zn(t[0],`none`)?[]:er(t).map(function(t){for(var n={color:Or.TRANSPARENT,offsetX:ar,offsetY:ar,blur:ar},r=0,i=0;i<t.length;i++){var a=t[i];nr(a)?(r===0?n.offsetX=a:r===1?n.offsetY=a:n.blur=a,r++):n.color=vr.parse(e,a)}return n})}},ia={name:`text-transform`,initialValue:`none`,prefix:!1,type:2,parse:function(e,t){switch(t){case`uppercase`:return 2;case`lowercase`:return 1;case`capitalize`:return 3}return 0}},aa={name:`transform`,initialValue:`none`,prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value===`none`)return null;if(t.type===18){var n=oa[t.name];if(n===void 0)throw Error(`Attempting to parse an unsupported transform function "`+t.name+`"`);return n(t.values)}return null}},oa={matrix:function(e){var t=e.filter(function(e){return e.type===17}).map(function(e){return e.number});return t.length===6?t:null},matrix3d:function(e){var t=e.filter(function(e){return e.type===17}).map(function(e){return e.number}),n=t[0],r=t[1];t[2],t[3];var i=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],s=t[13];return t[14],t[15],t.length===16?[n,r,i,a,o,s]:null}},sa={type:16,number:50,flags:st},ca=[sa,sa],la={name:`transform-origin`,initialValue:`50% 50%`,prefix:!0,type:1,parse:function(e,t){var n=t.filter(rr);return n.length===2?[n[0],n[1]]:ca}},ua={name:`visible`,initialValue:`none`,prefix:!1,type:2,parse:function(e,t){switch(t){case`hidden`:return 1;case`collapse`:return 2;case`visible`:default:return 0}}},da;(function(e){e.NORMAL=`normal`,e.BREAK_ALL=`break-all`,e.KEEP_ALL=`keep-all`})(da||={});for(var fa={name:`word-break`,initialValue:`normal`,prefix:!1,type:2,parse:function(e,t){switch(t){case`break-all`:return da.BREAK_ALL;case`keep-all`:return da.KEEP_ALL;case`normal`:default:return da.NORMAL}}},pa={name:`z-index`,initialValue:`auto`,prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Jn(t))return{auto:!1,order:t.number};throw Error(`Invalid z-index number parsed`)}},ma={name:`time`,parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case`s`:return 1e3*t.number;case`ms`:return t.number}throw Error(`Unsupported time type`)}},ha={name:`opacity`,initialValue:`1`,type:0,prefix:!1,parse:function(e,t){return Jn(t)?t.number:1}},ga={name:`text-decoration-color`,initialValue:`transparent`,prefix:!1,type:3,format:`color`},_a={name:`text-decoration-line`,initialValue:`none`,prefix:!1,type:1,parse:function(e,t){return t.filter(Yn).map(function(e){switch(e.value){case`underline`:return 1;case`overline`:return 2;case`line-through`:return 3;case`none`:return 4}return 0}).filter(function(e){return e!==0})}},va={name:`font-family`,initialValue:``,prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(` `)),n.length=0;break}}),n.length&&r.push(n.join(` `)),r.map(function(e){return e.indexOf(` `)===-1?e:`'`+e+`'`})}},ya={name:`font-size`,initialValue:`0`,prefix:!1,type:3,format:`length`},ba={name:`font-weight`,initialValue:`normal`,type:0,prefix:!1,parse:function(e,t){if(Jn(t))return t.number;if(Yn(t))switch(t.value){case`bold`:return 700;case`normal`:default:return 400}return 400}},V={name:`font-variant`,initialValue:`none`,type:1,prefix:!1,parse:function(e,t){return t.filter(Yn).map(function(e){return e.value})}},xa={name:`font-style`,initialValue:`normal`,prefix:!1,type:2,parse:function(e,t){switch(t){case`oblique`:return`oblique`;case`italic`:return`italic`;case`normal`:default:return`normal`}}},Sa=function(e,t){return(e&t)!==0},Ca={name:`content`,initialValue:`none`,type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value===`none`?[]:t}},wa={name:`counter-increment`,initialValue:`none`,prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value===`none`)return null;for(var r=[],i=t.filter(Qn),a=0;a<i.length;a++){var o=i[a],s=i[a+1];if(o.type===20){var c=s&&Jn(s)?s.number:1;r.push({counter:o.value,increment:c})}}return r}},Ta={name:`counter-reset`,initialValue:`none`,prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var n=[],r=t.filter(Qn),i=0;i<r.length;i++){var a=r[i],o=r[i+1];if(Yn(a)&&a.value!==`none`){var s=o&&Jn(o)?o.number:0;n.push({counter:a.value,reset:s})}}return n}},Ea={name:`duration`,initialValue:`0s`,prefix:!1,type:1,parse:function(e,t){return t.filter(qn).map(function(t){return ma.parse(e,t)})}},Da={name:`quotes`,initialValue:`none`,prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value===`none`)return null;var r=[],i=t.filter(Xn);if(i.length%2!=0)return null;for(var a=0;a<i.length;a+=2){var o=i[a].value,s=i[a+1].value;r.push({open:o,close:s})}return r}},Oa=function(e,t,n){if(!e)return``;var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:``},ka={name:`box-shadow`,initialValue:`none`,type:1,prefix:!1,parse:function(e,t){return t.length===1&&Zn(t[0],`none`)?[]:er(t).map(function(t){for(var n={color:255,offsetX:ar,offsetY:ar,blur:ar,spread:ar,inset:!1},r=0,i=0;i<t.length;i++){var a=t[i];Zn(a,`inset`)?n.inset=!0:nr(a)?(r===0?n.offsetX=a:r===1?n.offsetY=a:r===2?n.blur=a:n.spread=a,r++):n.color=vr.parse(e,a)}return n})}},Aa={name:`paint-order`,initialValue:`normal`,prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Yn).forEach(function(e){switch(e.value){case`stroke`:r.push(1);break;case`fill`:r.push(0);break;case`markers`:r.push(2);break}}),n.forEach(function(e){r.indexOf(e)===-1&&r.push(e)}),r}},ja={name:`-webkit-text-stroke-color`,initialValue:`currentcolor`,prefix:!1,type:3,format:`color`},Ma={name:`-webkit-text-stroke-width`,initialValue:`0`,type:0,prefix:!1,parse:function(e,t){return qn(t)?t.number:0}},Na=function(){function e(e,t){this.animationDuration=H(e,Ea,t.animationDuration),this.backgroundClip=H(e,kr,t.backgroundClip),this.backgroundColor=H(e,Ar,t.backgroundColor),this.backgroundImage=H(e,ni,t.backgroundImage),this.backgroundOrigin=H(e,ri,t.backgroundOrigin),this.backgroundPosition=H(e,ii,t.backgroundPosition),this.backgroundRepeat=H(e,ai,t.backgroundRepeat),this.backgroundSize=H(e,ci,t.backgroundSize),this.borderTopColor=H(e,di,t.borderTopColor),this.borderRightColor=H(e,fi,t.borderRightColor),this.borderBottomColor=H(e,pi,t.borderBottomColor),this.borderLeftColor=H(e,mi,t.borderLeftColor),this.borderTopLeftRadius=H(e,gi,t.borderTopLeftRadius),this.borderTopRightRadius=H(e,_i,t.borderTopRightRadius),this.borderBottomRightRadius=H(e,vi,t.borderBottomRightRadius),this.borderBottomLeftRadius=H(e,yi,t.borderBottomLeftRadius),this.borderTopStyle=H(e,xi,t.borderTopStyle),this.borderRightStyle=H(e,Si,t.borderRightStyle),this.borderBottomStyle=H(e,Ci,t.borderBottomStyle),this.borderLeftStyle=H(e,wi,t.borderLeftStyle),this.borderTopWidth=H(e,Ei,t.borderTopWidth),this.borderRightWidth=H(e,Di,t.borderRightWidth),this.borderBottomWidth=H(e,Oi,t.borderBottomWidth),this.borderLeftWidth=H(e,ki,t.borderLeftWidth),this.boxShadow=H(e,ka,t.boxShadow),this.color=H(e,Ai,t.color),this.direction=H(e,ji,t.direction),this.display=H(e,Mi,t.display),this.float=H(e,Pi,t.cssFloat),this.fontFamily=H(e,va,t.fontFamily),this.fontSize=H(e,ya,t.fontSize),this.fontStyle=H(e,xa,t.fontStyle),this.fontVariant=H(e,V,t.fontVariant),this.fontWeight=H(e,ba,t.fontWeight),this.letterSpacing=H(e,Fi,t.letterSpacing),this.lineBreak=H(e,Li,t.lineBreak),this.lineHeight=H(e,Ri,t.lineHeight),this.listStyleImage=H(e,Bi,t.listStyleImage),this.listStylePosition=H(e,Vi,t.listStylePosition),this.listStyleType=H(e,Hi,t.listStyleType),this.marginTop=H(e,Wi,t.marginTop),this.marginRight=H(e,Gi,t.marginRight),this.marginBottom=H(e,Ki,t.marginBottom),this.marginLeft=H(e,qi,t.marginLeft),this.opacity=H(e,ha,t.opacity);var n=H(e,Ji,t.overflow);this.overflowX=n[0],this.overflowY=n[n.length>1?1:0],this.overflowWrap=H(e,Yi,t.overflowWrap),this.paddingTop=H(e,Zi,t.paddingTop),this.paddingRight=H(e,Qi,t.paddingRight),this.paddingBottom=H(e,$i,t.paddingBottom),this.paddingLeft=H(e,ea,t.paddingLeft),this.paintOrder=H(e,Aa,t.paintOrder),this.position=H(e,na,t.position),this.textAlign=H(e,ta,t.textAlign),this.textDecorationColor=H(e,ga,t.textDecorationColor??t.color),this.textDecorationLine=H(e,_a,t.textDecorationLine??t.textDecoration),this.textShadow=H(e,ra,t.textShadow),this.textTransform=H(e,ia,t.textTransform),this.transform=H(e,aa,t.transform),this.transformOrigin=H(e,la,t.transformOrigin),this.visibility=H(e,ua,t.visibility),this.webkitTextStrokeColor=H(e,ja,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=H(e,Ma,t.webkitTextStrokeWidth),this.wordBreak=H(e,fa,t.wordBreak),this.zIndex=H(e,pa,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return yr(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Sa(this.display,4)||Sa(this.display,33554432)||Sa(this.display,268435456)||Sa(this.display,536870912)||Sa(this.display,67108864)||Sa(this.display,134217728)},e}(),Pa=function(){function e(e,t){this.content=H(e,Ca,t.content),this.quotes=H(e,Da,t.quotes)}return e}(),Fa=function(){function e(e,t){this.counterIncrement=H(e,wa,t.counterIncrement),this.counterReset=H(e,Ta,t.counterReset)}return e}(),H=function(e,t,n){var r=new Gn,i=n==null?t.initialValue:n.toString();r.write(i);var a=new Kn(r.read());switch(t.type){case 2:var o=a.parseComponentValue();return t.parse(e,Yn(o)?o.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case`angle`:return mr.parse(e,a.parseComponentValue());case`color`:return vr.parse(e,a.parseComponentValue());case`image`:return $r.parse(e,a.parseComponentValue());case`length`:var s=a.parseComponentValue();return nr(s)?s:ar;case`length-percentage`:var c=a.parseComponentValue();return rr(c)?c:ar;case`time`:return ma.parse(e,a.parseComponentValue())}break}},Ia=`data-html2canvas-debug`,La=function(e){switch(e.getAttribute(Ia)){case`all`:return 1;case`clone`:return 2;case`parse`:return 3;case`render`:return 4;default:return 0}},Ra=function(e,t){var n=La(e);return n===1||t===n},za=function(){function e(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Ra(t,3))debugger;this.styles=new Na(e,window.getComputedStyle(t,null)),As(t)&&(this.styles.animationDuration.some(function(e){return e>0})&&(t.style.animationDuration=`0s`),this.styles.transform!==null&&(t.style.transform=`none`)),this.bounds=s(this.context,t),Ra(t,4)&&(this.flags|=16)}return e}(),Ba=`AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=`,Va=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`,Ha=typeof Uint8Array>`u`?[]:new Uint8Array(256),Ua=0;Ua<Va.length;Ua++)Ha[Va.charCodeAt(Ua)]=Ua;for(var Wa=function(e){var t=e.length*.75,n=e.length,r,i=0,a,o,s,c;e[e.length-1]===`=`&&(t--,e[e.length-2]===`=`&&t--);var l=typeof ArrayBuffer<`u`&&typeof Uint8Array<`u`&&Uint8Array.prototype.slice!==void 0?new ArrayBuffer(t):Array(t),u=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<n;r+=4)a=Ha[e.charCodeAt(r)],o=Ha[e.charCodeAt(r+1)],s=Ha[e.charCodeAt(r+2)],c=Ha[e.charCodeAt(r+3)],u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|s>>2,u[i++]=(s&3)<<6|c&63;return l},Ga=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Ka=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},qa=5,Ja=11,Ya=2,Xa=Ja-qa,Za=65536>>qa,Qa=(1<<qa)-1,$a=1024>>qa,eo=Za+$a+32,to=65536>>Ja,no=(1<<Xa)-1,ro=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},io=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},ao=function(e,t){var n=Wa(e),r=Array.isArray(n)?Ka(n):new Uint32Array(n),i=Array.isArray(n)?Ga(n):new Uint16Array(n),a=24,o=ro(i,a/2,r[4]/2),s=r[5]===2?ro(i,(a+r[4])/2):io(r,Math.ceil((a+r[4])/4));return new oo(r[0],r[1],r[2],r[3],o,s)},oo=function(){function e(e,t,n,r,i,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>qa],t=(t<<Ya)+(e&Qa),this.data[t];if(e<=65535)return t=this.index[Za+(e-55296>>qa)],t=(t<<Ya)+(e&Qa),this.data[t];if(e<this.highStart)return t=eo-to+(e>>Ja),t=this.index[t],t+=e>>qa&no,t=this.index[t],t=(t<<Ya)+(e&Qa),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),so=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`,co=typeof Uint8Array>`u`?[]:new Uint8Array(256),lo=0;lo<so.length;lo++)co[so.charCodeAt(lo)]=lo;var uo=1,fo=2,po=3,mo=4,ho=5,go=7,_o=8,vo=9,yo=10,bo=11,xo=12,So=13,Co=14,wo=15,To=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);(a&64512)==56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),n--)}else t.push(i)}return t},Eo=function(){var e=[...arguments];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return``;for(var n=[],r=-1,i=``;++r<t;){var a=e[r];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(r+1===t||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},Do=ao(Ba),Oo=``,ko=``,Ao=function(e){return Do.get(e)},jo=function(e,t,n){var r=n-2,i=t[r],a=t[n-1],o=t[n];if(a===fo&&o===po)return Oo;if(a===fo||a===po||a===mo||o===fo||o===po||o===mo)return ko;if(a===_o&&[_o,vo,bo,xo].indexOf(o)!==-1||(a===bo||a===vo)&&(o===vo||o===yo)||(a===xo||a===yo)&&o===yo||o===So||o===ho||o===go||a===uo)return Oo;if(a===So&&o===Co){for(;i===ho;)i=t[--r];if(i===Co)return Oo}if(a===wo&&o===wo){for(var s=0;i===wo;)s++,i=t[--r];if(s%2==0)return Oo}return ko},Mo=function(e){var t=To(e),n=t.length,r=0,i=0,a=t.map(Ao);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=Oo;r<n&&(e=jo(t,a,++r))===Oo;);if(e!==Oo||r===n){var o=Eo.apply(null,t.slice(i,r));return i=r,{value:o,done:!1}}return{done:!0,value:null}}}},No=function(e){for(var t=Mo(e),n=[],r;!(r=t.next()).done;)r.value&&n.push(r.value.slice());return n},Po=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement(`boundtest`);r.style.height=t+`px`,r.style.display=`block`,e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),a=Math.round(i.height);if(e.body.removeChild(r),a===t)return!0}}return!1},Fo=function(e){var t=e.createElement(`boundtest`);t.style.width=`50px`,t.style.display=`block`,t.style.fontSize=`12px`,t.style.letterSpacing=`0px`,t.style.wordSpacing=`0px`,e.body.appendChild(t);var n=e.createRange();t.innerHTML=typeof``.repeat==`function`?`&#128104;`.repeat(10):``;var r=t.firstChild,i=l(r.data).map(function(e){return u(e)}),a=0,o={},s=i.every(function(e,t){n.setStart(r,a),n.setEnd(r,a+e.length);var i=n.getBoundingClientRect();a+=e.length;var s=i.x>o.x||i.y>o.y;return o=i,t===0?!0:s});return e.body.removeChild(t),s},Io=function(){return new Image().crossOrigin!==void 0},Lo=function(){return typeof new XMLHttpRequest().responseType==`string`},Ro=function(e){var t=new Image,n=e.createElement(`canvas`),r=n.getContext(`2d`);if(!r)return!1;t.src=`data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>`;try{r.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0},zo=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},Bo=function(e){var t=e.createElement(`canvas`),n=100;t.width=n,t.height=n;var r=t.getContext(`2d`);if(!r)return Promise.reject(!1);r.fillStyle=`rgb(0, 255, 0)`,r.fillRect(0,0,n,n);var i=new Image,a=t.toDataURL();i.src=a;var o=Vo(n,n,0,0,i);return r.fillStyle=`red`,r.fillRect(0,0,n,n),Ho(o).then(function(t){r.drawImage(t,0,0);var i=r.getImageData(0,0,n,n).data;r.fillStyle=`red`,r.fillRect(0,0,n,n);var o=e.createElement(`div`);return o.style.backgroundImage=`url(`+a+`)`,o.style.height=n+`px`,zo(i)?Ho(Vo(n,n,0,0,o)):Promise.reject(!1)}).then(function(e){return r.drawImage(e,0,0),zo(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},Vo=function(e,t,n,r,i){var a=`http://www.w3.org/2000/svg`,o=document.createElementNS(a,`svg`),s=document.createElementNS(a,`foreignObject`);return o.setAttributeNS(null,`width`,e.toString()),o.setAttributeNS(null,`height`,t.toString()),s.setAttributeNS(null,`width`,`100%`),s.setAttributeNS(null,`height`,`100%`),s.setAttributeNS(null,`x`,n.toString()),s.setAttributeNS(null,`y`,r.toString()),s.setAttributeNS(null,`externalResourcesRequired`,`true`),o.appendChild(s),s.appendChild(i),o},Ho=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src=`data:image/svg+xml;charset=utf-8,`+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Uo={get SUPPORT_RANGE_BOUNDS(){var e=Po(document);return Object.defineProperty(Uo,`SUPPORT_RANGE_BOUNDS`,{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Uo.SUPPORT_RANGE_BOUNDS&&Fo(document);return Object.defineProperty(Uo,`SUPPORT_WORD_BREAKING`,{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=Ro(document);return Object.defineProperty(Uo,`SUPPORT_SVG_DRAWING`,{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from==`function`&&typeof window.fetch==`function`?Bo(document):Promise.resolve(!1);return Object.defineProperty(Uo,`SUPPORT_FOREIGNOBJECT_DRAWING`,{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=Io();return Object.defineProperty(Uo,`SUPPORT_CORS_IMAGES`,{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=Lo();return Object.defineProperty(Uo,`SUPPORT_RESPONSE_TYPE`,{value:e}),e},get SUPPORT_CORS_XHR(){var e=`withCredentials`in new XMLHttpRequest;return Object.defineProperty(Uo,`SUPPORT_CORS_XHR`,{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<`u`&&Intl.Segmenter);return Object.defineProperty(Uo,`SUPPORT_NATIVE_TEXT_SEGMENTATION`,{value:e}),e}},Wo=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Go=function(e,t,n,r){var i=Xo(t,n),a=[],s=0;return i.forEach(function(t){if(n.textDecorationLine.length||t.trim().length>0)if(Uo.SUPPORT_RANGE_BOUNDS){var i=qo(r,s,t.length).getClientRects();if(i.length>1){var c=Jo(t),l=0;c.forEach(function(t){a.push(new Wo(t,o.fromDOMRectList(e,qo(r,l+s,t.length).getClientRects()))),l+=t.length})}else a.push(new Wo(t,o.fromDOMRectList(e,i)))}else{var u=r.splitText(t.length);a.push(new Wo(t,Ko(e,r))),r=u}else Uo.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));s+=t.length}),a},Ko=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement(`html2canvaswrapper`);r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var a=s(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),a}}return o.EMPTY},qo=function(e,t,n){var r=e.ownerDocument;if(!r)throw Error(`Node has no owner document`);var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},Jo=function(e){if(Uo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:`grapheme`});return Array.from(t.segment(e)).map(function(e){return e.segment})}return No(e)},Yo=function(e,t){if(Uo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:`word`});return Array.from(n.segment(e)).map(function(e){return e.segment})}return Qo(e,t)},Xo=function(e,t){return t.letterSpacing===0?Yo(e,t):Jo(e)},Zo=[32,160,4961,65792,65793,4153,4241],Qo=function(e,t){for(var n=it(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap===`break-word`?`break-word`:t.wordBreak}),r=[],i,a=function(){if(i.value){var e=i.value.slice(),t=l(e),n=``;t.forEach(function(e){Zo.indexOf(e)===-1?n+=u(e):(n.length&&r.push(n),r.push(u(e)),n=``)}),n.length&&r.push(n)}};!(i=n.next()).done;)a();return r},$o=function(){function e(e,t,n){this.text=es(t.data,n.textTransform),this.textBounds=Go(e,this.text,n,t)}return e}(),es=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(ts,ns);case 2:return e.toUpperCase();default:return e}},ts=/(^|\s|:|-|\(|\))([a-z])/g,ns=function(e,t,n){return e.length>0?t+n.toUpperCase():e},rs=function(e){t(n,e);function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return n}(za),os=function(e){t(n,e);function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return n}(za),ss=function(e){t(n,e);function n(t,n){var r=e.call(this,t,n)||this,i=new XMLSerializer,a=s(t,n);return n.setAttribute(`width`,a.width+`px`),n.setAttribute(`height`,a.height+`px`),r.svg=`data:image/svg+xml,`+encodeURIComponent(i.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return n}(za),cs=function(e){t(n,e);function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return n}(za),ls=function(e){t(n,e);function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed=typeof n.reversed==`boolean`&&n.reversed===!0,r}return n}(za),us=[{type:15,flags:0,unit:`px`,number:3}],ds=[{type:16,flags:0,number:50}],fs=function(e){return e.width>e.height?new o(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new o(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},ps=function(e){var t=e.type===gs?Array(e.value.length+1).join(``):e.value;return t.length===0?e.placeholder||``:t},ms=`checkbox`,hs=`radio`,gs=`password`,_s=707406591,vs=function(e){t(n,e);function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=ps(n),(r.type===ms||r.type===hs)&&(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=fs(r.bounds)),r.type){case ms:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=us;break;case hs:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=ds;break}return r}return n}(za),ys=function(e){t(n,e);function n(t,n){var r=e.call(this,t,n)||this,i=n.options[n.selectedIndex||0];return r.value=i&&i.text||``,r}return n}(za),bs=function(e){t(n,e);function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return n}(za),xs=function(e){t(n,e);function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=Ts(t,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Dr(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Or.TRANSPARENT,a=n.contentWindow.document.body?Dr(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):Or.TRANSPARENT;r.backgroundColor=yr(i)?yr(a)?r.styles.backgroundColor:a:i}}catch{}return r}return n}(za),Ss=[`OL`,`UL`,`MENU`],Cs=function(e,t,n,r){for(var i=t.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,Os(i)&&i.data.trim().length>0)n.textNodes.push(new $o(e,i,n.styles));else if(ks(i))if(Ks(i)&&i.assignedNodes)i.assignedNodes().forEach(function(t){return Cs(e,t,n,r)});else{var o=ws(e,i);o.styles.isVisible()&&(Es(i,o,r)?o.flags|=4:Ds(o.styles)&&(o.flags|=2),Ss.indexOf(i.tagName)!==-1&&(o.flags|=8),n.elements.push(o),i.slot,i.shadowRoot?Cs(e,i.shadowRoot,o,r):!Ws(i)&&!Is(i)&&!Gs(i)&&Cs(e,i,o,r))}},ws=function(e,t){return Bs(t)?new rs(e,t):Rs(t)?new os(e,t):Is(t)?new ss(e,t):Ms(t)?new cs(e,t):Ns(t)?new ls(e,t):Ps(t)?new vs(e,t):Gs(t)?new ys(e,t):Ws(t)?new bs(e,t):Vs(t)?new xs(e,t):new za(e,t)},Ts=function(e,t){var n=ws(e,t);return n.flags|=4,Cs(e,t,n,n),n},Es=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Ls(e)&&n.styles.isTransparent()},Ds=function(e){return e.isPositioned()||e.isFloating()},Os=function(e){return e.nodeType===Node.TEXT_NODE},ks=function(e){return e.nodeType===Node.ELEMENT_NODE},As=function(e){return ks(e)&&e.style!==void 0&&!js(e)},js=function(e){return typeof e.className==`object`},Ms=function(e){return e.tagName===`LI`},Ns=function(e){return e.tagName===`OL`},Ps=function(e){return e.tagName===`INPUT`},Fs=function(e){return e.tagName===`HTML`},Is=function(e){return e.tagName===`svg`},Ls=function(e){return e.tagName===`BODY`},Rs=function(e){return e.tagName===`CANVAS`},zs=function(e){return e.tagName===`VIDEO`},Bs=function(e){return e.tagName===`IMG`},Vs=function(e){return e.tagName===`IFRAME`},Hs=function(e){return e.tagName===`STYLE`},Us=function(e){return e.tagName===`SCRIPT`},Ws=function(e){return e.tagName===`TEXTAREA`},Gs=function(e){return e.tagName===`SELECT`},Ks=function(e){return e.tagName===`SLOT`},qs=function(e){return e.tagName.indexOf(`-`)>0},Js=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){return this.counters[e]||[]},e.prototype.pop=function(e){var t=this;e.forEach(function(e){return t.counters[e].pop()})},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,i=!0;n!==null&&n.forEach(function(e){var n=t.counters[e.counter];n&&e.increment!==0&&(i=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)});var a=[];return i&&r.forEach(function(e){var n=t.counters[e.counter];a.push(e.counter),n||=t.counters[e.counter]=[],n.push(e.reset)}),a},e}(),Ys={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:[`M`,`CM`,`D`,`CD`,`C`,`XC`,`L`,`XL`,`X`,`IX`,`V`,`IV`,`I`]},Xs={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:`...................................`.split(`.`)},Zs={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:`....................................`.split(`.`)},Qs={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:`....................................`.split(`.`)},$s=function(e,t,n,r,i,a){return e<t||e>n?fc(e,i,a.length>0):r.integers.reduce(function(t,n,i){for(;e>=n;)e-=n,t+=r.values[i];return t},``)+a},ec=function(e,t,n,r){var i=``;do n||e--,i=r(e)+i,e/=t;while(e*t>=t);return i},tc=function(e,t,n,r,i){var a=n-t+1;return(e<0?`-`:``)+(ec(Math.abs(e),a,r,function(e){return u(Math.floor(e%a)+t)})+i)},nc=function(e,t,n){n===void 0&&(n=`. `);var r=t.length;return ec(Math.abs(e),r,!1,function(e){return t[Math.floor(e%r)]})+n},rc=1,ic=2,ac=4,oc=8,sc=function(e,t,n,r,i,a){if(e<-9999||e>9999)return fc(e,4,i.length>0);var o=Math.abs(e),s=i;if(o===0)return t[0]+s;for(var c=0;o>0&&c<=4;c++){var l=o%10;l===0&&Sa(a,rc)&&s!==``?s=t[l]+s:l>1||l===1&&c===0||l===1&&c===1&&Sa(a,ic)||l===1&&c===1&&Sa(a,ac)&&e>100||l===1&&c>1&&Sa(a,oc)?s=t[l]+(c>0?n[c-1]:``)+s:l===1&&c>0&&(s=n[c-1]+s),o=Math.floor(o/10)}return(e<0?r:``)+s},cc=``,lc=``,uc=``,dc=``,fc=function(e,t,n){var r=n?`. `:``,i=n?``:``,a=n?`, `:``,o=n?` `:``;switch(t){case 0:return``+o;case 1:return``+o;case 2:return``+o;case 5:var s=tc(e,48,57,!0,r);return s.length<4?`0`+s:s;case 4:return nc(e,``,i);case 6:return $s(e,1,3999,Ys,3,r).toLowerCase();case 7:return $s(e,1,3999,Ys,3,r);case 8:return tc(e,945,969,!1,r);case 9:return tc(e,97,122,!1,r);case 10:return tc(e,65,90,!1,r);case 11:return tc(e,1632,1641,!0,r);case 12:case 49:return $s(e,1,9999,Xs,3,r);case 35:return $s(e,1,9999,Xs,3,r).toLowerCase();case 13:return tc(e,2534,2543,!0,r);case 14:case 30:return tc(e,6112,6121,!0,r);case 15:return nc(e,``,i);case 16:return nc(e,``,i);case 17:case 48:return sc(e,``,cc,``,i,ic|ac|oc);case 47:return sc(e,``,lc,``,i,rc|ic|ac|oc);case 42:return sc(e,``,cc,``,i,ic|ac|oc);case 41:return sc(e,``,lc,``,i,rc|ic|ac|oc);case 26:return sc(e,``,``,uc,i,0);case 25:return sc(e,``,``,uc,i,rc|ic|ac);case 31:return sc(e,``,``,dc,a,rc|ic|ac);case 33:return sc(e,``,``,dc,a,0);case 32:return sc(e,``,``,dc,a,rc|ic|ac);case 18:return tc(e,2406,2415,!0,r);case 20:return $s(e,1,19999,Qs,3,r);case 21:return tc(e,2790,2799,!0,r);case 22:return tc(e,2662,2671,!0,r);case 22:return $s(e,1,10999,Zs,3,r);case 23:return nc(e,``);case 24:return nc(e,``);case 27:return tc(e,3302,3311,!0,r);case 28:return nc(e,``,i);case 29:return nc(e,``,i);case 34:return tc(e,3792,3801,!0,r);case 37:return tc(e,6160,6169,!0,r);case 38:return tc(e,4160,4169,!0,r);case 39:return tc(e,2918,2927,!0,r);case 40:return tc(e,1776,1785,!0,r);case 43:return tc(e,3046,3055,!0,r);case 44:return tc(e,3174,3183,!0,r);case 45:return tc(e,3664,3673,!0,r);case 46:return tc(e,3872,3881,!0,r);case 3:default:return tc(e,48,57,!0,r)}},pc=`data-html2canvas-ignore`,mc=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Js,this.quoteDepth=0,!t.ownerDocument)throw Error(`Cloned element does not have an owner document`);this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,a=gc(e,t);if(!a.contentWindow)return Promise.reject(`Unable to find iframe window`);var o=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,c=a.contentWindow,l=c.document,u=yc(a).then(function(){return r(n,void 0,void 0,function(){var e,n;return i(this,function(r){switch(r.label){case 0:return this.scrolledElements.forEach(wc),c&&(c.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(c.scrollY!==t.top||c.scrollX!==t.left)&&(this.context.logger.warn(`Unable to restore scroll position for cloned document`),this.context.windowBounds=this.context.windowBounds.add(c.scrollX-t.left,c.scrollY-t.top,0,0))),e=this.options.onclone,n=this.clonedReferenceElement,n===void 0?[2,Promise.reject(`Error finding the `+this.referenceElement.nodeName+` in the cloned document`)]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,vc(l)]:[3,4];case 3:r.sent(),r.label=4;case 4:return typeof e==`function`?[2,Promise.resolve().then(function(){return e(l,n)}).then(function(){return a})]:[2,a]}})})});return l.open(),l.write(Sc(document.doctype)+`<html></html>`),Cc(this.referenceElement.ownerDocument,o,s),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},e.prototype.createElementClone=function(e){if(Ra(e,2))debugger;if(Rs(e))return this.createCanvasClone(e);if(zs(e))return this.createVideoClone(e);if(Hs(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Bs(t)&&(Bs(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=``),t.loading===`lazy`&&(t.loading=`eager`)),qs(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement(`html2canvascustomelement`);return xc(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(e,t){return t&&typeof t.cssText==`string`?e+t.cssText:e},``),r=e.cloneNode(!1);return r.textContent=n,r}}catch(e){if(this.context.logger.error(`Unable to access cssRules property`,e),e.name!==`SecurityError`)throw e}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){if(this.options.inlineImages&&e.ownerDocument){var t=e.ownerDocument.createElement(`img`);try{return t.src=e.toDataURL(),t}catch{this.context.logger.info(`Unable to inline canvas contents, canvas is tainted`,e)}}var n=e.cloneNode(!1);try{n.width=e.width,n.height=e.height;var r=e.getContext(`2d`),i=n.getContext(`2d`);if(i)if(!this.options.allowTaint&&r)i.putImageData(r.getImageData(0,0,e.width,e.height),0,0);else{var a=e.getContext(`webgl2`)??e.getContext(`webgl`);a&&a.getContextAttributes()?.preserveDrawingBuffer===!1&&this.context.logger.warn(`Unable to clone WebGL context as it has preserveDrawingBuffer=false`,e),i.drawImage(e,0,0)}return n}catch{this.context.logger.info(`Unable to clone canvas as it is tainted`,e)}return n},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement(`canvas`);t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext(`2d`);try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info(`Unable to clone video as it is tainted`,e)}var r=e.ownerDocument.createElement(`canvas`);return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){(!ks(t)||!Us(t)&&!t.hasAttribute(pc)&&(typeof this.options.ignoreElements!=`function`||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!ks(t)||!Hs(t))&&e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(ks(i)&&Ks(i)&&typeof i.assignedNodes==`function`){var a=i.assignedNodes();a.length&&a.forEach(function(e){return r.appendChildNode(t,e,n)})}else this.appendChildNode(t,i,n)},e.prototype.cloneNode=function(e,t){if(Os(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&ks(e)&&(As(e)||js(e))){var r=this.createElementClone(e);r.style.transitionProperty=`none`;var i=n.getComputedStyle(e),a=n.getComputedStyle(e,`:before`),o=n.getComputedStyle(e,`:after`);this.referenceElement===e&&As(r)&&(this.clonedReferenceElement=r),Ls(r)&&Ac(r);var s=this.counters.parse(new Fa(this.context,i)),c=this.resolvePseudoContent(e,r,a,hc.BEFORE);qs(e)&&(t=!0),zs(e)||this.cloneChildNodes(e,r,t),c&&r.insertBefore(c,r.firstChild);var l=this.resolvePseudoContent(e,r,o,hc.AFTER);return l&&r.appendChild(l),this.counters.pop(s),(i&&(this.options.copyStyles||js(e))&&!Vs(e)||t)&&xc(i,r),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Ws(e)||Gs(e))&&(Ws(r)||Gs(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var i=this;if(n){var a=n.content,o=t.ownerDocument;if(!(!o||!a||a===`none`||a===`-moz-alt-content`||n.display===`none`)){this.counters.parse(new Fa(this.context,n));var s=new Pa(this.context,n),c=o.createElement(`html2canvaspseudoelement`);xc(n,c),s.content.forEach(function(t){if(t.type===0)c.appendChild(o.createTextNode(t.value));else if(t.type===22){var n=o.createElement(`img`);n.src=t.value,n.style.opacity=`1`,c.appendChild(n)}else if(t.type===18){if(t.name===`attr`){var r=t.values.filter(Yn);r.length&&c.appendChild(o.createTextNode(e.getAttribute(r[0].value)||``))}else if(t.name===`counter`){var a=t.values.filter($n),l=a[0],u=a[1];if(l&&Yn(l)){var d=i.counters.getCounterValue(l.value),f=u&&Yn(u)?Hi.parse(i.context,u.value):3;c.appendChild(o.createTextNode(fc(d,f,!1)))}}else if(t.name===`counters`){var p=t.values.filter($n),l=p[0],m=p[1],u=p[2];if(l&&Yn(l)){var h=i.counters.getCounterValues(l.value),g=u&&Yn(u)?Hi.parse(i.context,u.value):3,_=m&&m.type===0?m.value:``,v=h.map(function(e){return fc(e,g,!1)}).join(_);c.appendChild(o.createTextNode(v))}}}else if(t.type===20)switch(t.value){case`open-quote`:c.appendChild(o.createTextNode(Oa(s.quotes,i.quoteDepth++,!0)));break;case`close-quote`:c.appendChild(o.createTextNode(Oa(s.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(t.value))}}),c.className=Dc+` `+Oc;var l=r===hc.BEFORE?` `+Dc:` `+Oc;return js(t)?t.className.baseValue+=l:t.className+=l,c}}},e.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},e}(),hc;(function(e){e[e.BEFORE=0]=`BEFORE`,e[e.AFTER=1]=`AFTER`})(hc||={});var gc=function(e,t){var n=e.createElement(`iframe`);return n.className=`html2canvas-container`,n.style.visibility=`hidden`,n.style.position=`fixed`,n.style.left=`-10000px`,n.style.top=`0px`,n.style.border=`0`,n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling=`no`,n.setAttribute(pc,`true`),e.body.appendChild(n),n},_c=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},vc=function(e){return Promise.all([].slice.call(e.images,0).map(_c))},yc=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n(`No window assigned for iframe`);var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval(function(){i.body.childNodes.length>0&&i.readyState===`complete`&&(clearInterval(n),t(e))},50)}})},bc=[`all`,`d`,`content`],xc=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);bc.indexOf(r)===-1&&t.style.setProperty(r,e.getPropertyValue(r))}return t},Sc=function(e){var t=``;return e&&(t+=`<!DOCTYPE `,e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+=`"`+e.publicId+`"`),e.systemId&&(t+=`"`+e.systemId+`"`),t+=`>`),t},Cc=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},wc=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},Tc=`:before`,Ec=`:after`,Dc=`___html2canvas___pseudoelement_before`,Oc=`___html2canvas___pseudoelement_after`,kc=`{
    content: "" !important;
    display: none !important;
}`,Ac=function(e){jc(e,`.`+Dc+Tc+kc+`
         .`+Oc+Ec+kc)},jc=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement(`style`);r.textContent=t,e.appendChild(r)}},Mc=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):`about:blank`},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement(`a`),e._origin=e.getOrigin(t.location.href)},e._origin=`about:blank`,e}(),Nc=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(Bc(e)||Lc(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,o=this;return i(this,function(i){switch(i.label){case 0:return t=Mc.isSameOrigin(e),n=!Rc(e)&&this._options.useCORS===!0&&Uo.SUPPORT_CORS_IMAGES&&!t,r=!Rc(e)&&!t&&!Bc(e)&&typeof this._options.proxy==`string`&&Uo.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!Rc(e)&&!Bc(e)&&!r&&!n?[2]:(a=e,r?[4,this.proxy(a)]:[3,2]);case 1:a=i.sent(),i.label=2;case 2:return this.context.logger.debug(`Added image `+e.substring(0,256)),[4,new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(zc(a)||n)&&(r.crossOrigin=`anonymous`),r.src=a,r.complete===!0&&setTimeout(function(){return e(r)},500),o._options.imageTimeout>0&&setTimeout(function(){return t(`Timed out (`+o._options.imageTimeout+`ms) loading image`)},o._options.imageTimeout)})];case 3:return[2,i.sent()]}})})},e.prototype.has=function(e){return this._cache[e]!==void 0},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw Error(`No proxy defined`);var r=e.substring(0,256);return new Promise(function(i,a){var o=Uo.SUPPORT_RESPONSE_TYPE?`blob`:`text`,s=new XMLHttpRequest;s.onload=function(){if(s.status===200)if(o===`text`)i(s.response);else{var e=new FileReader;e.addEventListener(`load`,function(){return i(e.result)},!1),e.addEventListener(`error`,function(e){return a(e)},!1),e.readAsDataURL(s.response)}else a(`Failed to proxy resource `+r+` with status code `+s.status)},s.onerror=a;var c=n.indexOf(`?`)>-1?`&`:`?`;if(s.open(`GET`,``+n+c+`url=`+encodeURIComponent(e)+`&responseType=`+o),o!==`text`&&s instanceof XMLHttpRequest&&(s.responseType=o),t._options.imageTimeout){var l=t._options.imageTimeout;s.timeout=l,s.ontimeout=function(){return a(`Timed out (`+l+`ms) proxying `+r)}}s.send()})},e}(),Pc=/^data:image\/svg\+xml/i,Fc=/^data:image\/.*;base64,/i,Ic=/^data:image\/.*/i,Lc=function(e){return Uo.SUPPORT_SVG_DRAWING||!Vc(e)},Rc=function(e){return Ic.test(e)},zc=function(e){return Fc.test(e)},Bc=function(e){return e.substr(0,4)===`blob`},Vc=function(e){return e.substr(-3).toLowerCase()===`svg`||Pc.test(e)},U=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Hc=function(e,t,n){return new U(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Uc=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=Hc(this.start,this.startControl,t),i=Hc(this.startControl,this.endControl,t),a=Hc(this.endControl,this.end,t),o=Hc(r,i,t),s=Hc(i,a,t),c=Hc(o,s,t);return n?new e(this.start,r,o,c):new e(c,s,a,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Wc=function(e){return e.type===1},Gc=function(){function e(e){var t=e.styles,n=e.bounds,r=cr(t.borderTopLeftRadius,n.width,n.height),i=r[0],a=r[1],o=cr(t.borderTopRightRadius,n.width,n.height),s=o[0],c=o[1],l=cr(t.borderBottomRightRadius,n.width,n.height),u=l[0],d=l[1],f=cr(t.borderBottomLeftRadius,n.width,n.height),p=f[0],m=f[1],h=[];h.push((i+s)/n.width),h.push((p+u)/n.width),h.push((a+m)/n.height),h.push((c+d)/n.height);var g=Math.max.apply(Math,h);g>1&&(i/=g,a/=g,s/=g,c/=g,u/=g,d/=g,p/=g,m/=g);var _=n.width-s,v=n.height-d,y=n.width-u,b=n.height-m,x=t.borderTopWidth,S=t.borderRightWidth,C=t.borderBottomWidth,w=t.borderLeftWidth,T=lr(t.paddingTop,e.bounds.width),E=lr(t.paddingRight,e.bounds.width),D=lr(t.paddingBottom,e.bounds.width),O=lr(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||a>0?qc(n.left+w/3,n.top+x/3,i-w/3,a-x/3,Kc.TOP_LEFT):new U(n.left+w/3,n.top+x/3),this.topRightBorderDoubleOuterBox=i>0||a>0?qc(n.left+_,n.top+x/3,s-S/3,c-x/3,Kc.TOP_RIGHT):new U(n.left+n.width-S/3,n.top+x/3),this.bottomRightBorderDoubleOuterBox=u>0||d>0?qc(n.left+y,n.top+v,u-S/3,d-C/3,Kc.BOTTOM_RIGHT):new U(n.left+n.width-S/3,n.top+n.height-C/3),this.bottomLeftBorderDoubleOuterBox=p>0||m>0?qc(n.left+w/3,n.top+b,p-w/3,m-C/3,Kc.BOTTOM_LEFT):new U(n.left+w/3,n.top+n.height-C/3),this.topLeftBorderDoubleInnerBox=i>0||a>0?qc(n.left+w*2/3,n.top+x*2/3,i-w*2/3,a-x*2/3,Kc.TOP_LEFT):new U(n.left+w*2/3,n.top+x*2/3),this.topRightBorderDoubleInnerBox=i>0||a>0?qc(n.left+_,n.top+x*2/3,s-S*2/3,c-x*2/3,Kc.TOP_RIGHT):new U(n.left+n.width-S*2/3,n.top+x*2/3),this.bottomRightBorderDoubleInnerBox=u>0||d>0?qc(n.left+y,n.top+v,u-S*2/3,d-C*2/3,Kc.BOTTOM_RIGHT):new U(n.left+n.width-S*2/3,n.top+n.height-C*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||m>0?qc(n.left+w*2/3,n.top+b,p-w*2/3,m-C*2/3,Kc.BOTTOM_LEFT):new U(n.left+w*2/3,n.top+n.height-C*2/3),this.topLeftBorderStroke=i>0||a>0?qc(n.left+w/2,n.top+x/2,i-w/2,a-x/2,Kc.TOP_LEFT):new U(n.left+w/2,n.top+x/2),this.topRightBorderStroke=i>0||a>0?qc(n.left+_,n.top+x/2,s-S/2,c-x/2,Kc.TOP_RIGHT):new U(n.left+n.width-S/2,n.top+x/2),this.bottomRightBorderStroke=u>0||d>0?qc(n.left+y,n.top+v,u-S/2,d-C/2,Kc.BOTTOM_RIGHT):new U(n.left+n.width-S/2,n.top+n.height-C/2),this.bottomLeftBorderStroke=p>0||m>0?qc(n.left+w/2,n.top+b,p-w/2,m-C/2,Kc.BOTTOM_LEFT):new U(n.left+w/2,n.top+n.height-C/2),this.topLeftBorderBox=i>0||a>0?qc(n.left,n.top,i,a,Kc.TOP_LEFT):new U(n.left,n.top),this.topRightBorderBox=s>0||c>0?qc(n.left+_,n.top,s,c,Kc.TOP_RIGHT):new U(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||d>0?qc(n.left+y,n.top+v,u,d,Kc.BOTTOM_RIGHT):new U(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=p>0||m>0?qc(n.left,n.top+b,p,m,Kc.BOTTOM_LEFT):new U(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||a>0?qc(n.left+w,n.top+x,Math.max(0,i-w),Math.max(0,a-x),Kc.TOP_LEFT):new U(n.left+w,n.top+x),this.topRightPaddingBox=s>0||c>0?qc(n.left+Math.min(_,n.width-S),n.top+x,_>n.width+S?0:Math.max(0,s-S),Math.max(0,c-x),Kc.TOP_RIGHT):new U(n.left+n.width-S,n.top+x),this.bottomRightPaddingBox=u>0||d>0?qc(n.left+Math.min(y,n.width-w),n.top+Math.min(v,n.height-C),Math.max(0,u-S),Math.max(0,d-C),Kc.BOTTOM_RIGHT):new U(n.left+n.width-S,n.top+n.height-C),this.bottomLeftPaddingBox=p>0||m>0?qc(n.left+w,n.top+Math.min(b,n.height-C),Math.max(0,p-w),Math.max(0,m-C),Kc.BOTTOM_LEFT):new U(n.left+w,n.top+n.height-C),this.topLeftContentBox=i>0||a>0?qc(n.left+w+O,n.top+x+T,Math.max(0,i-(w+O)),Math.max(0,a-(x+T)),Kc.TOP_LEFT):new U(n.left+w+O,n.top+x+T),this.topRightContentBox=s>0||c>0?qc(n.left+Math.min(_,n.width+w+O),n.top+x+T,_>n.width+w+O?0:s-w+O,c-(x+T),Kc.TOP_RIGHT):new U(n.left+n.width-(S+E),n.top+x+T),this.bottomRightContentBox=u>0||d>0?qc(n.left+Math.min(y,n.width-(w+O)),n.top+Math.min(v,n.height+x+T),Math.max(0,u-(S+E)),d-(C+D),Kc.BOTTOM_RIGHT):new U(n.left+n.width-(S+E),n.top+n.height-(C+D)),this.bottomLeftContentBox=p>0||m>0?qc(n.left+w+O,n.top+b,Math.max(0,p-(w+O)),m-(C+D),Kc.BOTTOM_LEFT):new U(n.left+w+O,n.top+n.height-(C+D))}return e}(),Kc;(function(e){e[e.TOP_LEFT=0]=`TOP_LEFT`,e[e.TOP_RIGHT=1]=`TOP_RIGHT`,e[e.BOTTOM_RIGHT=2]=`BOTTOM_RIGHT`,e[e.BOTTOM_LEFT=3]=`BOTTOM_LEFT`})(Kc||={});var qc=function(e,t,n,r,i){var a=4*((Math.sqrt(2)-1)/3),o=n*a,s=r*a,c=e+n,l=t+r;switch(i){case Kc.TOP_LEFT:return new Uc(new U(e,l),new U(e,l-s),new U(c-o,t),new U(c,t));case Kc.TOP_RIGHT:return new Uc(new U(e,t),new U(e+o,t),new U(c,l-s),new U(c,l));case Kc.BOTTOM_RIGHT:return new Uc(new U(c,t),new U(c,t+s),new U(e+o,l),new U(e,l));case Kc.BOTTOM_LEFT:default:return new Uc(new U(c,l),new U(c-o,l),new U(e,t+s),new U(e,t))}},Jc=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Yc=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Xc=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Zc=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),Qc=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),$c=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),el=function(e){return e.type===0},tl=function(e){return e.type===1},nl=function(e){return e.type===2},rl=function(e,t){return e.length===t.length?e.some(function(e,n){return e===t[n]}):!1},il=function(e,t,n,r,i){return e.map(function(e,a){switch(a){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+i);case 3:return e.add(t,n+i)}return e})},al=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),ol=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Gc(this.container),this.container.styles.opacity<1&&this.effects.push(new $c(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Zc(n,r,i))}if(this.container.styles.overflowX!==0){var a=Jc(this.curves),o=Xc(this.curves);rl(a,o)?this.effects.push(new Qc(a,6)):(this.effects.push(new Qc(a,2)),this.effects.push(new Qc(o,4)))}}return e.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,r=this.effects.slice(0);n;){var i=n.effects.filter(function(e){return!tl(e)});if(t||n.container.styles.position!==0||!n.parent){if(r.unshift.apply(r,i),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=Jc(n.curves),o=Xc(n.curves);rl(a,o)||r.unshift(new Qc(o,6))}}else r.unshift.apply(r,i);n=n.parent}return r.filter(function(t){return Sa(t.target,e)})},e}(),sl=function(e,t,n,r){e.container.elements.forEach(function(i){var a=Sa(i.flags,4),o=Sa(i.flags,2),s=new ol(i,e);Sa(i.styles.display,2048)&&r.push(s);var c=Sa(i.flags,8)?[]:r;if(a||o){var l=a||i.styles.isPositioned()?n:t,u=new al(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var d=i.styles.zIndex.order;if(d<0){var f=0;l.negativeZIndex.some(function(e,t){return d>e.element.container.styles.zIndex.order?(f=t,!1):f>0}),l.negativeZIndex.splice(f,0,u)}else if(d>0){var p=0;l.positiveZIndex.some(function(e,t){return d>=e.element.container.styles.zIndex.order?(p=t+1,!1):p>0}),l.positiveZIndex.splice(p,0,u)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?l.nonPositionedFloats.push(u):l.nonPositionedInlineLevel.push(u);sl(s,u,a?u:n,c)}else i.styles.isInlineLevel()?t.inlineLevel.push(s):t.nonInlineLevel.push(s),sl(s,t,n,c);Sa(i.flags,8)&&cl(i,c)})},cl=function(e,t){for(var n=e instanceof ls?e.start:1,r=e instanceof ls?e.reversed:!1,i=0;i<t.length;i++){var a=t[i];a.container instanceof cs&&typeof a.container.value==`number`&&a.container.value!==0&&(n=a.container.value),a.listValue=fc(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},ll=function(e){var t=new ol(e,null),n=new al(t),r=[];return sl(t,n,n,r),cl(t.container,r),n},ul=function(e,t){switch(t){case 0:return hl(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return hl(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return hl(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return hl(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},dl=function(e,t){switch(t){case 0:return hl(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return hl(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return hl(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return hl(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},fl=function(e,t){switch(t){case 0:return hl(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return hl(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return hl(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return hl(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},pl=function(e,t){switch(t){case 0:return ml(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return ml(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return ml(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return ml(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},ml=function(e,t){var n=[];return Wc(e)?n.push(e.subdivide(.5,!1)):n.push(e),Wc(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},hl=function(e,t,n,r){var i=[];return Wc(e)?i.push(e.subdivide(.5,!1)):i.push(e),Wc(n)?i.push(n.subdivide(.5,!0)):i.push(n),Wc(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Wc(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},gl=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},_l=function(e){var t=e.styles,n=e.bounds,r=lr(t.paddingLeft,n.width),i=lr(t.paddingRight,n.width),a=lr(t.paddingTop,n.width),o=lr(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+a+o))},vl=function(e,t){return e===0?t.bounds:e===2?_l(t):gl(t)},yl=function(e,t){return e===0?t.bounds:e===2?_l(t):gl(t)},bl=function(e,t,n){var r=vl(wl(e.styles.backgroundOrigin,t),e),i=yl(wl(e.styles.backgroundClip,t),e),a=Cl(wl(e.styles.backgroundSize,t),n,r),o=a[0],s=a[1],c=cr(wl(e.styles.backgroundPosition,t),r.width-o,r.height-s),l=Tl(wl(e.styles.backgroundRepeat,t),c,a,r,i),u=Math.round(r.left+c[0]),d=Math.round(r.top+c[1]);return[l,u,d,o,s]},xl=function(e){return Yn(e)&&e.value===si.AUTO},Sl=function(e){return typeof e==`number`},Cl=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=e[0],s=e[1];if(!o)return[0,0];if(rr(o)&&s&&rr(s))return[lr(o,n.width),lr(s,n.height)];var c=Sl(a);if(Yn(o)&&(o.value===si.CONTAIN||o.value===si.COVER))return Sl(a)?n.width/n.height<a==(o.value===si.COVER)?[n.height*a,n.height]:[n.width,n.width/a]:[n.width,n.height];var l=Sl(r),u=Sl(i),d=l||u;if(xl(o)&&(!s||xl(s))){if(l&&u)return[r,i];if(!c&&!d)return[n.width,n.height];if(d&&c){var f=l?r:i*a,p=u?i:r/a;return[f,p]}var m=l?r:n.width,h=u?i:n.height;return[m,h]}if(c){var g=0,_=0;return rr(o)?g=lr(o,n.width):rr(s)&&(_=lr(s,n.height)),xl(o)?g=_*a:(!s||xl(s))&&(_=g/a),[g,_]}var v=null,y=null;if(rr(o)?v=lr(o,n.width):s&&rr(s)&&(y=lr(s,n.height)),v!==null&&(!s||xl(s))&&(y=l&&u?v/r*i:n.height),y!==null&&xl(o)&&(v=l&&u?y/i*r:n.width),v!==null&&y!==null)return[v,y];throw Error(`Unable to calculate background-size for element`)},wl=function(e,t){var n=e[t];return n===void 0?e[0]:n},Tl=function(e,t,n,r,i){var a=t[0],o=t[1],s=n[0],c=n[1];switch(e){case 2:return[new U(Math.round(r.left),Math.round(r.top+o)),new U(Math.round(r.left+r.width),Math.round(r.top+o)),new U(Math.round(r.left+r.width),Math.round(c+r.top+o)),new U(Math.round(r.left),Math.round(c+r.top+o))];case 3:return[new U(Math.round(r.left+a),Math.round(r.top)),new U(Math.round(r.left+a+s),Math.round(r.top)),new U(Math.round(r.left+a+s),Math.round(r.height+r.top)),new U(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new U(Math.round(r.left+a),Math.round(r.top+o)),new U(Math.round(r.left+a+s),Math.round(r.top+o)),new U(Math.round(r.left+a+s),Math.round(r.top+o+c)),new U(Math.round(r.left+a),Math.round(r.top+o+c))];default:return[new U(Math.round(i.left),Math.round(i.top)),new U(Math.round(i.left+i.width),Math.round(i.top)),new U(Math.round(i.left+i.width),Math.round(i.height+i.top)),new U(Math.round(i.left),Math.round(i.height+i.top))]}},El=`data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7`,Dl=`Hidden Text`,Ol=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement(`div`),r=this._document.createElement(`img`),i=this._document.createElement(`span`),a=this._document.body;n.style.visibility=`hidden`,n.style.fontFamily=e,n.style.fontSize=t,n.style.margin=`0`,n.style.padding=`0`,n.style.whiteSpace=`nowrap`,a.appendChild(n),r.src=El,r.width=1,r.height=1,r.style.margin=`0`,r.style.padding=`0`,r.style.verticalAlign=`baseline`,i.style.fontFamily=e,i.style.fontSize=t,i.style.margin=`0`,i.style.padding=`0`,i.appendChild(this._document.createTextNode(Dl)),n.appendChild(i),n.appendChild(r);var o=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(Dl)),n.style.lineHeight=`normal`,r.style.verticalAlign=`super`;var s=r.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:s}},e.prototype.getMetrics=function(e,t){var n=e+` `+t;return this._data[n]===void 0&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),kl=function(){function e(e,t){this.context=e,this.options=t}return e}(),Al=1e4,jl=function(e){t(n,e);function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement(`canvas`),r.ctx=r.canvas.getContext(`2d`),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+`px`,r.canvas.style.height=n.height+`px`),r.fontMetrics=new Ol(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline=`bottom`,r._activeEffects=[],r.context.logger.debug(`Canvas renderer initialized (`+n.width+`x`+n.height+`) with scale `+n.scale),r}return n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach(function(e){return t.applyEffect(e)})},n.prototype.applyEffect=function(e){this.ctx.save(),nl(e)&&(this.ctx.globalAlpha=e.opacity),el(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),tl(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return t=e.element.container.styles,t.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},n.prototype.renderNode=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:if(Sa(e.container.flags,16))debugger;return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;t===0?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Jo(e.text).reduce(function(t,i){return r.ctx.fillText(i,t,e.bounds.top+n),t+r.ctx.measureText(i).width},e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return e===`normal`||e===`small-caps`}).join(``),n=Il(e.fontFamily).join(`, `),r=qn(e.fontSize)?``+e.fontSize.number+e.fontSize.unit:e.fontSize.number+`px`;return[[e.fontStyle,t,e.fontWeight,r,n].join(` `),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,function(){var n,r,a,o,s,c,l,u,d=this;return i(this,function(i){return n=this.createFontStyle(t),r=n[0],a=n[1],o=n[2],this.ctx.font=r,this.ctx.direction=t.direction===1?`rtl`:`ltr`,this.ctx.textAlign=`left`,this.ctx.textBaseline=`alphabetic`,s=this.fontMetrics.getMetrics(a,o),c=s.baseline,l=s.middle,u=t.paintOrder,e.textBounds.forEach(function(e){u.forEach(function(n){switch(n){case 0:d.ctx.fillStyle=br(t.color),d.renderTextWithLetterSpacing(e,t.letterSpacing,c);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach(function(n){d.ctx.shadowColor=br(n.color),d.ctx.shadowOffsetX=n.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=n.offsetY.number*d.options.scale,d.ctx.shadowBlur=n.blur.number,d.renderTextWithLetterSpacing(e,t.letterSpacing,c)}),d.ctx.shadowColor=``,d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),t.textDecorationLine.length&&(d.ctx.fillStyle=br(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case 1:d.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+c),e.bounds.width,1);break;case 2:d.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:d.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+l),e.bounds.width,1);break}}));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(d.ctx.strokeStyle=br(t.webkitTextStrokeColor),d.ctx.lineWidth=t.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?`miter`:`round`,d.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+c)),d.ctx.strokeStyle=``,d.ctx.lineWidth=0,d.ctx.lineJoin=`miter`;break}})}),[2]})})},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=_l(e),i=Xc(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,function(){var t,r,a,s,c,l,u,u,d,f,p,m,h,g,_,v,y,b,x,u,S,h,v;return i(this,function(i){switch(i.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,a=t.styles,s=0,c=t.textNodes,i.label=1;case 1:return s<c.length?(l=c[s],[4,this.renderTextNode(l,a)]):[3,4];case 2:i.sent(),i.label=3;case 3:return s++,[3,1];case 4:if(!(t instanceof rs))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return u=i.sent(),this.renderReplacedElement(t,r,u),[3,8];case 7:return i.sent(),this.context.logger.error(`Error loading image `+t.src),[3,8];case 8:if(t instanceof os&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof ss))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return u=i.sent(),this.renderReplacedElement(t,r,u),[3,12];case 11:return i.sent(),this.context.logger.error(`Error loading svg `+t.svg.substring(0,255)),[3,12];case 12:return t instanceof xs&&t.tree?(d=new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}),[4,d.render(t.tree)]):[3,14];case 13:f=i.sent(),t.width&&t.height&&this.ctx.drawImage(f,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),i.label=14;case 14:if(t instanceof vs&&(p=Math.min(t.bounds.width,t.bounds.height),t.type===ms?t.checked&&(this.ctx.save(),this.path([new U(t.bounds.left+p*.39363,t.bounds.top+p*.79),new U(t.bounds.left+p*.16,t.bounds.top+p*.5549),new U(t.bounds.left+p*.27347,t.bounds.top+p*.44071),new U(t.bounds.left+p*.39694,t.bounds.top+p*.5649),new U(t.bounds.left+p*.72983,t.bounds.top+p*.23),new U(t.bounds.left+p*.84,t.bounds.top+p*.34085),new U(t.bounds.left+p*.39363,t.bounds.top+p*.79)]),this.ctx.fillStyle=br(_s),this.ctx.fill(),this.ctx.restore()):t.type===hs&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+p/2,t.bounds.top+p/2,p/4,0,Math.PI*2,!0),this.ctx.fillStyle=br(_s),this.ctx.fill(),this.ctx.restore())),Ml(t)&&t.value.length){switch(m=this.createFontStyle(a),h=m[0],g=m[1],_=this.fontMetrics.getMetrics(h,g).baseline,this.ctx.font=h,this.ctx.fillStyle=br(a.color),this.ctx.textBaseline=`alphabetic`,this.ctx.textAlign=Pl(t.styles.textAlign),v=_l(t),y=0,t.styles.textAlign){case 1:y+=v.width/2;break;case 2:y+=v.width;break}b=v.add(y,0,0,-v.height/2+1),this.ctx.save(),this.path([new U(v.left,v.top),new U(v.left+v.width,v.top),new U(v.left+v.width,v.top+v.height),new U(v.left,v.top+v.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Wo(t.value,b),a.letterSpacing,_),this.ctx.restore(),this.ctx.textBaseline=`alphabetic`,this.ctx.textAlign=`left`}if(!Sa(t.styles.display,2048))return[3,20];if(t.styles.listStyleImage===null)return[3,19];if(x=t.styles.listStyleImage,x.type!==0)return[3,18];u=void 0,S=x.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(S)];case 16:return u=i.sent(),this.ctx.drawImage(u,t.bounds.left-(u.width+10),t.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error(`Error loading list-style-image `+S),[3,18];case 18:return[3,20];case 19:e.listValue&&t.styles.listStyleType!==-1&&(h=this.createFontStyle(a)[0],this.ctx.font=h,this.ctx.fillStyle=br(a.color),this.ctx.textBaseline=`middle`,this.ctx.textAlign=`right`,v=new o(t.bounds.left,t.bounds.top+lr(t.styles.paddingTop,t.bounds.width),t.bounds.width,zi(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Wo(e.listValue,v),a.letterSpacing,zi(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline=`bottom`,this.ctx.textAlign=`left`),i.label=20;case 20:return[2]}})})},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,o,r,s,c,r,l,u,r,d,f,r,p,m,r,h,g,r;return i(this,function(i){switch(i.label){case 0:if(Sa(e.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:i.sent(),t=0,n=e.negativeZIndex,i.label=2;case 2:return t<n.length?(r=n[t],[4,this.renderStack(r)]):[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:i.sent(),a=0,o=e.nonInlineLevel,i.label=7;case 7:return a<o.length?(r=o[a],[4,this.renderNode(r)]):[3,10];case 8:i.sent(),i.label=9;case 9:return a++,[3,7];case 10:s=0,c=e.nonPositionedFloats,i.label=11;case 11:return s<c.length?(r=c[s],[4,this.renderStack(r)]):[3,14];case 12:i.sent(),i.label=13;case 13:return s++,[3,11];case 14:l=0,u=e.nonPositionedInlineLevel,i.label=15;case 15:return l<u.length?(r=u[l],[4,this.renderStack(r)]):[3,18];case 16:i.sent(),i.label=17;case 17:return l++,[3,15];case 18:d=0,f=e.inlineLevel,i.label=19;case 19:return d<f.length?(r=f[d],[4,this.renderNode(r)]):[3,22];case 20:i.sent(),i.label=21;case 21:return d++,[3,19];case 22:p=0,m=e.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return p<m.length?(r=m[p],[4,this.renderStack(r)]):[3,26];case 24:i.sent(),i.label=25;case 25:return p++,[3,23];case 26:h=0,g=e.positiveZIndex,i.label=27;case 27:return h<g.length?(r=g[h],[4,this.renderStack(r)]):[3,30];case 28:i.sent(),i.label=29;case 29:return h++,[3,27];case 30:return[2]}})})},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach(function(e,n){var r=Wc(e)?e.start:e;n===0?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),Wc(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){if(e.width===t&&e.height===n)return e;var r=(this.canvas.ownerDocument??document).createElement(`canvas`);return r.width=Math.max(1,t),r.height=Math.max(1,n),r.getContext(`2d`).drawImage(e,0,0,e.width,e.height,0,0,t,n),r},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,o,s;return i(this,function(c){switch(c.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var a,o,s,c,l,u,d,f,p,m,c,l,u,d,f,h,g,_,v,y,b,x,S,C,p,w,c,T,E,d,f,D,l,u,O,k,A,j,M,N,ee,P;return i(this,function(i){switch(i.label){case 0:if(n.type!==0)return[3,5];a=void 0,o=n.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.context.cache.match(o)];case 2:return a=i.sent(),[3,4];case 3:return i.sent(),r.context.logger.error(`Error loading background-image `+o),[3,4];case 4:return a&&(s=bl(e,t,[a.width,a.height,a.width/a.height]),c=s[0],l=s[1],u=s[2],d=s[3],f=s[4],p=r.ctx.createPattern(r.resizeImage(a,d,f),`repeat`),r.renderRepeat(c,p,l,u)),[3,6];case 5:Zr(n)?(m=bl(e,t,[null,null,null]),c=m[0],l=m[1],u=m[2],d=m[3],f=m[4],h=Pr(n.angle,d,f),g=h[0],_=h[1],v=h[2],y=h[3],b=h[4],x=document.createElement(`canvas`),x.width=d,x.height=f,S=x.getContext(`2d`),C=S.createLinearGradient(_,y,v,b),Mr(n.stops,g).forEach(function(e){return C.addColorStop(e.stop,br(e.color))}),S.fillStyle=C,S.fillRect(0,0,d,f),d>0&&f>0&&(p=r.ctx.createPattern(x,`repeat`),r.renderRepeat(c,p,l,u))):Qr(n)&&(w=bl(e,t,[null,null,null]),c=w[0],T=w[1],E=w[2],d=w[3],f=w[4],D=n.position.length===0?[or]:n.position,l=lr(D[0],d),u=lr(D[D.length-1],f),O=Lr(n,l,u,d,f),k=O[0],A=O[1],k>0&&A>0&&(j=r.ctx.createRadialGradient(T+l,E+u,0,T+l,E+u,k),Mr(n.stops,k*2).forEach(function(e){return j.addColorStop(e.stop,br(e.color))}),r.path(c),r.ctx.fillStyle=j,k===A?r.ctx.fill():(M=e.bounds.left+.5*e.bounds.width,N=e.bounds.top+.5*e.bounds.height,ee=A/k,P=1/ee,r.ctx.save(),r.ctx.translate(M,N),r.ctx.transform(1,0,0,ee,0,0),r.ctx.translate(-M,-N),r.ctx.fillRect(T,P*(E-N)+N,d,f*P),r.ctx.restore()))),i.label=6;case 6:return t--,[2]}})},r=this,a=0,o=e.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<o.length?(s=o[a],[5,n(s)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,function(){return i(this,function(r){return this.path(ul(n,t)),this.ctx.fillStyle=br(e),this.ctx.fill(),[2]})})},n.prototype.renderDoubleBorder=function(e,t,n,a){return r(this,void 0,void 0,function(){var r,o;return i(this,function(i){switch(i.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,a)]:[3,2];case 1:return i.sent(),[2];case 2:return r=dl(a,n),this.path(r),this.ctx.fillStyle=br(e),this.ctx.fill(),o=fl(a,n),this.path(o),this.ctx.fill(),[2]}})})},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,o,s,c,l,u=this;return i(this,function(i){switch(i.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!yr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],a=Nl(wl(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),yr(t.backgroundColor)||(this.ctx.fillStyle=br(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(t){u.ctx.save();var n=Jc(e.curves),r=t.inset?0:Al,i=il(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(u.path(n),u.ctx.clip(),u.mask(i)):(u.mask(n),u.ctx.clip(),u.path(i)),u.ctx.shadowOffsetX=t.offsetX.number+r,u.ctx.shadowOffsetY=t.offsetY.number,u.ctx.shadowColor=br(t.color),u.ctx.shadowBlur=t.blur.number,u.ctx.fillStyle=t.inset?br(t.color):`rgba(0,0,0,1)`,u.ctx.fill(),u.ctx.restore()}),i.label=2;case 2:o=0,s=0,c=r,i.label=3;case 3:return s<c.length?(l=c[s],l.style!==0&&!yr(l.color)&&l.width>0?l.style===2?[4,this.renderDashedDottedBorder(l.color,l.width,o,e.curves,2)]:[3,5]:[3,11]):[3,13];case 4:return i.sent(),[3,11];case 5:return l.style===3?[4,this.renderDashedDottedBorder(l.color,l.width,o,e.curves,3)]:[3,7];case 6:return i.sent(),[3,11];case 7:return l.style===4?[4,this.renderDoubleBorder(l.color,l.width,o,e.curves)]:[3,9];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,o,e.curves)];case 10:i.sent(),i.label=11;case 11:o++,i.label=12;case 12:return s++,[3,3];case 13:return[2]}})})},n.prototype.renderDashedDottedBorder=function(e,t,n,a,o){return r(this,void 0,void 0,function(){var r,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,b,x;return i(this,function(i){return this.ctx.save(),r=pl(a,n),s=ul(a,n),o===2&&(this.path(s),this.ctx.clip()),Wc(s[0])?(c=s[0].start.x,l=s[0].start.y):(c=s[0].x,l=s[0].y),Wc(s[1])?(u=s[1].end.x,d=s[1].end.y):(u=s[1].x,d=s[1].y),f=n===0||n===2?Math.abs(c-u):Math.abs(l-d),this.ctx.beginPath(),o===3?this.formatPath(r):this.formatPath(s.slice(0,2)),p=t<3?t*3:t*2,m=t<3?t*2:t,o===3&&(p=t,m=t),h=!0,f<=p*2?h=!1:f<=p*2+m?(g=f/(2*p+m),p*=g,m*=g):(_=Math.floor((f+m)/(p+m)),v=(f-_*p)/(_-1),y=(f-(_+1)*p)/_,m=y<=0||Math.abs(m-v)<Math.abs(m-y)?v:y),h&&(o===3?this.ctx.setLineDash([0,p+m]):this.ctx.setLineDash([p,m])),o===3?(this.ctx.lineCap=`round`,this.ctx.lineWidth=t):this.ctx.lineWidth=t*2+1.1,this.ctx.strokeStyle=br(e),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Wc(s[0])&&(b=s[3],x=s[0],this.ctx.beginPath(),this.formatPath([new U(b.end.x,b.end.y),new U(x.start.x,x.start.y)]),this.ctx.stroke()),Wc(s[1])&&(b=s[1],x=s[2],this.ctx.beginPath(),this.formatPath([new U(b.end.x,b.end.y),new U(x.start.x,x.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},n.prototype.render=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=br(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=ll(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},n}(kl),Ml=function(e){return e instanceof bs||e instanceof ys?!0:e instanceof vs&&e.type!==hs&&e.type!==ms},Nl=function(e,t){switch(e){case 0:return Jc(t);case 2:return Yc(t);case 1:default:return Xc(t)}},Pl=function(e){switch(e){case 1:return`center`;case 2:return`right`;case 0:default:return`left`}},Fl=[`-apple-system`,`system-ui`],Il=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(e){return Fl.indexOf(e)===-1}):e},Ll=function(e){t(n,e);function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement(`canvas`),r.ctx=r.canvas.getContext(`2d`),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+`px`,r.canvas.style.height=n.height+`px`,r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug(`EXPERIMENTAL ForeignObject renderer initialized (`+n.width+`x`+n.height+` at `+n.x+`,`+n.y+`) with scale `+n.scale),r}return n.prototype.render=function(e){return r(this,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return t=Vo(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,Rl(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=br(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},n}(kl),Rl=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src=`data:image/svg+xml;charset=utf-8,`+encodeURIComponent(new XMLSerializer().serializeToString(e))})},zl=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){var e=[...arguments];this.enabled&&(typeof window<`u`&&window.console&&typeof console.debug==`function`?console.debug.apply(console,a([this.id,this.getTime()+`ms`],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){var e=[...arguments];this.enabled&&typeof window<`u`&&window.console&&typeof console.info==`function`&&console.info.apply(console,a([this.id,this.getTime()+`ms`],e))},e.prototype.warn=function(){var e=[...arguments];this.enabled&&(typeof window<`u`&&window.console&&typeof console.warn==`function`?console.warn.apply(console,a([this.id,this.getTime()+`ms`],e)):this.info.apply(this,e))},e.prototype.error=function(){var e=[...arguments];this.enabled&&(typeof window<`u`&&window.console&&typeof console.error==`function`?console.error.apply(console,a([this.id,this.getTime()+`ms`],e)):this.info.apply(this,e))},e.instances={},e}(),Bl=function(){function e(t,n){this.windowBounds=n,this.instanceName=`#`+ e.instanceCount++,this.logger=new zl({id:this.instanceName,enabled:t.logging}),this.cache=t.cache??new Nc(this,t)}return e.instanceCount=1,e}(),Vl=function(e,t){return t===void 0&&(t={}),Hl(e,t)};typeof window<`u`&&Mc.setContext(window);var Hl=function(e,t){return r(void 0,void 0,void 0,function(){var r,a,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,w,T,E,D,O,D;return i(this,function(i){switch(i.label){case 0:if(!e||typeof e!=`object`)return[2,Promise.reject(`Invalid element provided as first argument`)];if(r=e.ownerDocument,!r)throw Error(`Element is not attached to a Document`);if(a=r.defaultView,!a)throw Error(`Document is not attached to a Window`);return l={allowTaint:t.allowTaint??!1,imageTimeout:t.imageTimeout??15e3,proxy:t.proxy,useCORS:t.useCORS??!1},u=n({logging:t.logging??!0,cache:t.cache},l),d={windowWidth:t.windowWidth??a.innerWidth,windowHeight:t.windowHeight??a.innerHeight,scrollX:t.scrollX??a.pageXOffset,scrollY:t.scrollY??a.pageYOffset},f=new o(d.scrollX,d.scrollY,d.windowWidth,d.windowHeight),p=new Bl(u,f),m=t.foreignObjectRendering??!1,h={allowTaint:t.allowTaint??!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:m,copyStyles:m},p.logger.debug(`Starting document clone with size `+f.width+`x`+f.height+` scrolled to `+-f.left+`,`+-f.top),g=new mc(p,e,h),_=g.clonedReferenceElement,_?[4,g.toIFrame(r,f)]:[2,Promise.reject(`Unable to find element in cloned iframe`)];case 1:return v=i.sent(),y=Ls(_)||Fs(_)?c(_.ownerDocument):s(p,_),b=y.width,x=y.height,S=y.left,C=y.top,w=Ul(p,_,t.backgroundColor),T={canvas:t.canvas,backgroundColor:w,scale:t.scale??a.devicePixelRatio??1,x:(t.x??0)+S,y:(t.y??0)+C,width:t.width??Math.ceil(b),height:t.height??Math.ceil(x)},m?(p.logger.debug(`Document cloned, using foreign object rendering`),D=new Ll(p,T),[4,D.render(_)]):[3,3];case 2:return E=i.sent(),[3,5];case 3:return p.logger.debug(`Document cloned, element located at `+S+`,`+C+` with size `+b+`x`+x+` using computed rendering`),p.logger.debug(`Starting DOM parsing`),O=Ts(p,_),w===O.styles.backgroundColor&&(O.styles.backgroundColor=Or.TRANSPARENT),p.logger.debug(`Starting renderer for element at `+T.x+`,`+T.y+` with size `+T.width+`x`+T.height),D=new jl(p,T),[4,D.render(O)];case 4:E=i.sent(),i.label=5;case 5:return(t.removeContainer??!0)&&(mc.destroy(v)||p.logger.error(`Cannot detach cloned iframe as it is not in the DOM anymore`)),p.logger.debug(`Finished rendering`),[2,E]}})})},Ul=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?Dr(e,getComputedStyle(r.documentElement).backgroundColor):Or.TRANSPARENT,a=r.body?Dr(e,getComputedStyle(r.body).backgroundColor):Or.TRANSPARENT,o=typeof n==`string`?Dr(e,n):n===null?Or.TRANSPARENT:4294967295;return t===r.documentElement?yr(i)?yr(a)?o:a:i:o};return Vl}))}));_L();var vL;(function(e){e.LOAD=`LOAD`,e.EXEC=`EXEC`,e.FFPROBE=`FFPROBE`,e.WRITE_FILE=`WRITE_FILE`,e.READ_FILE=`READ_FILE`,e.DELETE_FILE=`DELETE_FILE`,e.RENAME=`RENAME`,e.CREATE_DIR=`CREATE_DIR`,e.LIST_DIR=`LIST_DIR`,e.DELETE_DIR=`DELETE_DIR`,e.ERROR=`ERROR`,e.DOWNLOAD=`DOWNLOAD`,e.PROGRESS=`PROGRESS`,e.LOG=`LOG`,e.MOUNT=`MOUNT`,e.UNMOUNT=`UNMOUNT`})(vL||={});const yL=(()=>{let e=0;return()=>e++})(),bL=Error("ffmpeg is not loaded, call `await ffmpeg.load()` first"),xL=Error(`called FFmpeg.terminate()`);var SL=class{#worker=null;#resolves={};#rejects={};#logEventCallbacks=[];#progressEventCallbacks=[];loaded=!1;#registerHandlers=()=>{this.#worker&&(this.#worker.onmessage=({data:{id:e,type:t,data:n}})=>{switch(t){case vL.LOAD:this.loaded=!0,this.#resolves[e](n);break;case vL.MOUNT:case vL.UNMOUNT:case vL.EXEC:case vL.FFPROBE:case vL.WRITE_FILE:case vL.READ_FILE:case vL.DELETE_FILE:case vL.RENAME:case vL.CREATE_DIR:case vL.LIST_DIR:case vL.DELETE_DIR:this.#resolves[e](n);break;case vL.LOG:this.#logEventCallbacks.forEach(e=>e(n));break;case vL.PROGRESS:this.#progressEventCallbacks.forEach(e=>e(n));break;case vL.ERROR:this.#rejects[e](n);break}delete this.#resolves[e],delete this.#rejects[e]})};#send=({type:e,data:t},n=[],r)=>this.#worker?new Promise((i,a)=>{let o=yL();this.#worker&&this.#worker.postMessage({id:o,type:e,data:t},n),this.#resolves[o]=i,this.#rejects[o]=a,r?.addEventListener(`abort`,()=>{a(new DOMException(`Message # ${o} was aborted`,`AbortError`))},{once:!0})}):Promise.reject(bL);on(e,t){e===`log`?this.#logEventCallbacks.push(t):e===`progress`&&this.#progressEventCallbacks.push(t)}off(e,t){e===`log`?this.#logEventCallbacks=this.#logEventCallbacks.filter(e=>e!==t):e===`progress`&&(this.#progressEventCallbacks=this.#progressEventCallbacks.filter(e=>e!==t))}load=({classWorkerURL:e,...t}={},{signal:n}={})=>(this.#worker||(this.#worker=e?new Worker(new URL(e,import.meta.url),{type:`module`}):new Worker(new URL(`/fremio/assets/worker-B7jP4_Ki.js`,``+import.meta.url),{type:`module`}),this.#registerHandlers()),this.#send({type:vL.LOAD,data:t},void 0,n));exec=(e,t=-1,{signal:n}={})=>this.#send({type:vL.EXEC,data:{args:e,timeout:t}},void 0,n);ffprobe=(e,t=-1,{signal:n}={})=>this.#send({type:vL.FFPROBE,data:{args:e,timeout:t}},void 0,n);terminate=()=>{let e=Object.keys(this.#rejects);for(let t of e)this.#rejects[t](xL),delete this.#rejects[t],delete this.#resolves[t];this.#worker&&(this.#worker.terminate(),this.#worker=null,this.loaded=!1)};writeFile=(e,t,{signal:n}={})=>{let r=[];return t instanceof Uint8Array&&r.push(t.buffer),this.#send({type:vL.WRITE_FILE,data:{path:e,data:t}},r,n)};mount=(e,t,n)=>this.#send({type:vL.MOUNT,data:{fsType:e,options:t,mountPoint:n}},[]);unmount=e=>this.#send({type:vL.UNMOUNT,data:{mountPoint:e}},[]);readFile=(e,t=`binary`,{signal:n}={})=>this.#send({type:vL.READ_FILE,data:{path:e,encoding:t}},void 0,n);deleteFile=(e,{signal:t}={})=>this.#send({type:vL.DELETE_FILE,data:{path:e}},void 0,t);rename=(e,t,{signal:n}={})=>this.#send({type:vL.RENAME,data:{oldPath:e,newPath:t}},void 0,n);createDir=(e,{signal:t}={})=>this.#send({type:vL.CREATE_DIR,data:{path:e}},void 0,t);listDir=(e,{signal:t}={})=>this.#send({type:vL.LIST_DIR,data:{path:e}},void 0,t);deleteDir=(e,{signal:t}={})=>this.#send({type:vL.DELETE_DIR,data:{path:e}},void 0,t)},CL;(function(e){e.MEMFS=`MEMFS`,e.NODEFS=`NODEFS`,e.NODERAWFS=`NODERAWFS`,e.IDBFS=`IDBFS`,e.WORKERFS=`WORKERFS`,e.PROXYFS=`PROXYFS`})(CL||={});var wL=null,TL=null,EL=async()=>{if(wL?.loaded)return wL;if(TL)return TL;wL||=new SL,TL=(async()=>(wL.loaded||await wL.load(),wL))();try{return await TL,wL}finally{TL=null}},DL=(e,t)=>{let n=`${Date.now()}-${Math.random().toString(36).slice(2,8)}`;return`${e}-${n}.${t}`},OL=async e=>{if(!e)return null;if(e instanceof Uint8Array)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer);if(e instanceof Blob)return new Uint8Array(await e.arrayBuffer());if(typeof e==`string`){let t=await fetch(e);if(!t.ok)throw Error(`Failed to fetch resource: ${t.status}`);return new Uint8Array(await t.arrayBuffer())}throw Error(`Unsupported input type for toUint8Array`)};const kL=async(e,t={})=>{if(!e)return console.warn(` convertBlobToMp4 called without input blob`),null;let n=await EL(),r=DL(t.inputPrefix||`input`,`webm`),i=DL(t.outputPrefix||`output`,`mp4`);try{let a=await OL(e);if(!a)return console.warn(` Failed to translate input blob to Uint8Array`),null;await n.writeFile(r,a);let o=[...t.ffmpegArgs||[`-i`,r,`-c:v`,`libx264`,`-preset`,`veryfast`,`-pix_fmt`,`yuv420p`,`-movflags`,`faststart`,`-an`]];if(t.frameRate&&Number.isFinite(t.frameRate)&&t.frameRate>0&&o.push(`-r`,String(t.frameRate)),t.durationSeconds&&Number.isFinite(t.durationSeconds)&&t.durationSeconds>0){let e=Math.max(.1,t.durationSeconds);o.push(`-t`,e.toFixed(3))}o.push(i),await n.exec(o);let s=await n.readFile(i);if(!s)return console.warn(` FFmpeg returned empty output data`),null;let c=s instanceof Uint8Array?s:new Uint8Array(s);return new Blob([c],{type:`video/mp4`})}catch(e){return console.error(` Failed to convert video to mp4:`,e),null}finally{try{await n.deleteFile(r)}catch{}try{await n.deleteFile(i)}catch{}}};function AL(){console.log(` EDITPHOTO RENDERING...`);let e=Be(),{showToast:t}=JN(),[n,r]=(0,b.useState)([]),[i,a]=(0,b.useState)([]),[o,s]=(0,b.useState)(null),[c,l]=(0,b.useState)(!0),[u,d]=(0,b.useState)([]),[f,p]=(0,b.useState)(null),[m,h]=(0,b.useState)(!1),[g,_]=(0,b.useState)(``),[v,y]=(0,b.useState)({brightness:100,contrast:100,saturate:100,grayscale:0,sepia:0,blur:0,hueRotate:0}),[x,S]=(0,b.useState)(null),C=b.useRef(!1),T=(0,b.useMemo)(()=>Array.isArray(i)?i.some(e=>e&&(e.dataUrl||e.blob)):!1,[i]);(0,b.useEffect)(()=>{console.log(` Loading data from localStorage...`),qF(),(async()=>{try{let n=X.getItem(`activeDraftId`),i,o=async()=>{if(i!==void 0||!n)return i??null;try{let{default:e}=await w(async()=>{let{default:e}=await import(`./draftStorage-Mu7Ufi7a.js`);return{default:e}},[]),t=await e.getDraftById(n);i=t??null,t||console.warn(` Draft not found for recovery:`,n)}catch(e){console.error(` Failed to load draft for recovery:`,e),i=null}return i},c=X.getJSON(`capturedPhotos`),u=Array.isArray(c)?[...c]:[];if(u.length===0&&n){let e=await o();if(e?.capturedPhotos?.length){u=[...e.capturedPhotos],console.log(` Recovered photos from draft storage:`,{activeDraftId:n,count:u.length});try{X.setJSON(`capturedPhotos`,u)}catch(e){console.warn(` Could not rehydrate capturedPhotos into localStorage:`,e)}}}u.length>0?(r(u),console.log(` Loaded photos:`,u.length)):(r([]),console.log(` No captured photos found in storage or draft`));let f=X.getJSON(`capturedVideos`);console.log(` Loading videos from storage:`,{found:!!f,isArray:Array.isArray(f),length:f?.length||0});let m=Array.isArray(f)?[...f]:[];if(m.length===0&&n){let e=await o();if(e?.capturedVideos?.length){m=[...e.capturedVideos],console.log(` Recovered videos from draft storage:`,{activeDraftId:n,count:m.length});try{X.setJSON(`capturedVideos`,m)}catch(e){console.warn(` Could not rehydrate capturedVideos into localStorage:`,e)}}}if(m.length){let e=m.map((e,t)=>e?typeof e==`string`?e.startsWith(`data:`)?{id:`video-${t}`,dataUrl:e,mimeType:e.substring(5,e.indexOf(`;`))||`video/webm`,duration:null,timer:null,source:`legacy-string`}:(console.warn(` Unknown video string format:`,e.substring(0,30)),null):typeof e==`object`?e.dataUrl||e.blob?{id:e.id||`video-${t}`,dataUrl:e.dataUrl||null,blob:e.blob||null,mimeType:e.mimeType||e.dataUrl?.substring(5,e.dataUrl.indexOf(`;`))||`video/webm`,duration:Number.isFinite(e.duration)?e.duration:null,timer:Number.isFinite(e.timer)?e.timer:null,mirrored:!!e.mirrored,requiresPreviewMirror:!!e.requiresPreviewMirror,facingMode:e.facingMode||null,sizeBytes:e.sizeBytes??null,recordedAt:e.recordedAt??e.capturedAt??null,source:e.source||`camera-recording`}:(console.warn(` Video entry missing dataUrl/blob:`,e),null):(console.warn(` Unsupported video entry type:`,typeof e,e),null):null),t=e.filter(e=>e&&(e.dataUrl||e.blob)).length;a(e),console.log(` Videos normalized:`,{totalEntries:m.length,normalizedEntries:e.length,validEntries:t})}else console.log(` No videos found in storage`),a([]);console.log(` Step 4: Loading frame config...`);let h=X.getJSON(`frameConfig`);console.log(`   frameConfig from localStorage:`,!!h,h?.id);let g=X.getItem(`selectedFrame`);if(g?.startsWith(`custom-`)||h?.isCustom){console.log(` Custom frame detected, reloading from service...`);try{let{getCustomFrameConfig:e}=await w(async()=>{let{getCustomFrameConfig:e}=await import(`./customFrameService-C2lLcoeU.js`);return{getCustomFrameConfig:e}},[]),t=e(g||h?.id);t&&(h=t,console.log(` Reloaded custom frame from service with pixel values`))}catch(e){console.warn(` Failed to reload from service:`,e)}}if(h){let e=X.getItem(`frameConfigTimestamp`),t=h.__timestamp;console.log(` Timestamp validation:`,{storedTimestamp:e,configTimestamp:t,match:e===String(t)}),e&&t&&e!==String(t)&&(console.warn(` FrameConfig timestamp mismatch, clearing stale data`),X.removeItem(`frameConfig`),X.removeItem(`frameConfigTimestamp`),h=null)}if(!h){console.log(` No frameConfig in localStorage, checking fallbacks...`);let e=X.getItem(`selectedFrame`);if(console.log(`  - Selected frame ID:`,e),e?.startsWith(`custom-`)){console.log(` Attempting to load custom frame from service...`);try{let{getCustomFrameConfig:t}=await w(async()=>{let{getCustomFrameConfig:e}=await import(`./customFrameService-C2lLcoeU.js`);return{getCustomFrameConfig:e}},[]);h=t(e),h&&console.log(` Successfully loaded custom frame from service:`,h.id)}catch(e){console.error(` Failed to load from custom frame service:`,e)}}if(!h&&n)try{console.log(` Loading frameConfig from draft:`,n);let e=await o();if(e){let{buildFrameConfigFromDraft:t}=await w(async()=>{let{buildFrameConfigFromDraft:e}=await import(`./draftHelpers-DCCf10Pn.js`);return{buildFrameConfigFromDraft:e}},[]);h=t(e),console.log(` Successfully loaded frameConfig from draft:`,h.id);try{X.setJSON(`frameConfig`,h),X.setItem(`frameConfigTimestamp`,String(Date.now()))}catch(e){console.warn(` Could not cache frameConfig to localStorage:`,e)}}else console.warn(` Draft not found:`,n)}catch(e){console.warn(` Failed to load from draft:`,e)}h||console.warn(` All fallbacks failed - no frameConfig available`)}if(h&&h.isCustom){let e=h.designer?.elements?.find(e=>e?.type===`background-photo`);if(!e||!e.data?.image)if(console.log(` Background photo missing or incomplete, loading from draft...`),console.log(`  - Has background photo element:`,!!e),console.log(`  - Has image data:`,!!e?.data?.image),n)try{let e=await o();if(e&&e.elements){let t=e.elements.find(e=>e?.type===`background-photo`);if(t&&t.data?.image){console.log(` Found background photo image in draft, restoring...`),console.log(`  - Image length:`,t.data.image.length),console.log(`  - Image preview:`,t.data.image.substring(0,50));let{buildFrameConfigFromDraft:n}=await w(async()=>{let{buildFrameConfigFromDraft:e}=await import(`./draftHelpers-DCCf10Pn.js`);return{buildFrameConfigFromDraft:e}},[]);h=n(e);try{X.setJSON(`frameConfig`,h),console.log(` Saved complete frameConfig to localStorage`)}catch(e){console.warn(` Could not save frameConfig to localStorage (too large):`,e)}}else console.warn(` No background photo with image found in draft`)}else console.warn(` Draft not found or has no elements:`,n)}catch(e){console.error(` Failed to load from draft:`,e)}else console.warn(` No activeDraftId found in localStorage`);else console.log(` Background photo with image already present in frameConfig`)}if(!h||!h.id){t({type:`error`,title:`Frame Tidak Valid`,message:`Pilih frame terlebih dahulu di halaman Frames atau ambil foto baru.`,action:{label:`Pilih Frame`,onClick:()=>e(`/frames`)}}),e(`/frames`);return}if(s(h),console.log(` Loaded frame config:`,h.id),console.log(` Frame details:`,h),h.isCustom&&(console.log(` CUSTOM FRAME DETECTED:`),console.log(`  - Frame ID:`,h.id),console.log(`  - Frame name:`,h.name),console.log(`  - Max captures:`,h.maxCaptures),console.log(`  - Has frameImage:`,!!h.frameImage),console.log(`  - Has imagePath:`,!!h.imagePath),console.log(`  - Frame image preview:`,h.frameImage?.substring(0,50)),console.log(`  - Slots count:`,h.slots?.length),console.log(`  - Designer elements:`,h.designer?.elements?.length),!h.designer?.elements&&h.slots?.length>0)){console.log(` Custom frame missing designer.elements, rebuilding from slots...`);let e=h.slots.map((e,t)=>({id:e.id||`photo_${t+1}`,type:`photo`,x:e.left,y:e.top,width:e.width,height:e.height,zIndex:e.zIndex||2,data:{photoIndex:e.photoIndex===void 0?t:e.photoIndex,image:null,aspectRatio:e.aspectRatio||`4:5`}}));h={...h,designer:{...h.designer,elements:e}},s(h),console.log(` Rebuilt designer.elements:`,e.length)}if(Array.isArray(h.designer?.elements)){let e=h.designer.elements.filter(e=>e?.type===`photo`);console.log(` Found photo elements:`,e.length),e.forEach((e,t)=>{console.log(`   Photo ${t}:`,{id:e.id,type:e.type,photoIndex:e.data?.photoIndex,hasImage:!!e.data?.image,x:e.x,y:e.y,width:e.width,height:e.height})});let t=e.map((e,t)=>({...e,type:`upload`,data:{...e.data,image:null,photoIndex:e.data?.photoIndex===void 0?t:e.data.photoIndex}})),n=h.designer.elements.filter(e=>e&&e.type!==`photo`&&e.type!==`background-photo`&&!e?.data?.__capturedOverlay),r=[...t,...n];d(r),console.log(` Loaded designer elements:`,r.length);let i=h.designer.elements.find(e=>e?.type===`background-photo`);i?i.data?.image?(p(i),console.log(` Loaded background photo with image:`,{id:i.id,hasImage:!!i.data?.image,imageLength:i.data?.image?.length,imagePreview:i.data?.image?.substring(0,50),zIndex:i.zIndex,x:i.x,y:i.y,width:i.width,height:i.height})):(console.warn(` Background photo found but missing image data!`),console.log(`   This might happen if localStorage was cleared or data was sanitized`),console.log(`   Background photo will not be displayed`),p(null)):(console.warn(` No background photo found in frameConfig.designer.elements`),console.log(`   Elements found:`,h.designer.elements.map(e=>({type:e.type,id:e.id}))),p(null))}else console.warn(` No designer.elements found in frameConfig`),console.log(` Available properties:`,Object.keys(h));l(!1)}catch(e){console.error(` Error loading data:`,e),l(!1)}})()},[e]),(0,b.useEffect)(()=>{if(u.length===0||n.length===0){console.log(` Skipping photo fill:`,{hasElements:u.length>0,hasPhotos:n.length>0,photosFilled:C.current});return}console.log(` Checking if photo elements need filling...`),console.log(`   Designer elements:`,u.length),console.log(`   Available photos:`,n.length),console.log(`   Elements detail:`,u.map(e=>({id:e.id?.slice(0,8),type:e.type,photoIndex:e.data?.photoIndex,hasImage:!!e.data?.image})));let e=u.filter(e=>e.type===`upload`&&typeof e.data?.photoIndex==`number`);if(!e.some(e=>!e.data.image)){console.log(` All photo elements already filled`),C.current=!0;return}if(C.current){console.log(` Photos already filled, skipping to prevent loop...`);return}console.log(` Filling photo elements with real images...`),console.log(`   Found ${e.length} photo slots`);let t=u.map(e=>{if(e.type===`upload`&&typeof e.data?.photoIndex==`number`){let t=n[e.data.photoIndex];if(t)return console.log(` Filling photo slot ${e.data.photoIndex} with image`),console.log(`   Photo data length: ${t.length}`),console.log(`   Photo data preview: ${t.substring(0,50)}...`),{...e,data:{...e.data,image:t}};console.warn(` No photo data found for slot ${e.data.photoIndex}`),console.warn(`   Available photos: ${n.length}, requested index: ${e.data.photoIndex}`)}return e});console.log(` Setting updated elements with photos...`),d(t),C.current=!0,console.log(` Photo fill complete!`)},[n,u]),(0,b.useEffect)(()=>{console.log(` Videos state updated:`,{videos:i,isArray:Array.isArray(i),length:i?.length||0,hasValidVideo:T,buttonWillBeEnabled:T&&!m})},[i,T,m]);let E=[{name:`Original`,icon:``,filters:{brightness:100,contrast:100,saturate:100,grayscale:0,sepia:0,blur:0,hueRotate:0}},{name:`Black & White`,icon:``,filters:{brightness:100,contrast:115,saturate:0,grayscale:100,sepia:0,blur:0,hueRotate:0}},{name:`Sepia`,icon:``,filters:{brightness:110,contrast:90,saturate:80,grayscale:0,sepia:70,blur:0,hueRotate:0}},{name:`Warm Tone`,icon:``,filters:{brightness:108,contrast:98,saturate:115,grayscale:0,sepia:15,blur:0,hueRotate:15}},{name:`High Contrast`,icon:``,filters:{brightness:105,contrast:140,saturate:120,grayscale:0,sepia:0,blur:0,hueRotate:0}},{name:`Soft Light`,icon:``,filters:{brightness:110,contrast:85,saturate:90,grayscale:0,sepia:0,blur:0,hueRotate:0}},{name:`Vivid`,icon:``,filters:{brightness:110,contrast:125,saturate:160,grayscale:0,sepia:0,blur:0,hueRotate:0}},{name:`Fade`,icon:``,filters:{brightness:108,contrast:75,saturate:85,grayscale:0,sepia:0,blur:0,hueRotate:0}},{name:`Grayscale`,icon:``,filters:{brightness:105,contrast:100,saturate:0,grayscale:100,sepia:0,blur:0,hueRotate:0}}],D=e=>{y(e.filters),S(e.name)},O=()=>({filter:`
        brightness(${v.brightness}%)
        contrast(${v.contrast}%)
        saturate(${v.saturate}%)
        grayscale(${v.grayscale}%)
        sepia(${v.sepia}%)
        blur(${v.blur}px)
        hue-rotate(${v.hueRotate}deg)
      `.trim()});return c?(0,Z.jsx)(`div`,{style:{minHeight:`100vh`,display:`flex`,alignItems:`center`,justifyContent:`center`,background:`#fdf7f4`},children:(0,Z.jsxs)(`div`,{style:{background:`white`,padding:`2rem`,borderRadius:`12px`,textAlign:`center`},children:[(0,Z.jsx)(`div`,{style:{fontSize:`2rem`,marginBottom:`1rem`},children:``}),(0,Z.jsx)(`div`,{children:`Loading...`})]})}):(0,Z.jsxs)(`div`,{style:{minHeight:`100vh`,background:`#fdf7f4`,display:`flex`,flexDirection:`column`,alignItems:`center`,padding:`1rem`,paddingTop:`0.5rem`},children:[(!o||n.length===0)&&(0,Z.jsxs)(`div`,{style:{background:`#fff7ed`,color:`#b45309`,border:`1px solid #fbbf24`,borderRadius:`8px`,padding:`1rem`,marginBottom:`1rem`,maxWidth:`600px`,fontSize:`0.95rem`,boxShadow:`0 2px 8px rgba(0,0,0,0.06)`},children:[(0,Z.jsx)(`strong`,{children:`Debug Info:`}),(0,Z.jsxs)(`div`,{children:[`frameConfig: `,JSON.stringify(X.getJSON(`frameConfig`))]}),(0,Z.jsxs)(`div`,{children:[`frameConfigTimestamp:`,` `,String(X.getItem(`frameConfigTimestamp`))]}),(0,Z.jsxs)(`div`,{children:[`capturedPhotos:`,` `,JSON.stringify(X.getJSON(`capturedPhotos`))]}),(0,Z.jsxs)(`div`,{children:[`activeDraftId: `,String(X.getItem(`activeDraftId`))]})]}),(0,Z.jsx)(`h1`,{style:{fontSize:`1.2rem`,fontWeight:`700`,color:`#000000`,marginBottom:`0.75rem`,marginTop:`0.5rem`,fontFamily:`Poppins, sans-serif`},children:`Preview`}),g&&(0,Z.jsx)(`div`,{style:{position:`fixed`,top:`20px`,right:`20px`,padding:`1rem 1.5rem`,borderRadius:`8px`,fontSize:`0.9rem`,background:g.includes(``)?`#d4edda`:`#f8d7da`,color:g.includes(``)?`#155724`:`#721c24`,boxShadow:`0 4px 12px rgba(0,0,0,0.15)`,zIndex:1e3},children:g}),o&&(0,Z.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,alignItems:`center`,gap:`1rem`,width:`100%`,maxWidth:`900px`},children:[(0,Z.jsx)(`div`,{style:{background:`white`,padding:`1rem`,borderRadius:`16px`,boxShadow:`0 4px 20px rgba(0,0,0,0.1)`,overflow:`hidden`,width:`fit-content`,height:`512px`},children:(0,Z.jsxs)(`div`,{id:`frame-preview-canvas`,style:{position:`relative`,width:`1080px`,height:`1920px`,margin:`0 auto`,background:o&&o.designer&&o.designer.canvasBackground||`#fff`,borderRadius:`12px`,boxShadow:`0 4px 20px rgba(0,0,0,0.15)`,overflow:`hidden`,transform:`scale(0.25)`,transformOrigin:`top center`},children:[f&&f.data?.image&&(0,Z.jsx)(`img`,{src:f.data.image,alt:`Background`,style:{position:`absolute`,top:0,left:0,width:`100%`,height:`100%`,objectFit:`cover`,zIndex:-4e3,...O()}}),u&&u.length>0&&u.map((e,t)=>{if(!e||!e.type)return null;let n=Number.isFinite(e.zIndex)?e.zIndex:200+t;if(e.type===`text`)return(0,Z.jsx)(`div`,{style:{position:`absolute`,left:`${e.x||0}px`,top:`${e.y||0}px`,width:`${e.width||100}px`,height:`${e.height||100}px`,zIndex:n,pointerEvents:`none`,fontFamily:e.data?.fontFamily||`Inter`,fontSize:`${e.data?.fontSize||24}px`,color:e.data?.color||`#111827`,fontWeight:e.data?.fontWeight||500,textAlign:e.data?.align||`left`,display:`flex`,alignItems:e.data?.verticalAlign===`middle`?`center`:e.data?.verticalAlign===`bottom`?`flex-end`:`flex-start`,justifyContent:e.data?.align===`center`?`center`:e.data?.align===`right`?`flex-end`:`flex-start`},children:e.data?.text||``},`element-${e.id||t}`);if(e.type===`shape`)return(0,Z.jsx)(`div`,{style:{position:`absolute`,left:`${e.x||0}px`,top:`${e.y||0}px`,width:`${e.width||100}px`,height:`${e.height||100}px`,zIndex:n,pointerEvents:`none`,background:e.data?.fill||`#000`,borderRadius:e.data?.shape===`circle`?`50%`:`${e.data?.borderRadius||0}px`,opacity:e.data?.opacity===void 0?1:e.data.opacity}},`element-${e.id||t}`);if(e.type===`upload`){let r=!!e.data?.image,i=typeof e.data?.photoIndex==`number`;return!r&&i&&console.warn(` Photo slot ${e.data.photoIndex} missing image!`),r?(0,Z.jsx)(`div`,{style:{position:`absolute`,left:`${e.x||0}px`,top:`${e.y||0}px`,width:`${e.width||100}px`,height:`${e.height||100}px`,zIndex:n,pointerEvents:`none`,borderRadius:`${e.data?.borderRadius||24}px`,overflow:`hidden`,display:`flex`,alignItems:`center`,justifyContent:`center`,background:`transparent`},children:(0,Z.jsx)(`img`,{src:e.data.image,alt:e.data?.photoIndex===void 0?`Upload`:`Photo ${e.data.photoIndex+1}`,style:{width:`100%`,height:`100%`,objectFit:`cover`,display:`block`,...O()}})},`element-${e.id||t}`):(0,Z.jsx)(`div`,{style:{position:`absolute`,left:`${e.x||0}px`,top:`${e.y||0}px`,width:`${e.width||100}px`,height:`${e.height||100}px`,zIndex:n,pointerEvents:`none`,borderRadius:`${e.data?.borderRadius||24}px`,overflow:`hidden`,display:`flex`,alignItems:`center`,justifyContent:`center`,background:`#f3f4f6`,border:`2px dashed #d1d5db`},children:(0,Z.jsx)(`span`,{style:{fontSize:`48px`,color:`#9ca3af`},children:``})},`element-${e.id||t}`)}return null}),o&&o.frameImage&&(0,Z.jsx)(`div`,{style:{position:`absolute`,left:0,top:0,width:`100%`,height:`100%`,zIndex:9999,pointerEvents:`none`},children:(0,Z.jsx)(`img`,{src:o.frameImage,alt:`Frame Overlay`,style:{width:`100%`,height:`100%`,objectFit:`contain`}})})]})}),(0,Z.jsx)(`div`,{style:{display:`flex`,gap:`0.5rem`,overflowX:`auto`,overflowY:`hidden`,paddingBottom:`0.5rem`,scrollbarWidth:`thin`,scrollbarColor:`#D1D5DB #F3F4F6`,WebkitOverflowScrolling:`touch`},children:E.map(e=>(0,Z.jsxs)(`button`,{onClick:()=>D(e),style:{padding:`0.5rem 0.75rem`,background:x===e.name?`#4F46E5`:`white`,color:x===e.name?`white`:`#333`,border:`2px solid ${x===e.name?`#4F46E5`:`#E5E7EB`}`,borderRadius:`10px`,fontSize:`0.75rem`,fontWeight:`500`,cursor:`pointer`,transition:`all 0.2s ease`,display:`flex`,flexDirection:`column`,alignItems:`center`,gap:`0.2rem`,minWidth:`75px`,flexShrink:0,whiteSpace:`nowrap`},onMouseEnter:t=>{x!==e.name&&(t.target.style.borderColor=`#D1D5DB`,t.target.style.background=`#F9FAFB`)},onMouseLeave:t=>{x!==e.name&&(t.target.style.borderColor=`#E5E7EB`,t.target.style.background=`white`)},children:[(0,Z.jsx)(`span`,{style:{fontSize:`1.3rem`},children:e.icon}),(0,Z.jsx)(`span`,{style:{fontSize:`0.7rem`},children:e.name})]},e.name))}),(0,Z.jsxs)(`div`,{style:{display:`flex`,gap:`0.75rem`,width:`100%`,maxWidth:`400px`,marginTop:`1rem`,justifyContent:`center`},children:[(0,Z.jsx)(`button`,{style:{padding:`0.75rem 1.5rem`,background:`#3B82F6`,color:`white`,border:`none`,borderRadius:`8px`,fontSize:`1rem`,cursor:`pointer`,fontWeight:`600`},onClick:async()=>{console.log(` Memulai download dengan canvas manual...`);try{let e=document.createElement(`canvas`);e.width=1080,e.height=1920;let n=e.getContext(`2d`,{alpha:!0});n.fillStyle=o?.designer?.canvasBackground||`#ffffff`,n.fillRect(0,0,1080,1920);let r=(e,t,n,r,i,a)=>{let o=t.width/t.height,s=i/a,c=0,l=0,u=t.width,d=t.height;o>s?(u=t.height*s,c=(t.width-u)/2):(d=t.width/s,l=(t.height-d)/2),e.drawImage(t,c,l,u,d,n,r,i,a)};if(f&&f.data?.image){let e=new Image;e.crossOrigin=`anonymous`,await new Promise((t,i)=>{e.onload=()=>{n.save(),n.filter=`
                          brightness(${v.brightness}%)
                          contrast(${v.contrast}%)
                          saturate(${v.saturate}%)
                          grayscale(${v.grayscale}%)
                          sepia(${v.sepia}%)
                          blur(${v.blur}px)
                          hue-rotate(${v.hueRotate}deg)
                        `.trim(),r(n,e,0,0,1080,1920),n.restore(),t()},e.onerror=i,e.src=f.data.image})}let i=[...u].sort((e,t)=>{let n=Number.isFinite(e?.zIndex)?e.zIndex:200,r=Number.isFinite(t?.zIndex)?t.zIndex:200;return n-r});console.log(` DOWNLOAD DEBUG - Designer Elements:`),u.slice(0,3).forEach((e,t)=>{console.log(`  Slot ${t}:`,{type:e.type,x:e.x,y:e.y,width:e.width,height:e.height,hasImage:!!e.data?.image})}),console.log(` Rendering elements in order:`,i.map(e=>({type:e.type,id:e.id?.slice(0,8),zIndex:e.zIndex,text:e.type===`text`?e.data?.text:void 0})));for(let e of i){if(!e||!e.type)continue;if(e.type===`upload`&&e.data?.image){let t=new Image;t.crossOrigin=`anonymous`,await new Promise((i,a)=>{t.onload=()=>{n.save(),n.globalAlpha=1,n.globalCompositeOperation=`source-over`,n.filter=`
                            brightness(${v.brightness}%)
                            contrast(${v.contrast}%)
                            saturate(${v.saturate}%)
                            grayscale(${v.grayscale}%)
                            sepia(${v.sepia}%)
                            blur(${v.blur}px)
                            hue-rotate(${v.hueRotate}deg)
                          `.trim();let a=e.x||0,o=e.y||0,s=e.width||100,c=e.height||100,l=e.data?.borderRadius||24;n.beginPath(),n.moveTo(a+l,o),n.lineTo(a+s-l,o),n.quadraticCurveTo(a+s,o,a+s,o+l),n.lineTo(a+s,o+c-l),n.quadraticCurveTo(a+s,o+c,a+s-l,o+c),n.lineTo(a+l,o+c),n.quadraticCurveTo(a,o+c,a,o+c-l),n.lineTo(a,o+l),n.quadraticCurveTo(a,o,a+l,o),n.closePath(),n.clip(),r(n,t,a,o,s,c),n.restore(),i()},t.onerror=a,t.src=e.data.image})}else if(e.type===`shape`){n.save(),n.fillStyle=e.data?.fill||`#000`,n.globalAlpha=e.data?.opacity===void 0?1:e.data.opacity;let t=e.x||0,r=e.y||0,i=e.width||100,a=e.height||100,o=e.data?.borderRadius||0;e.data?.shape===`circle`?(n.beginPath(),n.arc(t+i/2,r+a/2,Math.min(i,a)/2,0,Math.PI*2),n.fill()):(n.beginPath(),n.moveTo(t+o,r),n.lineTo(t+i-o,r),n.quadraticCurveTo(t+i,r,t+i,r+o),n.lineTo(t+i,r+a-o),n.quadraticCurveTo(t+i,r+a,t+i-o,r+a),n.lineTo(t+o,r+a),n.quadraticCurveTo(t,r+a,t,r+a-o),n.lineTo(t,r+o),n.quadraticCurveTo(t,r,t+o,r),n.closePath(),n.fill()),n.restore()}else if(e.type===`text`){n.save();let t=e.data?.fontSize||24,r=e.data?.fontWeight||500,i=e.data?.fontFamily||`Inter`;n.font=`${r} ${t}px ${i}`,n.fillStyle=e.data?.color||`#111827`;let a=e.x||0,o=e.y||0,s=e.width||100,c=e.height||100,l=e.data?.text||``,u=e.data?.align||`left`,d=(e,t,n)=>{let r=t.split(` `),i=[],a=``;for(let t=0;t<r.length;t++){let o=a+(a?` `:``)+r[t];e.measureText(o).width>n&&a?(i.push(a),a=r[t]):a=o}return a&&i.push(a),i},f=l.split(`
`),p=[];f.forEach(e=>{if(e.trim()){let t=d(n,e,s-20);p.push(...t)}else p.push(``)});let m=t*1.2,h=p.length*m,g=o;g=e.data?.verticalAlign===`middle`?o+(c-h)/2+t:e.data?.verticalAlign===`bottom`?o+c-h+t:o+t,n.textBaseline=`alphabetic`,p.forEach((e,t)=>{let r=g+t*m,i=a+10;u===`center`?(i=a+s/2,n.textAlign=`center`):u===`right`?(i=a+s-10,n.textAlign=`right`):n.textAlign=`left`,n.fillText(e,i,r,s-20)}),n.restore()}}let a=1080,s=1920,c=0,l=0;if(o&&o.frameImage){let e=new Image;e.crossOrigin=`anonymous`,await new Promise((t,r)=>{e.onload=()=>{let r=1080,i=1920,o=e.width/e.height;r/i;let u,d,f,p;o>.5625?(u=r,d=r/o,f=0,p=(i-d)/2):(d=i,u=i*o,f=(r-u)/2,p=0),n.drawImage(e,f,p,u,d),a=Math.round(u),s=Math.round(d),c=Math.round(f),l=Math.round(p),t()},e.onerror=r,e.src=o.frameImage})}let d=e;(c>0||l>0||a<1080||s<1920)&&(console.log(` Cropping canvas to frame size:`,{from:`1080x1920`,to:`${a}x${s}`,offset:`${c}, ${l}`}),d=document.createElement(`canvas`),d.width=a,d.height=s,d.getContext(`2d`).drawImage(e,c,l,a,s,0,0,a,s)),console.log(`Canvas created:`,{width:d.width,height:d.height});let p=document.createElement(`a`);p.download=`fremio-photo.png`,p.href=d.toDataURL(`image/png`,1),p.click(),o?.id&&(await RF(o.id,null,null,o.name||o.id),console.log(` Tracked download for frame:`,o.id)),console.log(` Download selesai!`),t({type:`success`,title:`Download Berhasil`,message:`Foto berhasil disimpan.`})}catch(e){console.error(` Error saat download:`,e),t({type:`error`,title:`Download Gagal`,message:e.message||`Terjadi kesalahan saat mengunduh foto.`})}},children:`Download Photo`}),(0,Z.jsx)(`button`,{onClick:async()=>{if(!i||i.length===0){t({type:`warning`,title:`Tidak Ada Video`,message:`Ambil video terlebih dahulu di halaman Take Moment.`,action:{label:`Ambil Video`,onClick:()=>e(`/take-moment`)}});return}if(!T){t({type:`error`,title:`Video Tidak Valid`,message:`Video corrupt atau tidak valid. Silakan ambil video baru.`,action:{label:`Ambil Ulang`,onClick:()=>e(`/take-moment`)}});return}try{_(` Merender video dengan frame...`),h(!0);let e=document.createElement(`canvas`);e.width=1080,e.height=1920;let n=e.getContext(`2d`,{alpha:!0,willReadFrequently:!1});if(typeof MediaRecorder>`u`)throw Error(`Browser ini belum mendukung fitur perekaman canvas (MediaRecorder). Coba gunakan Chrome atau Edge versi terbaru.`);let r=e.captureStream||e.mozCaptureStream||e.webkitCaptureStream||null;if(typeof r!=`function`)throw Error(`Browser ini belum mendukung captureStream pada canvas. Coba gunakan Chrome atau Edge versi terbaru.`);let a=[],s=u.filter(e=>e.type===`upload`&&typeof e.data?.photoIndex==`number`);console.log(` Preparing videos...`,{totalVideos:i.length,photoSlots:s.length}),i.forEach((e,t)=>{e&&console.log(` Video ${t} metadata:`,{hasDataUrl:!!e.dataUrl,hasBlob:!!e.blob,duration:e.duration,timer:e.timer,mimeType:e.mimeType,source:`camera recording from TakeMoment`})});let c=i.slice(0,s.length).map((e,t)=>!e||!e.dataUrl&&!e.blob?Promise.resolve(null):new Promise(n=>{let r=document.createElement(`video`);r.muted=!0,r.loop=!1,r.playsInline=!0,r.crossOrigin=`anonymous`,e.dataUrl?r.src=e.dataUrl:e.blob&&(r.src=URL.createObjectURL(e.blob));let i=!1,a,o=()=>{a&&clearTimeout(a),r.onloadedmetadata=null,r.onloadeddata=null,r.oncanplay=null,r.onerror=null},c=e=>{i=!0,console.log(` Video ${t} ready (${e}):`,{duration:r.duration,width:r.videoWidth,height:r.videoHeight,readyState:r.readyState}),o(),i||r.readyState>=2||Number.isFinite(r.duration)&&r.duration>0?n({video:r,slot:s[t],index:t}):(r.src.startsWith(`blob:`)&&URL.revokeObjectURL(r.src),n(null))};r.onloadedmetadata=()=>c(`loadedmetadata`),r.onloadeddata=()=>c(`loadeddata`),r.oncanplay=()=>c(`canplay`),r.onerror=e=>{console.error(` Video ${t} failed to load`,e),o(),r.src.startsWith(`blob:`)&&URL.revokeObjectURL(r.src),n(null)},a=setTimeout(()=>{console.warn(` Video ${t} load timed out`,{readyState:r.readyState,duration:r.duration}),o(),i||r.readyState>=2||Number.isFinite(r.duration)&&r.duration>0?n({video:r,slot:s[t],index:t}):(r.src.startsWith(`blob:`)&&URL.revokeObjectURL(r.src),n(null))},8e3)})),l=await Promise.all(c);if(a.push(...l.filter(e=>e!==null)),a.length===0)throw Error(`Tidak ada video yang berhasil dimuat`);console.log(` Videos loaded:`,a.length);let d=new Map,p=new Map;a.forEach(({video:e,slot:t})=>{t?.id&&d.set(t.id,{video:e,slot:t});let n=t?.data?.photoIndex;typeof n==`number`&&!p.has(n)&&p.set(n,{video:e,slot:t})});let m=Math.max(...a.map(({video:e})=>e.duration&&Number.isFinite(e.duration)?e.duration:0),3);console.log(` Video download will render:`),console.log(`   - Duration: `+m+`s (from recorded video)`),console.log(`   - Original timer: `+(i[0]?.timer||`unknown`)+`s`),console.log(`   - Expected duration based on timer:`),console.log(`     * Timer 3s  Video ~4s`),console.log(`     * Timer 5s  Video ~6s`),console.log(`     * Timer 10s  Video ~6s`),console.log(`   - Video will play in photo slots with frame overlay`);let g=r.call(e,25),y=[`video/mp4`,`video/webm;codecs=h264`,`video/webm;codecs=vp9`,`video/webm;codecs=vp8`,`video/webm`].find(e=>MediaRecorder.isTypeSupported(e));if(!y)throw Error(`Browser tidak mendukung perekaman video`);let b=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),x=b?15e5:25e5;console.log(` MediaRecorder settings:`,{mimeType:y,bitrate:`${(x/1e6).toFixed(1)}Mbps`,device:b?`mobile`:`desktop`});let S=new MediaRecorder(g,{mimeType:y,videoBitsPerSecond:x}),C=[];S.ondataavailable=e=>{e.data&&e.data.size>0&&C.push(e.data)};let w=null;f&&f.data?.image&&(console.log(` Preloading background image...`),w=new Image,w.crossOrigin=`anonymous`,await new Promise(e=>{w.onload=()=>{console.log(` Background image loaded`),e()},w.onerror=()=>{console.warn(` Background image failed to load`),w=null,e()},w.src=f.data.image,setTimeout(()=>e(),3e3)}));let T=null;o&&o.frameImage&&(console.log(` Preloading frame overlay image...`),T=new Image,T.crossOrigin=`anonymous`,await new Promise(e=>{T.onload=()=>{console.log(` Frame overlay loaded`),e()},T.onerror=()=>{console.warn(` Frame overlay failed to load`),T=null,e()},T.src=o.frameImage,setTimeout(()=>e(),3e3)}));let E=new Map,D=u.filter(e=>!e||e.type!==`upload`||typeof e?.data?.photoIndex==`number`?!1:!!e?.data?.image);D.length&&(console.log(` Preloading overlay uploads:`,D.length),await Promise.all(D.map((e,t)=>new Promise(n=>{let r=new Image;r.crossOrigin=`anonymous`;let i=!1,a=()=>{i||(i=!0,n())},o=setTimeout(()=>{console.warn(` Overlay image ${t} load timeout`),a()},3e3);r.onload=()=>{clearTimeout(o),console.log(` Overlay upload ${t} loaded`,{width:r.naturalWidth,height:r.naturalHeight,id:e?.id}),E.set(e,r),a()},r.onerror=e=>{clearTimeout(o),console.warn(` Overlay upload ${t} failed to load`,e),a()},r.src=e.data.image}))));let O=e=>{if(Number.isFinite(e))return e;if(typeof e==`string`){let t=parseFloat(e);return Number.isFinite(t)?t:0}return 0},k=(e,t,n)=>{if(!Number.isFinite(e)||e<=0)return 0;let r=Math.min(t,n)/2;return Math.min(Math.max(e,0),r)},A=(e,t,n,r)=>{e.beginPath(),e.moveTo(r,0),e.lineTo(t-r,0),e.quadraticCurveTo(t,0,t,r),e.lineTo(t,n-r),e.quadraticCurveTo(t,n,t-r,n),e.lineTo(r,n),e.quadraticCurveTo(0,n,0,n-r),e.lineTo(0,r),e.quadraticCurveTo(0,0,r,0),e.closePath()},j=(e,t,n,r)=>{let i=Number.isFinite(t?.width)?t.width:Number.isFinite(n?.width)?n.width:0,a=Number.isFinite(t?.height)?t.height:Number.isFinite(n?.height)?n.height:0,o=Number.isFinite(t?.x)?t.x:Number.isFinite(n?.x)?n.x:0,s=Number.isFinite(t?.y)?t.y:Number.isFinite(n?.y)?n.y:0,c=(Number.isFinite(t?.rotation)?t.rotation:Number.isFinite(n?.rotation)?n.rotation:0)*Math.PI/180;e.save(),e.translate(o+i/2,s+a/2),c&&e.rotate(c),e.translate(-i/2,-a/2),r({width:i,height:a}),e.restore()},M=(e,t,n,r)=>{if(!e||!t)return;if(t?.data?.shape===`circle`){let t=Math.min(n,r)/2;e.beginPath(),e.arc(n/2,r/2,t,0,Math.PI*2),e.closePath(),e.clip();return}let i=O(t?.data?.borderRadius),a=k(i,n,r);if(a<=0){e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.clip();return}A(e,n,r,a),e.clip()},N=(e,t,n,r)=>{if(!t)return;let i=Number.isFinite(t.videoWidth)&&t.videoWidth>0?t.videoWidth:Number.isFinite(t.naturalWidth)&&t.naturalWidth>0?t.naturalWidth:Number.isFinite(t.width)&&t.width>0?t.width:n,a=Number.isFinite(t.videoHeight)&&t.videoHeight>0?t.videoHeight:Number.isFinite(t.naturalHeight)&&t.naturalHeight>0?t.naturalHeight:Number.isFinite(t.height)&&t.height>0?t.height:r;if(!i||!a){e.drawImage(t,0,0,n,r);return}let o=i/a,s=n/r,c=0,l=0,u=i,d=a;o>s?(u=a*s,c=(i-u)/2):(d=i/s,l=(a-d)/2),e.drawImage(t,c,l,u,d,0,0,n,r)},ee=u.filter(Boolean).slice().sort((e,t)=>{let n=Number.isFinite(e?.zIndex)?e.zIndex:200,r=Number.isFinite(t?.zIndex)?t.zIndex:200;if(n===r){let n=u.indexOf(e),r=u.indexOf(t);return n-r}return n-r}),P=[`brightness(${v.brightness}%)`,`contrast(${v.contrast}%)`,`saturate(${v.saturate}%)`,`grayscale(${v.grayscale}%)`,`sepia(${v.sepia}%)`,`blur(${v.blur}px)`,`hue-rotate(${v.hueRotate}deg)`].join(` `),F=o?.designer?.canvasBackground||`#FFFFFF`,I=()=>{if(n.save(),n.setTransform(1,0,0,1,0,0),n.globalAlpha=1,n.globalCompositeOperation=`source-over`,n.filter=`none`,n.fillStyle=F,n.fillRect(0,0,e.width,e.height),n.restore(),w&&w.complete&&w.naturalWidth>0)try{f?j(n,f,{width:e.width,height:e.height,x:0,y:0},({width:e,height:t})=>{n.filter=P,M(n,f,e,t),N(n,w,e,t)}):(n.save(),n.filter=P,N(n,w,e.width,e.height),n.restore())}catch(e){console.warn(`Error drawing background:`,e)}if(ee.forEach(e=>{if(e){if(e.type===`upload`&&typeof e?.data?.photoIndex==`number`){let t=e.id&&d.get(e.id)||p.get(e.data.photoIndex);if(!t)return;let{video:r}=t;if(!(r.readyState>=2&&!r.paused&&!r.ended))return;try{j(n,e,null,({width:t,height:i})=>{n.filter=P,M(n,e,t,i),n.translate(t,0),n.scale(-1,1),N(n,r,t,i)})}catch(e){console.warn(`Error drawing video frame:`,e)}return}if(e.type===`shape`){j(n,e,null,({width:t,height:r})=>{let i=Number.isFinite(e?.data?.opacity)?e.data.opacity:1;if(n.filter=`none`,n.globalAlpha=i,n.fillStyle=e.data?.fill||`#000`,e.data?.shape===`circle`)n.beginPath(),n.arc(t/2,r/2,Math.min(t,r)/2,0,Math.PI*2),n.fill();else{let i=O(e?.data?.borderRadius),a=k(i,t,r);A(n,t,r,a),n.fill()}});return}if(e.type===`text`&&e.data?.text){j(n,e,null,({width:t,height:r})=>{n.filter=`none`,n.globalAlpha=Number.isFinite(e?.data?.opacity)?e.data.opacity:1;let i=e.data?.fontSize||24,a=e.data?.fontWeight||500,o=e.data?.fontFamily||`Inter`;n.font=`${a} ${i}px ${o}`;let s=e.data?.align||`left`;n.fillStyle=e.data?.color||`#111827`;let c=(e,t,n)=>{let r=t.split(` `),i=[],a=``;for(let t=0;t<r.length;t++){let o=a+(a?` `:``)+r[t];e.measureText(o).width>n&&a?(i.push(a),a=r[t]):a=o}return a&&i.push(a),i},l=(e.data.text||``).split(`
`),u=[];l.forEach(e=>{if(e.trim()){let r=c(n,e,t-20);u.push(...r)}else u.push(``)});let d=i*1.2,f=u.length*d,p=10;s===`center`?(p=t/2,n.textAlign=`center`):s===`right`?(p=t-10,n.textAlign=`right`):n.textAlign=`left`;let m=i,h=e.data?.verticalAlign;h===`middle`?m=(r-f)/2+i:h===`bottom`&&(m=r-f+i),n.textBaseline=`alphabetic`,u.forEach((e,r)=>{let i=m+r*d;n.fillText(e,p,i,t-20)})});return}if(e.type===`upload`){let t=E.get(e);if(!t||!t.complete||t.naturalWidth<=0)return;j(n,e,null,({width:r,height:i})=>{n.globalAlpha=1,n.globalCompositeOperation=`source-over`,n.filter=`none`,M(n,e,r,i),N(n,t,r,i)})}}}),T&&T.complete&&T.naturalWidth>0)try{n.save(),n.filter=`none`,n.globalAlpha=1;let e=1080,t=1920,r=T.width/T.height;e/t;let i,a,o,s;r>.5625?(i=e,a=e/r,o=0,s=(t-a)/2):(a=t,i=t*r,o=(e-i)/2,s=0),n.drawImage(T,o,s,i,a),n.restore()}catch(e){console.warn(`Error drawing frame overlay:`,e)}},te=new Promise((e,t)=>{S.onstop=()=>{if(console.log(` Recording stopped, creating blob...`),C.length===0){console.error(` No video chunks recorded!`),t(Error(`No video data recorded`));return}let n=new Blob(C,{type:y});console.log(` Video blob created:`,{size:(n.size/1024).toFixed(2)+`KB`,type:n.type,chunks:C.length}),e(n)},S.onerror=e=>{console.error(` MediaRecorder error:`,e),t(e)}});console.log(` Starting MediaRecorder...`),S.start(100),console.log(` MediaRecorder started, state:`,S.state),console.log(` Starting video playback...`),await Promise.all(a.map(({video:e,index:t})=>(e.currentTime=0,e.play().then(()=>{console.log(` Video ${t} playing`)}).catch(e=>{console.warn(` Video ${t} play failed:`,e)})))),console.log(` Starting animation loop...`);let ne=performance.now(),re=0,ie=()=>{I(),re++;let e=(performance.now()-ne)/1e3,t=a.every(({video:e})=>e.ended||e.currentTime>=m);re%25==0&&console.log(` Recording progress: ${e.toFixed(1)}s / ${m}s (frame ${re})`),e<m+.5&&!t?requestAnimationFrame(ie):(console.log(` Stopping recording...`),console.log(`   Total frames: ${re}, Duration: ${e.toFixed(2)}s`),S.state!==`inactive`&&S.stop(),a.forEach(({video:e,index:t})=>{e.pause(),console.log(` Video ${t} paused at ${e.currentTime.toFixed(2)}s`),e.src.startsWith(`blob:`)&&URL.revokeObjectURL(e.src)}))};ie(),console.log(` Waiting for recording to complete...`),_(` Finalizing video...`);let L=await te;if(!L||L.size<1e3)throw Error(`Video blob too small or invalid (${L?.size||0} bytes)`);console.log(` Preparing final download blob...`,{sizeKB:(L.size/1024).toFixed(2),type:L.type});let R=L,ae=`mp4`,oe=L.type||`video/mp4`;if(L.type===`video/mp4`||L.type.includes(`codecs=h264`)||L.type.includes(`codecs=avc1`))console.log(` Video already in compatible format, skipping conversion!`,{type:L.type,sizeKB:(L.size/1024).toFixed(2)}),L.type===`video/mp4`?ae=`mp4`:L.type.includes(`webm`)&&(ae=`mp4`,oe=`video/mp4`);else{console.log(` Video needs conversion:`,L.type),_(` Mengonversi video ke MP4 (ini memakan waktu)...`);try{let e=await kL(L,{frameRate:25,durationSeconds:m,outputPrefix:`fremio-video`});e&&e.size>0?(R=e,ae=`mp4`,oe=`video/mp4`,console.log(` Video converted to MP4:`,{originalType:L.type,originalSizeKB:(L.size/1024).toFixed(2),convertedSizeKB:(e.size/1024).toFixed(2)})):(console.warn(` MP4 conversion returned empty result, falling back to original blob`),ae=`webm`)}catch(e){console.error(` MP4 conversion failed, using original recording:`,e),ae=`webm`}}console.log(` Downloading video...`);let se=`fremio-video-${new Date().toISOString().replace(/[:.]/g,`-`)}.${ae}`,ce=URL.createObjectURL(R),le=document.createElement(`a`);le.href=ce,le.download=se,le.type=oe,document.body.appendChild(le),le.click(),document.body.removeChild(le),setTimeout(()=>{URL.revokeObjectURL(ce)},1e3),o?.id&&(await RF(o.id,null,null,o.name||o.id),console.log(` Tracked video download for frame:`,o.id)),_(ae===`mp4`?` Video MP4 berhasil didownload!`:` Video berhasil didownload (format cadangan)`),setTimeout(()=>_(``),3e3),console.log(` Video download complete:`,se),t({type:`success`,title:`Video Berhasil`,message:`Video berhasil dirender dan disimpan.`})}catch(e){console.error(` Error rendering video:`,e),t({type:`error`,title:`Render Video Gagal`,message:e.message||`Terjadi kesalahan saat merender video.`,action:{label:`Coba Lagi`,onClick:()=>window.location.reload()}}),_(``)}finally{h(!1)}},disabled:(()=>{let e=!T||m;return console.log(` Download Video button state:`,{videosLength:i?.length||0,hasValidVideo:T,isSaving:m,isDisabled:e}),e})(),style:{padding:`0.75rem 1.5rem`,background:!T||m?`#9CA3AF`:`#8B5CF6`,color:`white`,border:`none`,borderRadius:`8px`,fontSize:`1rem`,cursor:!T||m?`not-allowed`:`pointer`,fontWeight:`600`,opacity:!T||m?.6:1},children:m?` Processing...`:`Download Video`})]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,gap:`0.75rem`,width:`100%`,maxWidth:`400px`,marginTop:`1rem`,justifyContent:`center`},children:[(0,Z.jsx)(`button`,{onClick:()=>{window.confirm(`Kembali ke halaman utama? Cache frame akan dibersihkan.`)&&(GF(),e(`/`))},style:{padding:`0.75rem 1.5rem`,background:`#10B981`,color:`white`,border:`none`,borderRadius:`8px`,fontSize:`1rem`,cursor:`pointer`,fontWeight:`600`},children:` Back to Home`}),(0,Z.jsx)(`button`,{onClick:()=>{window.confirm(`Buat frame baru? Cache frame saat ini akan dibersihkan.`)&&(GF(),e(`/create`))},style:{padding:`0.75rem 1.5rem`,background:`#8B5CF6`,color:`white`,border:`none`,borderRadius:`8px`,fontSize:`1rem`,cursor:`pointer`,fontWeight:`600`},children:` Create New`})]})]})]})}var jL=u(s(((exports,t)=>{(function(n,r){typeof exports==`object`&&typeof t==`object`?t.exports=r():typeof define==`function`&&define.amd?define([],r):typeof exports==`object`?exports.jsQR=r():n.jsQR=r()})(typeof self<`u`?self:exports,function(){return(function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,`a`,t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=``,n(n.s=3)})([(function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.BitMatrix=function(){function e(e,t){this.width=t,this.height=e.length/t,this.data=e}return e.createEmpty=function(t,n){return new e(new Uint8ClampedArray(t*n),t)},e.prototype.get=function(e,t){return e<0||e>=this.width||t<0||t>=this.height?!1:!!this.data[t*this.width+e]},e.prototype.set=function(e,t,n){this.data[t*this.width+e]=n?1:0},e.prototype.setRegion=function(e,t,n,r,i){for(var a=t;a<t+r;a++)for(var o=e;o<e+n;o++)this.set(o,a,!!i)},e}()}),(function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(2);function i(e,t){return e^t}t.addOrSubtractGF=i,t.default=function(){function e(e,t,n){this.primitive=e,this.size=t,this.generatorBase=n,this.expTable=Array(this.size),this.logTable=Array(this.size);for(var i=1,a=0;a<this.size;a++)this.expTable[a]=i,i*=2,i>=this.size&&(i=(i^this.primitive)&this.size-1);for(var a=0;a<this.size-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new r.default(this,Uint8ClampedArray.from([0])),this.one=new r.default(this,Uint8ClampedArray.from([1]))}return e.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]},e.prototype.inverse=function(e){if(e===0)throw Error(`Can't invert 0`);return this.expTable[this.size-this.logTable[e]-1]},e.prototype.buildMonomial=function(e,t){if(e<0)throw Error(`Invalid monomial degree less than 0`);if(t===0)return this.zero;var n=new Uint8ClampedArray(e+1);return n[0]=t,new r.default(this,n)},e.prototype.log=function(e){if(e===0)throw Error(`Can't take log(0)`);return this.logTable[e]},e.prototype.exp=function(e){return this.expTable[e]},e}()}),(function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(1);t.default=function(){function e(e,t){if(t.length===0)throw Error(`No coefficients.`);this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var r=1;r<n&&t[r]===0;)r++;if(r===n)this.coefficients=e.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(n-r);for(var i=0;i<this.coefficients.length;i++)this.coefficients[i]=t[r+i]}}else this.coefficients=t}return e.prototype.degree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return this.coefficients[0]===0},e.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},e.prototype.addOrSubtract=function(t){var n;if(this.isZero())return t;if(t.isZero())return this;var i=this.coefficients,a=t.coefficients;i.length>a.length&&(n=[a,i],i=n[0],a=n[1]);for(var o=new Uint8ClampedArray(a.length),s=a.length-i.length,c=0;c<s;c++)o[c]=a[c];for(var c=s;c<a.length;c++)o[c]=r.addOrSubtractGF(i[c-s],a[c]);return new e(this.field,o)},e.prototype.multiply=function(t){if(t===0)return this.field.zero;if(t===1)return this;for(var n=this.coefficients.length,r=new Uint8ClampedArray(n),i=0;i<n;i++)r[i]=this.field.multiply(this.coefficients[i],t);return new e(this.field,r)},e.prototype.multiplyPoly=function(t){if(this.isZero()||t.isZero())return this.field.zero;for(var n=this.coefficients,i=n.length,a=t.coefficients,o=a.length,s=new Uint8ClampedArray(i+o-1),c=0;c<i;c++)for(var l=n[c],u=0;u<o;u++)s[c+u]=r.addOrSubtractGF(s[c+u],this.field.multiply(l,a[u]));return new e(this.field,s)},e.prototype.multiplyByMonomial=function(t,n){if(t<0)throw Error(`Invalid degree less than 0`);if(n===0)return this.field.zero;for(var r=this.coefficients.length,i=new Uint8ClampedArray(r+t),a=0;a<r;a++)i[a]=this.field.multiply(this.coefficients[a],n);return new e(this.field,i)},e.prototype.evaluateAt=function(e){var t=0;if(e===0)return this.getCoefficient(0);var n=this.coefficients.length;if(e===1)return this.coefficients.forEach(function(e){t=r.addOrSubtractGF(t,e)}),t;t=this.coefficients[0];for(var i=1;i<n;i++)t=r.addOrSubtractGF(this.field.multiply(e,t),this.coefficients[i]);return t},e}()}),(function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(4),i=n(5),a=n(11),o=n(12);function s(e){var t=o.locate(e);if(!t)return null;for(var n=0,r=t;n<r.length;n++){var s=r[n],c=a.extract(e,s),l=i.decode(c.matrix);if(l)return{binaryData:l.bytes,data:l.text,chunks:l.chunks,version:l.version,location:{topRightCorner:c.mappingFunction(s.dimension,0),topLeftCorner:c.mappingFunction(0,0),bottomRightCorner:c.mappingFunction(s.dimension,s.dimension),bottomLeftCorner:c.mappingFunction(0,s.dimension),topRightFinderPattern:s.topRight,topLeftFinderPattern:s.topLeft,bottomLeftFinderPattern:s.bottomLeft,bottomRightAlignmentPattern:s.alignmentPattern}}}return null}var c={inversionAttempts:`attemptBoth`};function l(e,t,n,i){i===void 0&&(i={});var a=c;Object.keys(a||{}).forEach(function(e){a[e]=i[e]||a[e]});var o=a.inversionAttempts===`attemptBoth`||a.inversionAttempts===`invertFirst`,l=a.inversionAttempts===`onlyInvert`||a.inversionAttempts===`invertFirst`,u=r.binarize(e,t,n,o),d=u.binarized,f=u.inverted,p=s(l?f:d);return!p&&(a.inversionAttempts===`attemptBoth`||a.inversionAttempts===`invertFirst`)&&(p=s(l?d:f)),p}l.default=l,t.default=l}),(function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(0),i=8,a=24;function o(e,t,n){return e<t?t:e>n?n:e}var s=function(){function e(e,t){this.width=e,this.data=new Uint8ClampedArray(e*t)}return e.prototype.get=function(e,t){return this.data[t*this.width+e]},e.prototype.set=function(e,t,n){this.data[t*this.width+e]=n},e}();function c(e,t,n,c){if(e.length!==t*n*4)throw Error(`Malformed data passed to binarizer.`);for(var l=new s(t,n),u=0;u<t;u++)for(var d=0;d<n;d++){var f=e[(d*t+u)*4+0],p=e[(d*t+u)*4+1],m=e[(d*t+u)*4+2];l.set(u,d,.2126*f+.7152*p+.0722*m)}for(var h=Math.ceil(t/i),g=Math.ceil(n/i),_=new s(h,g),v=0;v<g;v++)for(var y=0;y<h;y++){for(var b=0,x=1/0,S=0,d=0;d<i;d++)for(var u=0;u<i;u++){var C=l.get(y*i+u,v*i+d);b+=C,x=Math.min(x,C),S=Math.max(S,C)}var w=b/i**2;if(S-x<=a&&(w=x/2,v>0&&y>0)){var T=(_.get(y,v-1)+2*_.get(y-1,v)+_.get(y-1,v-1))/4;x<T&&(w=T)}_.set(y,v,w)}var E=r.BitMatrix.createEmpty(t,n),D=null;c&&(D=r.BitMatrix.createEmpty(t,n));for(var v=0;v<g;v++)for(var y=0;y<h;y++){for(var O=o(y,2,h-3),k=o(v,2,g-3),b=0,A=-2;A<=2;A++)for(var j=-2;j<=2;j++)b+=_.get(O+A,k+j);for(var M=b/25,A=0;A<i;A++)for(var j=0;j<i;j++){var u=y*i+A,d=v*i+j,N=l.get(u,d);E.set(u,d,N<=M),c&&D.set(u,d,!(N<=M))}}return c?{binarized:E,inverted:D}:{binarized:E}}t.binarize=c}),(function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(0),i=n(6),a=n(9),o=n(10);function s(e,t){for(var n=e^t,r=0;n;)r++,n&=n-1;return r}function c(e,t){return t<<1|e}var l=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],u=[function(e){return(e.y+e.x)%2==0},function(e){return e.y%2==0},function(e){return e.x%3==0},function(e){return(e.y+e.x)%3==0},function(e){return(Math.floor(e.y/2)+Math.floor(e.x/3))%2==0},function(e){return e.x*e.y%2+e.x*e.y%3==0},function(e){return(e.y*e.x%2+e.y*e.x%3)%2==0},function(e){return((e.y+e.x)%2+e.y*e.x%3)%2==0}];function d(e){var t=17+4*e.versionNumber,n=r.BitMatrix.createEmpty(t,t);n.setRegion(0,0,9,9,!0),n.setRegion(t-8,0,8,9,!0),n.setRegion(0,t-8,9,8,!0);for(var i=0,a=e.alignmentPatternCenters;i<a.length;i++)for(var o=a[i],s=0,c=e.alignmentPatternCenters;s<c.length;s++){var l=c[s];o===6&&l===6||o===6&&l===t-7||o===t-7&&l===6||n.setRegion(o-2,l-2,5,5,!0)}return n.setRegion(6,9,1,t-17,!0),n.setRegion(9,6,t-17,1,!0),e.versionNumber>6&&(n.setRegion(t-11,0,3,6,!0),n.setRegion(0,t-11,6,3,!0)),n}function f(e,t,n){for(var r=u[n.dataMask],i=e.height,a=d(t),o=[],s=0,l=0,f=!0,p=i-1;p>0;p-=2){p===6&&p--;for(var m=0;m<i;m++)for(var h=f?i-1-m:m,g=0;g<2;g++){var _=p-g;if(!a.get(_,h)){l++;var v=e.get(_,h);r({y:h,x:_})&&(v=!v),s=c(v,s),l===8&&(o.push(s),l=0,s=0)}}f=!f}return o}function p(e){var t=e.height,n=Math.floor((t-17)/4);if(n<=6)return o.VERSIONS[n-1];for(var r=0,i=5;i>=0;i--)for(var a=t-9;a>=t-11;a--)r=c(e.get(a,i),r);for(var l=0,a=5;a>=0;a--)for(var i=t-9;i>=t-11;i--)l=c(e.get(a,i),l);for(var u=1/0,d,f=0,p=o.VERSIONS;f<p.length;f++){var m=p[f];if(m.infoBits===r||m.infoBits===l)return m;var h=s(r,m.infoBits);h<u&&(d=m,u=h),h=s(l,m.infoBits),h<u&&(d=m,u=h)}if(u<=3)return d}function m(e){for(var t=0,n=0;n<=8;n++)n!==6&&(t=c(e.get(n,8),t));for(var r=7;r>=0;r--)r!==6&&(t=c(e.get(8,r),t));for(var i=e.height,a=0,r=i-1;r>=i-7;r--)a=c(e.get(8,r),a);for(var n=i-8;n<i;n++)a=c(e.get(n,8),a);for(var o=1/0,u=null,d=0,f=l;d<f.length;d++){var p=f[d],m=p.bits,h=p.formatInfo;if(m===t||m===a)return h;var g=s(t,m);g<o&&(u=h,o=g),t!==a&&(g=s(a,m),g<o&&(u=h,o=g))}return o<=3?u:null}function h(e,t,n){var r=t.errorCorrectionLevels[n],i=[],a=0;if(r.ecBlocks.forEach(function(e){for(var t=0;t<e.numBlocks;t++)i.push({numDataCodewords:e.dataCodewordsPerBlock,codewords:[]}),a+=e.dataCodewordsPerBlock+r.ecCodewordsPerBlock}),e.length<a)return null;e=e.slice(0,a);for(var o=r.ecBlocks[0].dataCodewordsPerBlock,s=0;s<o;s++)for(var c=0,l=i;c<l.length;c++){var u=l[c];u.codewords.push(e.shift())}if(r.ecBlocks.length>1)for(var d=r.ecBlocks[0].numBlocks,f=r.ecBlocks[1].numBlocks,s=0;s<f;s++)i[d+s].codewords.push(e.shift());for(;e.length>0;)for(var p=0,m=i;p<m.length;p++){var u=m[p];u.codewords.push(e.shift())}return i}function g(e){var t=p(e);if(!t)return null;var n=m(e);if(!n)return null;var r=f(e,t,n),o=h(r,t,n.errorCorrectionLevel);if(!o)return null;for(var s=o.reduce(function(e,t){return e+t.numDataCodewords},0),c=new Uint8ClampedArray(s),l=0,u=0,d=o;u<d.length;u++){var g=d[u],_=a.decode(g.codewords,g.codewords.length-g.numDataCodewords);if(!_)return null;for(var v=0;v<g.numDataCodewords;v++)c[l++]=_[v]}try{return i.decode(c,t.versionNumber)}catch{return null}}function _(e){if(e==null)return null;var t=g(e);if(t)return t;for(var n=0;n<e.width;n++)for(var r=n+1;r<e.height;r++)e.get(n,r)!==e.get(r,n)&&(e.set(n,r,!e.get(n,r)),e.set(r,n,!e.get(r,n)));return g(e)}t.decode=_}),(function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(7),i=n(8),a;(function(e){e.Numeric=`numeric`,e.Alphanumeric=`alphanumeric`,e.Byte=`byte`,e.Kanji=`kanji`,e.ECI=`eci`})(a=t.Mode||={});var o;(function(e){e[e.Terminator=0]=`Terminator`,e[e.Numeric=1]=`Numeric`,e[e.Alphanumeric=2]=`Alphanumeric`,e[e.Byte=4]=`Byte`,e[e.Kanji=8]=`Kanji`,e[e.ECI=7]=`ECI`})(o||={});function s(e,t){for(var n=[],r=``,i=[10,12,14][t],a=e.readBits(i);a>=3;){var o=e.readBits(10);if(o>=1e3)throw Error(`Invalid numeric value above 999`);var s=Math.floor(o/100),c=Math.floor(o/10)%10,l=o%10;n.push(48+s,48+c,48+l),r+=s.toString()+c.toString()+l.toString(),a-=3}if(a===2){var o=e.readBits(7);if(o>=100)throw Error(`Invalid numeric value above 99`);var s=Math.floor(o/10),c=o%10;n.push(48+s,48+c),r+=s.toString()+c.toString()}else if(a===1){var o=e.readBits(4);if(o>=10)throw Error(`Invalid numeric value above 9`);n.push(48+o),r+=o.toString()}return{bytes:n,text:r}}var c=`0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:`.split(``);function l(e,t){for(var n=[],r=``,i=[9,11,13][t],a=e.readBits(i);a>=2;){var o=e.readBits(11),s=Math.floor(o/45),l=o%45;n.push(c[s].charCodeAt(0),c[l].charCodeAt(0)),r+=c[s]+c[l],a-=2}if(a===1){var s=e.readBits(6);n.push(c[s].charCodeAt(0)),r+=c[s]}return{bytes:n,text:r}}function u(e,t){for(var n=[],r=``,i=[8,16,16][t],a=e.readBits(i),o=0;o<a;o++){var s=e.readBits(8);n.push(s)}try{r+=decodeURIComponent(n.map(function(e){return`%`+(`0`+e.toString(16)).substr(-2)}).join(``))}catch{}return{bytes:n,text:r}}function d(e,t){for(var n=[],r=``,a=[8,10,12][t],o=e.readBits(a),s=0;s<o;s++){var c=e.readBits(13),l=Math.floor(c/192)<<8|c%192;l<7936?l+=33088:l+=49472,n.push(l>>8,l&255),r+=String.fromCharCode(i.shiftJISTable[l])}return{bytes:n,text:r}}function f(e,t){for(var n,i,c,f,p=new r.BitStream(e),m=t<=9?0:t<=26?1:2,h={text:``,bytes:[],chunks:[],version:t};p.available()>=4;){var g=p.readBits(4);if(g===o.Terminator)return h;if(g===o.ECI)p.readBits(1)===0?h.chunks.push({type:a.ECI,assignmentNumber:p.readBits(7)}):p.readBits(1)===0?h.chunks.push({type:a.ECI,assignmentNumber:p.readBits(14)}):p.readBits(1)===0?h.chunks.push({type:a.ECI,assignmentNumber:p.readBits(21)}):h.chunks.push({type:a.ECI,assignmentNumber:-1});else if(g===o.Numeric){var _=s(p,m);h.text+=_.text,(n=h.bytes).push.apply(n,_.bytes),h.chunks.push({type:a.Numeric,text:_.text})}else if(g===o.Alphanumeric){var v=l(p,m);h.text+=v.text,(i=h.bytes).push.apply(i,v.bytes),h.chunks.push({type:a.Alphanumeric,text:v.text})}else if(g===o.Byte){var y=u(p,m);h.text+=y.text,(c=h.bytes).push.apply(c,y.bytes),h.chunks.push({type:a.Byte,bytes:y.bytes,text:y.text})}else if(g===o.Kanji){var b=d(p,m);h.text+=b.text,(f=h.bytes).push.apply(f,b.bytes),h.chunks.push({type:a.Kanji,bytes:b.bytes,text:b.text})}}if(p.available()===0||p.readBits(p.available())===0)return h}t.decode=f}),(function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.BitStream=function(){function e(e){this.byteOffset=0,this.bitOffset=0,this.bytes=e}return e.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw Error(`Cannot read `+e.toString()+` bits`);var t=0;if(this.bitOffset>0){var n=8-this.bitOffset,r=e<n?e:n,i=n-r,a=255>>8-r<<i;t=(this.bytes[this.byteOffset]&a)>>i,e-=r,this.bitOffset+=r,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(e>0){for(;e>=8;)t=t<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,e-=8;if(e>0){var i=8-e,a=255>>i<<i;t=t<<e|(this.bytes[this.byteOffset]&a)>>i,this.bitOffset+=e}}return t},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}()}),(function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}}),(function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(1),i=n(2);function a(e,t,n,r){var i;t.degree()<n.degree()&&(i=[n,t],t=i[0],n=i[1]);for(var a=t,o=n,s=e.zero,c=e.one;o.degree()>=r/2;){var l=a,u=s;if(a=o,s=c,a.isZero())return null;o=l;for(var d=e.zero,f=a.getCoefficient(a.degree()),p=e.inverse(f);o.degree()>=a.degree()&&!o.isZero();){var m=o.degree()-a.degree(),h=e.multiply(o.getCoefficient(o.degree()),p);d=d.addOrSubtract(e.buildMonomial(m,h)),o=o.addOrSubtract(a.multiplyByMonomial(m,h))}if(c=d.multiplyPoly(s).addOrSubtract(u),o.degree()>=a.degree())return null}var g=c.getCoefficient(0);if(g===0)return null;var _=e.inverse(g);return[c.multiply(_),o.multiply(_)]}function o(e,t){var n=t.degree();if(n===1)return[t.getCoefficient(1)];for(var r=Array(n),i=0,a=1;a<e.size&&i<n;a++)t.evaluateAt(a)===0&&(r[i]=e.inverse(a),i++);return i===n?r:null}function s(e,t,n){for(var i=n.length,a=Array(i),o=0;o<i;o++){for(var s=e.inverse(n[o]),c=1,l=0;l<i;l++)o!==l&&(c=e.multiply(c,r.addOrSubtractGF(1,e.multiply(n[l],s))));a[o]=e.multiply(t.evaluateAt(s),e.inverse(c)),e.generatorBase!==0&&(a[o]=e.multiply(a[o],s))}return a}function c(e,t){var n=new Uint8ClampedArray(e.length);n.set(e);for(var c=new r.default(285,256,0),l=new i.default(c,n),u=new Uint8ClampedArray(t),d=!1,f=0;f<t;f++){var p=l.evaluateAt(c.exp(f+c.generatorBase));u[u.length-1-f]=p,p!==0&&(d=!0)}if(!d)return n;var m=new i.default(c,u),h=a(c,c.buildMonomial(t,1),m,t);if(h===null)return null;var g=o(c,h[0]);if(g==null)return null;for(var _=s(c,h[1],g),v=0;v<g.length;v++){var y=n.length-1-c.log(g[v]);if(y<0)return null;n[y]=r.addOrSubtractGF(n[y],_[v])}return n}t.decode=c}),(function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0}),t.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]}),(function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(0);function i(e,t,n,r){var i=e.x-t.x+n.x-r.x,a=e.y-t.y+n.y-r.y;if(i===0&&a===0)return{a11:t.x-e.x,a12:t.y-e.y,a13:0,a21:n.x-t.x,a22:n.y-t.y,a23:0,a31:e.x,a32:e.y,a33:1};var o=t.x-n.x,s=r.x-n.x,c=t.y-n.y,l=r.y-n.y,u=o*l-s*c,d=(i*l-s*a)/u,f=(o*a-i*c)/u;return{a11:t.x-e.x+d*t.x,a12:t.y-e.y+d*t.y,a13:d,a21:r.x-e.x+f*r.x,a22:r.y-e.y+f*r.y,a23:f,a31:e.x,a32:e.y,a33:1}}function a(e,t,n,r){var a=i(e,t,n,r);return{a11:a.a22*a.a33-a.a23*a.a32,a12:a.a13*a.a32-a.a12*a.a33,a13:a.a12*a.a23-a.a13*a.a22,a21:a.a23*a.a31-a.a21*a.a33,a22:a.a11*a.a33-a.a13*a.a31,a23:a.a13*a.a21-a.a11*a.a23,a31:a.a21*a.a32-a.a22*a.a31,a32:a.a12*a.a31-a.a11*a.a32,a33:a.a11*a.a22-a.a12*a.a21}}function o(e,t){return{a11:e.a11*t.a11+e.a21*t.a12+e.a31*t.a13,a12:e.a12*t.a11+e.a22*t.a12+e.a32*t.a13,a13:e.a13*t.a11+e.a23*t.a12+e.a33*t.a13,a21:e.a11*t.a21+e.a21*t.a22+e.a31*t.a23,a22:e.a12*t.a21+e.a22*t.a22+e.a32*t.a23,a23:e.a13*t.a21+e.a23*t.a22+e.a33*t.a23,a31:e.a11*t.a31+e.a21*t.a32+e.a31*t.a33,a32:e.a12*t.a31+e.a22*t.a32+e.a32*t.a33,a33:e.a13*t.a31+e.a23*t.a32+e.a33*t.a33}}function s(e,t){for(var n=a({x:3.5,y:3.5},{x:t.dimension-3.5,y:3.5},{x:t.dimension-6.5,y:t.dimension-6.5},{x:3.5,y:t.dimension-3.5}),s=i(t.topLeft,t.topRight,t.alignmentPattern,t.bottomLeft),c=o(s,n),l=r.BitMatrix.createEmpty(t.dimension,t.dimension),u=function(e,t){var n=c.a13*e+c.a23*t+c.a33;return{x:(c.a11*e+c.a21*t+c.a31)/n,y:(c.a12*e+c.a22*t+c.a32)/n}},d=0;d<t.dimension;d++)for(var f=0;f<t.dimension;f++){var p=f+.5,m=d+.5,h=u(p,m);l.set(f,d,e.get(Math.floor(h.x),Math.floor(h.y)))}return{matrix:l,mappingFunction:u}}t.extract=s}),(function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=4,i=.5,a=1.5,o=function(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)};function s(e){return e.reduce(function(e,t){return e+t})}function c(e,t,n){var r,i,a,s,c=o(e,t),l=o(t,n),u=o(e,n),d,f,p;return l>=c&&l>=u?(r=[t,e,n],d=r[0],f=r[1],p=r[2]):u>=l&&u>=c?(i=[e,t,n],d=i[0],f=i[1],p=i[2]):(a=[e,n,t],d=a[0],f=a[1],p=a[2]),(p.x-f.x)*(d.y-f.y)-(p.y-f.y)*(d.x-f.x)<0&&(s=[p,d],d=s[0],p=s[1]),{bottomLeft:d,topLeft:f,topRight:p}}function l(e,t,n,r){var i=(s(d(e,n,r,5))/7+s(d(e,t,r,5))/7+s(d(n,e,r,5))/7+s(d(t,e,r,5))/7)/4;if(i<1)throw Error(`Invalid module size`);var a=Math.round(o(e,t)/i),c=Math.round(o(e,n)/i),l=Math.floor((a+c)/2)+7;switch(l%4){case 0:l++;break;case 2:l--;break}return{dimension:l,moduleSize:i}}function u(e,t,n,r){var i=[{x:Math.floor(e.x),y:Math.floor(e.y)}],a=Math.abs(t.y-e.y)>Math.abs(t.x-e.x),s,c,l,u;a?(s=Math.floor(e.y),c=Math.floor(e.x),l=Math.floor(t.y),u=Math.floor(t.x)):(s=Math.floor(e.x),c=Math.floor(e.y),l=Math.floor(t.x),u=Math.floor(t.y));for(var d=Math.abs(l-s),f=Math.abs(u-c),p=Math.floor(-d/2),m=s<l?1:-1,h=c<u?1:-1,g=!0,_=s,v=c;_!==l+m;_+=m){var y=a?v:_,b=a?_:v;if(n.get(y,b)!==g&&(g=!g,i.push({x:y,y:b}),i.length===r+1))break;if(p+=f,p>0){if(v===u)break;v+=h,p-=d}}for(var x=[],S=0;S<r;S++)i[S]&&i[S+1]?x.push(o(i[S],i[S+1])):x.push(0);return x}function d(e,t,n,r){var i,a=t.y-e.y,o=t.x-e.x,s=u(e,t,n,Math.ceil(r/2)),c=u(e,{x:e.x-o,y:e.y-a},n,Math.ceil(r/2)),l=s.shift()+c.shift()-1;return(i=c.concat(l)).concat.apply(i,s)}function f(e,t){var n=s(e)/s(t),r=0;return t.forEach(function(t,i){r+=(e[i]-t*n)**2}),{averageSize:n,error:r}}function p(e,t,n){try{var r=d(e,{x:-1,y:e.y},n,t.length),i=d(e,{x:e.x,y:-1},n,t.length),a={x:Math.max(0,e.x-e.y)-1,y:Math.max(0,e.y-e.x)-1},o=d(e,a,n,t.length),s={x:Math.min(n.width,e.x+e.y)+1,y:Math.min(n.height,e.y+e.x)+1},c=d(e,s,n,t.length),l=f(r,t),u=f(i,t),p=f(o,t),m=f(c,t),h=Math.sqrt(l.error*l.error+u.error*u.error+p.error*p.error+m.error*m.error),g=(l.averageSize+u.averageSize+p.averageSize+m.averageSize)/4,_=((l.averageSize-g)**2+(u.averageSize-g)**2+(p.averageSize-g)**2+(m.averageSize-g)**2)/g;return h+_}catch{return 1/0}}function m(e,t){for(var n=Math.round(t.x);e.get(n,Math.round(t.y));)n--;for(var r=Math.round(t.x);e.get(r,Math.round(t.y));)r++;for(var i=(n+r)/2,a=Math.round(t.y);e.get(Math.round(i),a);)a--;for(var o=Math.round(t.y);e.get(Math.round(i),o);)o++;var s=(a+o)/2;return{x:i,y:s}}function h(e){for(var t=[],n=[],o=[],l=[],u=function(r){for(var c=0,u=!1,d=[0,0,0,0,0],f=function(t){var o=e.get(t,r);if(o===u)c++;else{d=[d[1],d[2],d[3],d[4],c],c=1,u=o;var f=s(d)/7,p=Math.abs(d[0]-f)<f&&Math.abs(d[1]-f)<f&&Math.abs(d[2]-3*f)<3*f&&Math.abs(d[3]-f)<f&&Math.abs(d[4]-f)<f&&!o,m=s(d.slice(-3))/3,h=Math.abs(d[2]-m)<m&&Math.abs(d[3]-m)<m&&Math.abs(d[4]-m)<m&&o;if(p){var g=t-d[3]-d[4],_=g-d[2],v={startX:_,endX:g,y:r},y=n.filter(function(e){return _>=e.bottom.startX&&_<=e.bottom.endX||g>=e.bottom.startX&&_<=e.bottom.endX||_<=e.bottom.startX&&g>=e.bottom.endX&&d[2]/(e.bottom.endX-e.bottom.startX)<a&&d[2]/(e.bottom.endX-e.bottom.startX)>i});y.length>0?y[0].bottom=v:n.push({top:v,bottom:v})}if(h){var b=t-d[4],x=b-d[3],v={startX:x,y:r,endX:b},y=l.filter(function(e){return x>=e.bottom.startX&&x<=e.bottom.endX||b>=e.bottom.startX&&x<=e.bottom.endX||x<=e.bottom.startX&&b>=e.bottom.endX&&d[2]/(e.bottom.endX-e.bottom.startX)<a&&d[2]/(e.bottom.endX-e.bottom.startX)>i});y.length>0?y[0].bottom=v:l.push({top:v,bottom:v})}}},p=-1;p<=e.width;p++)f(p);t.push.apply(t,n.filter(function(e){return e.bottom.y!==r&&e.bottom.y-e.top.y>=2})),n=n.filter(function(e){return e.bottom.y===r}),o.push.apply(o,l.filter(function(e){return e.bottom.y!==r})),l=l.filter(function(e){return e.bottom.y===r})},d=0;d<=e.height;d++)u(d);t.push.apply(t,n.filter(function(e){return e.bottom.y-e.top.y>=2})),o.push.apply(o,l);var f=t.filter(function(e){return e.bottom.y-e.top.y>=2}).map(function(t){var n=(t.top.startX+t.top.endX+t.bottom.startX+t.bottom.endX)/4,r=(t.top.y+t.bottom.y+1)/2;if(e.get(Math.round(n),Math.round(r))){var i=[t.top.endX-t.top.startX,t.bottom.endX-t.bottom.startX,t.bottom.y-t.top.y+1],a=s(i)/i.length;return{score:p({x:Math.round(n),y:Math.round(r)},[1,1,3,1,1],e),x:n,y:r,size:a}}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score}).map(function(e,t,n){if(t>r)return null;var i=n.filter(function(e,n){return t!==n}).map(function(t){return{x:t.x,y:t.y,score:t.score+(t.size-e.size)**2/e.size,size:t.size}}).sort(function(e,t){return e.score-t.score});if(i.length<2)return null;var a=e.score+i[0].score+i[1].score;return{points:[e].concat(i.slice(0,2)),score:a}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score});if(f.length===0)return null;var h=c(f[0].points[0],f[0].points[1],f[0].points[2]),_=h.topRight,v=h.topLeft,y=h.bottomLeft,b=g(e,o,_,v,y),x=[];b&&x.push({alignmentPattern:{x:b.alignmentPattern.x,y:b.alignmentPattern.y},bottomLeft:{x:y.x,y:y.y},dimension:b.dimension,topLeft:{x:v.x,y:v.y},topRight:{x:_.x,y:_.y}});var S=m(e,_),C=m(e,v),w=m(e,y),T=g(e,o,S,C,w);return T&&x.push({alignmentPattern:{x:T.alignmentPattern.x,y:T.alignmentPattern.y},bottomLeft:{x:w.x,y:w.y},topLeft:{x:C.x,y:C.y},topRight:{x:S.x,y:S.y},dimension:T.dimension}),x.length===0?null:x}t.locate=h;function g(e,t,n,r,i){var a,c,u;try{a=l(r,n,i,e),c=a.dimension,u=a.moduleSize}catch{return null}var d={x:n.x-r.x+i.x,y:n.y-r.y+i.y},f=(o(r,i)+o(r,n))/2/u,m=1-3/f,h={x:r.x+m*(d.x-r.x),y:r.y+m*(d.y-r.y)},g=t.map(function(t){var n=(t.top.startX+t.top.endX+t.bottom.startX+t.bottom.endX)/4,r=(t.top.y+t.bottom.y+1)/2;if(e.get(Math.floor(n),Math.floor(r))){var i=[t.top.endX-t.top.startX,t.bottom.endX-t.bottom.startX,t.bottom.y-t.top.y+1];s(i)/i.length;var a=p({x:Math.floor(n),y:Math.floor(r)},[1,1,1],e)+o({x:n,y:r},h);return{x:n,y:r,score:a}}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score});return{alignmentPattern:f>=15&&g.length?g[0]:h,dimension:c}}})]).default})}))());function ML(){let e=Be(),t=(0,b.useRef)(null),n=(0,b.useRef)(null),[r,i]=(0,b.useState)(!0),[a,o]=(0,b.useState)(null),[s,c]=(0,b.useState)(``),[l]=(0,b.useState)({}.REACT_APP_API_URL||`http://localhost:3001`),[u,d]=(0,b.useState)({total:0,pending:0,printing:0,completed:0}),[f,p]=(0,b.useState)(!1),[m,h]=(0,b.useState)(null);(0,b.useEffect)(()=>{g(),S();let e=setInterval(S,5e3);return()=>{clearInterval(e),m&&m.getTracks().forEach(e=>e.stop())}},[]);let g=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:`environment`,width:{ideal:1280},height:{ideal:720}}});h(e),t.current&&(t.current.srcObject=e,t.current.play()),_()}catch(e){console.error(`Camera access error:`,e),c(` Camera access denied`)}},_=()=>{let e=()=>{if(!r||!t.current||!n.current){r&&setTimeout(e,100);return}let i=n.current,o=i.getContext(`2d`),s=t.current;if(s.readyState===s.HAVE_ENOUGH_DATA){i.width=s.videoWidth,i.height=s.videoHeight,o.drawImage(s,0,0,i.width,i.height);let e=o.getImageData(0,0,i.width,i.height);try{let t=v(e);t&&t.startsWith(`FREMIO-`)&&t!==a&&y(t)}catch{}}r&&setTimeout(e,100)};e()},v=e=>{try{let t=(0,jL.default)(e.data,e.width,e.height,{inversionAttempts:`dontInvert`});return t?t.data:null}catch{return null}},y=async e=>{o(e),i(!1),c(` QR Code detected, fetching photo...`);try{console.log(` Detected QR code:`,e);let t=await fetch(`${l}/api/photo/${e}`);if(!t.ok)throw Error(`Photo not found or already printed`);let n=await t.json();c(` Sending to printer...`),await x(n.photoUrl,n.frameType,e),c(` Print job completed!`),await fetch(`${l}/api/print-completed/${e}`,{method:`POST`})}catch(e){console.error(`Print error:`,e),c(` Error: ${e.message}`)}setTimeout(()=>{i(!0),o(null),c(``)},3e3)},x=async(e,t,n)=>(console.log(` Printing:`,{photoUrl:e,frameType:t,code:n}),await new Promise(e=>setTimeout(e,2e3)),!0),S=async()=>{try{let e=await fetch(`${l}/api/health`);if(e.ok){let t=await e.json();d({total:t.queueSize||0,pending:t.queueSize||0,printing:0,completed:0}),p(!0)}else p(!1)}catch(e){console.error(`Failed to fetch stats:`,e),p(!1)}};return(0,Z.jsxs)(`div`,{style:{width:`100vw`,height:`100vh`,display:`flex`,flexDirection:`column`,background:`linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%)`,color:`white`,fontFamily:`-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif`},children:[(0,Z.jsxs)(`header`,{style:{padding:`1.5rem`,background:`rgba(0,0,0,0.2)`,backdropFilter:`blur(10px)`,display:`flex`,justifyContent:`space-between`,alignItems:`center`,flexWrap:`wrap`},children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`h1`,{style:{margin:0,fontSize:`2rem`,fontWeight:`700`,background:`linear-gradient(135deg, #fff 0%, #e2e8f0 100%)`,backgroundClip:`text`,WebkitBackgroundClip:`text`,WebkitTextFillColor:`transparent`},children:` Fremio Printer Agent`}),(0,Z.jsx)(`p`,{style:{margin:`0.25rem 0 0 0`,opacity:.9,fontSize:`0.9rem`},children:`Scan QR code from photobooth to print photos`})]}),(0,Z.jsx)(`button`,{onClick:()=>e(`/`),style:{background:`rgba(255,255,255,0.1)`,border:`1px solid rgba(255,255,255,0.2)`,color:`white`,padding:`0.5rem 1rem`,borderRadius:`8px`,cursor:`pointer`,fontSize:`0.9rem`},children:` Back to Photobooth`})]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,justifyContent:`center`,gap:`1rem`,padding:`1rem`,flexWrap:`wrap`},children:[(0,Z.jsxs)(`div`,{style:{background:`rgba(255,255,255,0.1)`,padding:`0.5rem 1rem`,borderRadius:`12px`,backdropFilter:`blur(10px)`,fontSize:`0.85rem`},children:[` Server: `,f?` Connected`:` Disconnected`]}),(0,Z.jsxs)(`div`,{style:{background:`rgba(255,255,255,0.1)`,padding:`0.5rem 1rem`,borderRadius:`12px`,backdropFilter:`blur(10px)`,fontSize:`0.85rem`},children:[` Queue: `,u.total]}),(0,Z.jsxs)(`div`,{style:{background:`rgba(255,255,255,0.1)`,padding:`0.5rem 1rem`,borderRadius:`12px`,backdropFilter:`blur(10px)`,fontSize:`0.85rem`},children:[` Printer: `,f?` Ready`:` Offline`]})]}),(0,Z.jsx)(`main`,{style:{flex:1,display:`flex`,flexDirection:`column`,alignItems:`center`,justifyContent:`center`,padding:`1rem`},children:r?(0,Z.jsxs)(`div`,{style:{width:`100%`,maxWidth:`600px`,background:`white`,borderRadius:`20px`,overflow:`hidden`,boxShadow:`0 20px 60px rgba(0,0,0,0.3)`,position:`relative`},children:[(0,Z.jsx)(`video`,{ref:t,style:{width:`100%`,height:`400px`,objectFit:`cover`},playsInline:!0,muted:!0}),(0,Z.jsx)(`canvas`,{ref:n,style:{display:`none`}}),(0,Z.jsx)(`div`,{style:{position:`absolute`,top:0,left:0,right:0,bottom:0,display:`flex`,alignItems:`center`,justifyContent:`center`,background:`rgba(0,0,0,0.3)`},children:(0,Z.jsx)(`div`,{style:{width:`250px`,height:`250px`,border:`3px solid white`,borderRadius:`20px`,position:`relative`,background:`rgba(255,255,255,0.1)`},children:[{top:`-3px`,left:`-3px`},{top:`-3px`,right:`-3px`},{bottom:`-3px`,left:`-3px`},{bottom:`-3px`,right:`-3px`}].map((e,t)=>(0,Z.jsx)(`div`,{style:{position:`absolute`,width:`20px`,height:`20px`,border:`3px solid #10b981`,borderRadius:`4px`,...e}},t))})}),(0,Z.jsx)(`div`,{style:{padding:`1rem`,textAlign:`center`,color:`#666`,fontSize:`0.9rem`},children:`Position QR code within the green frame`})]}):(0,Z.jsxs)(`div`,{style:{textAlign:`center`,fontSize:`1.5rem`,padding:`3rem 2rem`,background:`rgba(255,255,255,0.15)`,borderRadius:`20px`,backdropFilter:`blur(20px)`,border:`1px solid rgba(255,255,255,0.2)`,boxShadow:`0 20px 60px rgba(0,0,0,0.3)`,maxWidth:`500px`},children:[(0,Z.jsx)(`div`,{style:{marginBottom:`1rem`,fontSize:`3rem`,color:(()=>s.includes(``)?`#ef4444`:s.includes(``)?`#10b981`:s.includes(``)?`#f59e0b`:`#6b7280`)()},children:s.includes(``)?``:s.includes(``)?``:s.includes(``)?``:``}),s,s.includes(`completed`)&&(0,Z.jsx)(`div`,{style:{marginTop:`1rem`,fontSize:`1rem`,opacity:.8},children:`Ready for next scan...`})]})}),(0,Z.jsxs)(`div`,{style:{padding:`1rem`,display:`flex`,justifyContent:`center`,gap:`1rem`,flexWrap:`wrap`},children:[(0,Z.jsx)(`button`,{onClick:()=>{let e=prompt(`Enter QR Code (for testing):`);e&&e.startsWith(`FREMIO-`)&&y(e)},style:{background:`rgba(255,255,255,0.1)`,border:`1px solid rgba(255,255,255,0.2)`,color:`white`,padding:`0.75rem 1.5rem`,borderRadius:`12px`,cursor:`pointer`,fontSize:`0.9rem`,backdropFilter:`blur(10px)`},children:` Manual Input (Test)`}),(0,Z.jsx)(`button`,{onClick:S,style:{background:`rgba(255,255,255,0.1)`,border:`1px solid rgba(255,255,255,0.2)`,color:`white`,padding:`0.75rem 1.5rem`,borderRadius:`12px`,cursor:`pointer`,fontSize:`0.9rem`,backdropFilter:`blur(10px)`},children:` Refresh Status`}),(0,Z.jsx)(`button`,{onClick:()=>window.location.reload(),style:{background:`#E8A889`,border:`none`,color:`white`,padding:`0.75rem 1.5rem`,borderRadius:`12px`,cursor:`pointer`,fontSize:`0.9rem`},children:` Restart Scanner`})]}),(0,Z.jsx)(`footer`,{style:{padding:`1rem`,textAlign:`center`,background:`rgba(0,0,0,0.1)`,fontSize:`0.8rem`,opacity:.8},children:(0,Z.jsxs)(`div`,{children:[`Fremio Tablet Printer Agent v1.0.0 | API: `,l]})})]})}console.warn(` frameConfigs.js is DEPRECATED. Use customFrameService.js instead.`),console.warn(` All frames must be uploaded via Admin Panel: /admin/upload-frame`);const NL=e=>(console.warn(` getFrameConfig("${e}") deprecated. Frames are now admin-uploaded only.`),null);function PL(){let[e,t]=(0,b.useState)(`Testframe1`),[n,r]=(0,b.useState)(null),i=(e,t)=>{let n=e.slots[t];return n?{left:Math.round(n.left*350),top:Math.round(n.top*525),width:Math.round(n.width*350),height:Math.round(n.height*525),aspectRatio:n.aspectRatio,calculatedRatio:n.width*350/(n.height*525)}:null};return(0,b.useEffect)(()=>{let t=NL(e);t&&r(t)},[e]),(0,Z.jsxs)(`div`,{style:{padding:`2rem`,background:`#f5f5f5`,minHeight:`100vh`},children:[(0,Z.jsx)(`h1`,{children:`Frame Debug Tool`}),(0,Z.jsxs)(`div`,{style:{marginBottom:`2rem`},children:[(0,Z.jsx)(`label`,{children:`Select Frame: `}),(0,Z.jsxs)(`select`,{value:e,onChange:e=>t(e.target.value),style:{padding:`0.5rem`,fontSize:`1rem`},children:[(0,Z.jsx)(`option`,{value:`Testframe1`,children:`Testframe1 (2 slots)`}),(0,Z.jsx)(`option`,{value:`Testframe2`,children:`Testframe2 (3 slots)`}),(0,Z.jsx)(`option`,{value:`Testframe3`,children:`Testframe3 (4 slots)`})]})]}),(0,Z.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`1fr 1fr`,gap:`2rem`},children:[(0,Z.jsxs)(`div`,{style:{background:`#fff`,padding:`2rem`,borderRadius:`10px`},children:[(0,Z.jsx)(`h3`,{children:`Frame dengan Slot Overlay`}),n&&(0,Z.jsxs)(`div`,{style:{position:`relative`,width:`350px`,height:`525px`,margin:`0 auto`,border:`1px solid #ddd`,background:`#e0e0e0`},children:[(0,Z.jsx)(`div`,{style:{position:`absolute`,top:0,left:0,width:`100%`,height:`100%`,background:`linear-gradient(45deg, #f0f0f0 25%, transparent 25%), linear-gradient(-45deg, #f0f0f0 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #f0f0f0 75%), linear-gradient(-45deg, transparent 75%, #f0f0f0 75%)`,backgroundSize:`20px 20px`,backgroundPosition:`0 0, 0 10px, 10px -10px, -10px 0px`},children:(0,Z.jsxs)(`div`,{style:{position:`absolute`,top:`50%`,left:`50%`,transform:`translate(-50%, -50%)`,fontSize:`14px`,color:`#666`,textAlign:`center`},children:[n.name,(0,Z.jsx)(`br`,{}),`Frame Area`,(0,Z.jsx)(`br`,{}),`350x525px`]})}),n.slots.map((e,t)=>{let r=i(n,t);return(0,Z.jsxs)(`div`,{style:{position:`absolute`,left:`${e.left*100}%`,top:`${e.top*100}%`,width:`${e.width*100}%`,height:`${e.height*100}%`,border:`3px dashed #ff0000`,background:`rgba(255, 0, 0, 0.15)`,zIndex:5,display:`flex`,alignItems:`center`,justifyContent:`center`,fontSize:`14px`,fontWeight:`bold`,color:`#ff0000`,boxSizing:`border-box`},children:[e.id,(0,Z.jsx)(`br`,{}),r.width,`x`,r.height,`px`]},e.id)})]})]}),(0,Z.jsxs)(`div`,{style:{background:`#fff`,padding:`2rem`,borderRadius:`10px`},children:[(0,Z.jsx)(`h3`,{children:`Slot Metadata Debug`}),n&&(0,Z.jsxs)(`div`,{children:[(0,Z.jsxs)(`div`,{style:{marginBottom:`1rem`},children:[(0,Z.jsx)(`strong`,{children:`Frame:`}),` `,n.name,(0,Z.jsx)(`br`,{}),(0,Z.jsx)(`strong`,{children:`Max Captures:`}),` `,n.maxCaptures,(0,Z.jsx)(`br`,{}),(0,Z.jsx)(`strong`,{children:`Layout Ratio:`}),` `,n.layout?.aspectRatio??`9:16`]}),(0,Z.jsxs)(`table`,{style:{width:`100%`,borderCollapse:`collapse`,fontSize:`12px`},children:[(0,Z.jsx)(`thead`,{children:(0,Z.jsxs)(`tr`,{style:{background:`#f0f0f0`},children:[(0,Z.jsx)(`th`,{style:{border:`1px solid #ddd`,padding:`8px`},children:`Slot ID`}),(0,Z.jsx)(`th`,{style:{border:`1px solid #ddd`,padding:`8px`},children:`Percentage`}),(0,Z.jsx)(`th`,{style:{border:`1px solid #ddd`,padding:`8px`},children:`Pixels`}),(0,Z.jsx)(`th`,{style:{border:`1px solid #ddd`,padding:`8px`},children:`Aspect Ratio`})]})}),(0,Z.jsx)(`tbody`,{children:n.slots.map((e,t)=>{let r=i(n,t);return(0,Z.jsxs)(`tr`,{children:[(0,Z.jsx)(`td`,{style:{border:`1px solid #ddd`,padding:`8px`},children:e.id}),(0,Z.jsxs)(`td`,{style:{border:`1px solid #ddd`,padding:`8px`},children:[`L: `,(e.left*100).toFixed(1),`%`,(0,Z.jsx)(`br`,{}),`T: `,(e.top*100).toFixed(1),`%`,(0,Z.jsx)(`br`,{}),`W: `,(e.width*100).toFixed(1),`%`,(0,Z.jsx)(`br`,{}),`H: `,(e.height*100).toFixed(1),`%`]}),(0,Z.jsxs)(`td`,{style:{border:`1px solid #ddd`,padding:`8px`},children:[`L: `,r.left,`px`,(0,Z.jsx)(`br`,{}),`T: `,r.top,`px`,(0,Z.jsx)(`br`,{}),`W: `,r.width,`px`,(0,Z.jsx)(`br`,{}),`H: `,r.height,`px`]}),(0,Z.jsxs)(`td`,{style:{border:`1px solid #ddd`,padding:`8px`},children:[`Expected: `,e.aspectRatio,(0,Z.jsx)(`br`,{}),`Actual: `,r.calculatedRatio.toFixed(2),(0,Z.jsx)(`br`,{}),e.aspectRatio===`4:5`&&Math.abs(r.calculatedRatio-.8)>.01&&(0,Z.jsx)(`span`,{style:{color:`red`},children:` Mismatch!`})]})]},e.id)})})]})]})]})]}),(0,Z.jsxs)(`div`,{style:{background:`#fff`,padding:`2rem`,borderRadius:`10px`,marginTop:`2rem`},children:[(0,Z.jsx)(`h3`,{children:`Instructions`}),(0,Z.jsxs)(`ul`,{children:[(0,Z.jsxs)(`li`,{children:[(0,Z.jsx)(`strong`,{children:`Kotak merah putus-putus`}),` menunjukkan posisi slot foto`]}),(0,Z.jsxs)(`li`,{children:[(0,Z.jsx)(`strong`,{children:`Ganti frame`}),` dengan dropdown di atas`]}),(0,Z.jsxs)(`li`,{children:[(0,Z.jsx)(`strong`,{children:`Cek koordinat`}),` di tabel untuk melihat detail posisi`]}),(0,Z.jsxs)(`li`,{children:[(0,Z.jsx)(`strong`,{children:`Aspect ratio harus 0.80`}),` untuk rasio 4:5`]}),(0,Z.jsxs)(`li`,{children:[(0,Z.jsx)(`strong`,{children:`Bagian yang keluar frame`}),` akan terpotong saat foto ditempatkan`]})]})]})]})}function FL(){let[e,t]=(0,b.useState)(null),[n,r]=(0,b.useState)([]),[i,a]=(0,b.useState)(null),o=(0,b.useRef)(),s=(0,b.useRef)(),c=e=>{let n=e.target.files[0];if(!n)return;let r=URL.createObjectURL(n);t(r)},l=()=>{s.current?.click()},u=()=>{r([...n,{x:100,y:100,width:200,height:250,shape:`rect`,id:Date.now()}])},d=e=>{r(n.filter((t,n)=>n!==e))},f=(e,t)=>{a({idx:t,offsetX:e.nativeEvent.offsetX-n[t].x,offsetY:e.nativeEvent.offsetY-n[t].y})},p=e=>{if(!i)return;let{idx:t,offsetX:a,offsetY:o}=i,s=[...n];s[t].x=e.nativeEvent.offsetX-a,s[t].y=e.nativeEvent.offsetY-o,r(s)},m=()=>a(null),h=()=>{let e={frame_id:`custom_frame`,canvas_size:{width:1080,height:1920},slots:n.map(({x:e,y:t,width:n,height:r,shape:i,id:a})=>({id:a,shape:i,x:e,y:t,width:n,height:r}))};navigator.clipboard.writeText(JSON.stringify(e,null,2)),alert(` Config berhasil di-copy ke clipboard!`)};return(0,Z.jsx)(`div`,{className:`frame-builder-wrapper`,children:(0,Z.jsxs)(`div`,{className:`container frame-builder-container`,children:[(0,Z.jsx)(`div`,{className:`frame-builder-header`,children:(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`h1`,{className:`frame-builder-title`,children:`Fremio Creator`}),(0,Z.jsx)(`p`,{className:`frame-builder-subtitle`,children:`Susun frame sesuai gayamu`})]})}),(0,Z.jsxs)(`div`,{className:`frame-builder-layout`,children:[(0,Z.jsx)(`input`,{ref:s,type:`file`,accept:`image/*`,onChange:c,style:{position:`absolute`,left:`-9999px`,opacity:0,pointerEvents:`none`}}),(0,Z.jsxs)(`div`,{className:`frame-builder-panel tools-panel`,children:[(0,Z.jsx)(`h3`,{className:`panel-title`,children:`Tools`}),(0,Z.jsxs)(`div`,{className:`tools-grid`,children:[(0,Z.jsxs)(`button`,{className:`tool-button`,onClick:l,children:[(0,Z.jsx)(`span`,{className:`tool-icon`,children:``}),(0,Z.jsx)(`span`,{className:`tool-label`,children:`Background`})]}),(0,Z.jsxs)(`button`,{className:`tool-button`,onClick:u,children:[(0,Z.jsx)(`span`,{className:`tool-icon`,children:``}),(0,Z.jsx)(`span`,{className:`tool-label`,children:`Area Foto`})]}),(0,Z.jsxs)(`button`,{className:`tool-button`,children:[(0,Z.jsx)(`span`,{className:`tool-icon`,children:`T`}),(0,Z.jsx)(`span`,{className:`tool-label`,children:`Add Text`})]}),(0,Z.jsxs)(`button`,{className:`tool-button`,children:[(0,Z.jsx)(`span`,{className:`tool-icon`,children:``}),(0,Z.jsx)(`span`,{className:`tool-label`,children:`Shape`})]}),(0,Z.jsxs)(`button`,{className:`tool-button`,children:[(0,Z.jsx)(`span`,{className:`tool-icon`,children:``}),(0,Z.jsx)(`span`,{className:`tool-label`,children:`Unggahan`})]}),(0,Z.jsxs)(`button`,{className:`tool-button`,onClick:h,children:[(0,Z.jsx)(`span`,{className:`tool-icon`,children:``}),(0,Z.jsx)(`span`,{className:`tool-label`,children:`Save Template`})]})]})]}),(0,Z.jsxs)(`div`,{className:`frame-builder-preview`,children:[(0,Z.jsx)(`h3`,{className:`panel-title`,children:`Preview`}),(0,Z.jsx)(`div`,{className:`canvas-wrapper`,children:(0,Z.jsxs)(`div`,{className:`canvas-container`,onMouseMove:p,onMouseUp:m,children:[(0,Z.jsx)(`canvas`,{ref:o,width:540,height:960,className:`canvas-base`}),e&&(0,Z.jsx)(`img`,{src:e,alt:`Frame`,className:`canvas-frame-image`}),n.map((e,t)=>(0,Z.jsx)(`div`,{className:`canvas-slot`,style:{left:e.x,top:e.y,width:e.width,height:e.height},onMouseDown:e=>f(e,t),children:(0,Z.jsx)(`button`,{className:`slot-delete-btn`,onClick:e=>{e.stopPropagation(),d(t)},children:``})},e.id))]})})]}),(0,Z.jsxs)(`div`,{className:`frame-builder-panel properties-panel`,children:[(0,Z.jsx)(`h3`,{className:`panel-title`,children:`Properties`}),(0,Z.jsxs)(`div`,{className:`properties-content`,children:[(0,Z.jsx)(`p`,{className:`properties-hint`,children:`Pilih elemen di kanvas untuk mengubah properti di sini.`}),(0,Z.jsxs)(`p`,{className:`properties-tip`,children:[(0,Z.jsx)(`strong`,{children:`Tip:`}),` klik tombol Background untuk mengganti warna dasar kanvas.`]})]})]})]}),(0,Z.jsx)(`div`,{className:`frame-builder-actions`,children:(0,Z.jsx)(`button`,{className:`action-button secondary`,onClick:h,children:` Save Template`})})]})})}var IL=s(((exports,t)=>{t.exports=`SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED`})),LL=s(((exports,t)=>{var n=IL();function r(){}function i(){}i.resetWarningCache=r,t.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name=`Invariant Violation`,s}}e.isRequired=e;function t(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return a.PropTypes=a,a}})),RL=s(((exports,t)=>{t.exports=LL()()})),zL=c({clsx:()=>VL,default:()=>HL});function BL(e){var t,n,r=``;if(typeof e==`string`||typeof e==`number`)r+=e;else if(typeof e==`object`)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=BL(e[t]))&&(r&&(r+=` `),r+=n);else for(t in e)e[t]&&(r&&(r+=` `),r+=t);return r}function VL(){for(var e,t,n=0,r=``;n<arguments.length;)(e=arguments[n++])&&(t=BL(e))&&(r&&(r+=` `),r+=t);return r}var HL,UL=o((()=>{HL=VL})),WL=s((exports=>{Object.defineProperty(exports,`__esModule`,{value:!0}),exports.dontSetMe=a,exports.findInArray=t,exports.int=i,exports.isFunction=n,exports.isNum=r;function t(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function n(e){return typeof e==`function`||Object.prototype.toString.call(e)===`[object Function]`}function r(e){return typeof e==`number`&&!isNaN(e)}function i(e){return parseInt(e,10)}function a(e,t,n){if(e[t])return Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)}})),GL=s((exports=>{Object.defineProperty(exports,`__esModule`,{value:!0}),exports.browserPrefixToKey=r,exports.browserPrefixToStyle=i,exports.getPrefix=n;var t=[`Moz`,`Webkit`,`O`,`ms`];function n(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:`transform`;if(typeof window>`u`)return``;let i=(e=window.document)==null||(e=e.documentElement)==null?void 0:e.style;if(!i||n in i)return``;for(let e=0;e<t.length;e++)if(r(n,t[e])in i)return t[e];return``}function r(e,t){return t?`${t}${a(e)}`:e}function i(e,t){return t?`-${t.toLowerCase()}-${e}`:e}function a(e){let t=``,n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]===`-`?n=!0:t+=e[r];return t}exports.default=n()})),KL=s((exports=>{Object.defineProperty(exports,`__esModule`,{value:!0}),exports.addClassName=S,exports.addEvent=c,exports.addUserSelectStyles=b,exports.createCSSTransform=h,exports.createSVGTransform=g,exports.getTouch=v,exports.getTouchIdentifier=y,exports.getTranslation=_,exports.innerHeight=f,exports.innerWidth=p,exports.matchesSelector=o,exports.matchesSelectorAndParentsTo=s,exports.offsetXYFromParent=m,exports.outerHeight=u,exports.outerWidth=d,exports.removeClassName=C,exports.removeEvent=l,exports.removeUserSelectStyles=x;var t=WL(),n=i(GL());function r(e){if(typeof WeakMap!=`function`)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!=`object`&&typeof e!=`function`)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!==`default`&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}var a=``;function o(e,n){return a||=(0,t.findInArray)([`matches`,`webkitMatchesSelector`,`mozMatchesSelector`,`msMatchesSelector`,`oMatchesSelector`],function(n){return(0,t.isFunction)(e[n])}),(0,t.isFunction)(e[a])?e[a](n):!1}function s(e,t,n){let r=e;do{if(o(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function c(e,t,n,r){if(!e)return;let i={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent(`on`+t,n):e[`on`+t]=n}function l(e,t,n,r){if(!e)return;let i={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent(`on`+t,n):e[`on`+t]=null}function u(e){let n=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return n+=(0,t.int)(r.borderTopWidth),n+=(0,t.int)(r.borderBottomWidth),n}function d(e){let n=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return n+=(0,t.int)(r.borderLeftWidth),n+=(0,t.int)(r.borderRightWidth),n}function f(e){let n=e.clientHeight,r=e.ownerDocument.defaultView.getComputedStyle(e);return n-=(0,t.int)(r.paddingTop),n-=(0,t.int)(r.paddingBottom),n}function p(e){let n=e.clientWidth,r=e.ownerDocument.defaultView.getComputedStyle(e);return n-=(0,t.int)(r.paddingLeft),n-=(0,t.int)(r.paddingRight),n}function m(e,t,n){let r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-r.left)/n,a=(e.clientY+t.scrollTop-r.top)/n;return{x:i,y:a}}function h(e,t){let r=_(e,t,`px`);return{[(0,n.browserPrefixToKey)(`transform`,n.default)]:r}}function g(e,t){return _(e,t,``)}function _(e,t,n){let{x:r,y:i}=e,a=`translate(${r}${n},${i}${n})`;if(t){let e=`${typeof t.x==`string`?t.x:t.x+n}`,r=`${typeof t.y==`string`?t.y:t.y+n}`;a=`translate(${e}, ${r})`+a}return a}function v(e,n){return e.targetTouches&&(0,t.findInArray)(e.targetTouches,e=>n===e.identifier)||e.changedTouches&&(0,t.findInArray)(e.changedTouches,e=>n===e.identifier)}function y(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function b(e){if(!e)return;let t=e.getElementById(`react-draggable-style-el`);t||(t=e.createElement(`style`),t.type=`text/css`,t.id=`react-draggable-style-el`,t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName(`head`)[0].appendChild(t)),e.body&&S(e.body,`react-draggable-transparent-selection`)}function x(e){if(e)try{if(e.body&&C(e.body,`react-draggable-transparent-selection`),e.selection)e.selection.empty();else{let t=(e.defaultView||window).getSelection();t&&t.type!==`Caret`&&t.removeAllRanges()}}catch{}}function S(e,t){e.classList?e.classList.add(t):e.className.match(RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function C(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(RegExp(`(?:^|\\s)${t}(?!\\S)`,`g`),``)}})),qL=s((exports=>{Object.defineProperty(exports,`__esModule`,{value:!0}),exports.canDragX=a,exports.canDragY=o,exports.createCoreData=c,exports.createDraggableData=l,exports.getBoundPosition=r,exports.getControlPosition=s,exports.snapToGrid=i;var t=WL(),n=KL();function r(e,r,i){if(!e.props.bounds)return[r,i];let{bounds:a}=e.props;a=typeof a==`string`?a:u(a);let o=d(e);if(typeof a==`string`){let{ownerDocument:e}=o,r=e.defaultView,i;if(i=a===`parent`?o.parentNode:e.querySelector(a),!(i instanceof r.HTMLElement))throw Error(`Bounds selector "`+a+`" could not find an element.`);let s=i,c=r.getComputedStyle(o),l=r.getComputedStyle(s);a={left:-o.offsetLeft+(0,t.int)(l.paddingLeft)+(0,t.int)(c.marginLeft),top:-o.offsetTop+(0,t.int)(l.paddingTop)+(0,t.int)(c.marginTop),right:(0,n.innerWidth)(s)-(0,n.outerWidth)(o)-o.offsetLeft+(0,t.int)(l.paddingRight)-(0,t.int)(c.marginRight),bottom:(0,n.innerHeight)(s)-(0,n.outerHeight)(o)-o.offsetTop+(0,t.int)(l.paddingBottom)-(0,t.int)(c.marginBottom)}}return(0,t.isNum)(a.right)&&(r=Math.min(r,a.right)),(0,t.isNum)(a.bottom)&&(i=Math.min(i,a.bottom)),(0,t.isNum)(a.left)&&(r=Math.max(r,a.left)),(0,t.isNum)(a.top)&&(i=Math.max(i,a.top)),[r,i]}function i(e,t,n){let r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]}function a(e){return e.props.axis===`both`||e.props.axis===`x`}function o(e){return e.props.axis===`both`||e.props.axis===`y`}function s(e,t,r){let i=typeof t==`number`?(0,n.getTouch)(e,t):null;if(typeof t==`number`&&!i)return null;let a=d(r),o=r.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,n.offsetXYFromParent)(i||e,o,r.props.scale)}function c(e,n,r){let i=!(0,t.isNum)(e.lastX),a=d(e);return i?{node:a,deltaX:0,deltaY:0,lastX:n,lastY:r,x:n,y:r}:{node:a,deltaX:n-e.lastX,deltaY:r-e.lastY,lastX:e.lastX,lastY:e.lastY,x:n,y:r}}function l(e,t){let n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function u(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function d(e){let t=e.findDOMNode();if(!t)throw Error(`<DraggableCore>: Unmounted during event!`);return t}})),JL=s((exports=>{Object.defineProperty(exports,`__esModule`,{value:!0}),exports.default=t;function t(){}})),YL=s((exports=>{Object.defineProperty(exports,`__esModule`,{value:!0});var t=u(p()),n=c(RL()),r=c(_()),i=KL(),a=qL(),o=WL(),s=c(JL());function c(e){return e&&e.__esModule?e:{default:e}}function l(e){if(typeof WeakMap!=`function`)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!=`object`&&typeof e!=`function`)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!==`default`&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function d(e,t,n){return t=f(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=m(e,`string`);return typeof t==`symbol`?t:String(t)}function m(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var h={touch:{start:`touchstart`,move:`touchmove`,stop:`touchend`},mouse:{start:`mousedown`,move:`mousemove`,stop:`mouseup`}},g=h.mouse,v=class extends t.Component{constructor(){super(...arguments),d(this,`dragging`,!1),d(this,`lastX`,NaN),d(this,`lastY`,NaN),d(this,`touchIdentifier`,null),d(this,`mounted`,!1),d(this,`handleDragStart`,e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button==`number`&&e.button!==0)return!1;let t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw Error(`<DraggableCore> not mounted on DragStart!`);let{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,i.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,i.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;e.type===`touchstart`&&e.preventDefault();let r=(0,i.getTouchIdentifier)(e);this.touchIdentifier=r;let o=(0,a.getControlPosition)(e,r,this);if(o==null)return;let{x:c,y:l}=o,u=(0,a.createCoreData)(this,c,l);(0,s.default)(`DraggableCore: handleDragStart: %j`,u),(0,s.default)(`calling`,this.props.onStart),!(this.props.onStart(e,u)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,i.addUserSelectStyles)(n),this.dragging=!0,this.lastX=c,this.lastY=l,(0,i.addEvent)(n,g.move,this.handleDrag),(0,i.addEvent)(n,g.stop,this.handleDragStop))}),d(this,`handleDrag`,e=>{let t=(0,a.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,a.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}let i=(0,a.createCoreData)(this,n,r);if((0,s.default)(`DraggableCore: handleDrag: %j`,i),this.props.onDrag(e,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent(`mouseup`))}catch{let e=document.createEvent(`MouseEvents`);e.initMouseEvent(`mouseup`,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(e)}return}this.lastX=n,this.lastY=r}),d(this,`handleDragStop`,e=>{if(!this.dragging)return;let t=(0,a.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,a.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}let o=(0,a.createCoreData)(this,n,r);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;let c=this.findDOMNode();c&&this.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(c.ownerDocument),(0,s.default)(`DraggableCore: handleDragStop: %j`,o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,c&&((0,s.default)(`DraggableCore: Removing handlers`),(0,i.removeEvent)(c.ownerDocument,g.move,this.handleDrag),(0,i.removeEvent)(c.ownerDocument,g.stop,this.handleDragStop))}),d(this,`onMouseDown`,e=>(g=h.mouse,this.handleDragStart(e))),d(this,`onMouseUp`,e=>(g=h.mouse,this.handleDragStop(e))),d(this,`onTouchStart`,e=>(g=h.touch,this.handleDragStart(e))),d(this,`onTouchEnd`,e=>(g=h.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;let e=this.findDOMNode();e&&(0,i.addEvent)(e,h.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;let e=this.findDOMNode();if(e){let{ownerDocument:t}=e;(0,i.removeEvent)(t,h.mouse.move,this.handleDrag),(0,i.removeEvent)(t,h.touch.move,this.handleDrag),(0,i.removeEvent)(t,h.mouse.stop,this.handleDragStop),(0,i.removeEvent)(t,h.touch.stop,this.handleDragStop),(0,i.removeEvent)(e,h.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return(e=this.props)!=null&&e.nodeRef?(t=this.props)==null||(t=t.nodeRef)==null?void 0:t.current:r.default.findDOMNode(this)}render(){return t.cloneElement(t.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};exports.default=v,d(v,`displayName`,`DraggableCore`),d(v,`propTypes`,{allowAnyClick:n.default.bool,children:n.default.node.isRequired,disabled:n.default.bool,enableUserSelectHack:n.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw Error(`Draggable's offsetParent must be a DOM Node.`)},grid:n.default.arrayOf(n.default.number),handle:n.default.string,cancel:n.default.string,nodeRef:n.default.object,onStart:n.default.func,onDrag:n.default.func,onStop:n.default.func,onMouseDown:n.default.func,scale:n.default.number,className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),d(v,`defaultProps`,{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})})),XL=s((exports=>{Object.defineProperty(exports,`__esModule`,{value:!0}),Object.defineProperty(exports,`DraggableCore`,{enumerable:!0,get:function(){return c.default}});var t=m(p()),n=u(RL()),r=u(_()),i=u((UL(),d(zL))),a=KL(),o=qL(),s=WL(),c=u(YL()),l=u(JL());function u(e){return e&&e.__esModule?e:{default:e}}function f(e){if(typeof WeakMap!=`function`)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!=`object`&&typeof e!=`function`)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!==`default`&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function g(e,t,n){return t=v(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=y(e,`string`);return typeof t==`symbol`?t:String(t)}function y(e,t){if(typeof e!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(typeof r!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}var b=class extends t.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return n&&(!r||n.x!==r.x||n.y!==r.y)?((0,l.default)(`Draggable: getDerivedStateFromProps %j`,{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}}):null}constructor(e){super(e),g(this,`onDragStart`,(e,t)=>{if((0,l.default)(`Draggable: onDragStart: %j`,t),this.props.onStart(e,(0,o.createDraggableData)(this,t))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),g(this,`onDrag`,(e,t)=>{if(!this.state.dragging)return!1;(0,l.default)(`Draggable: onDrag: %j`,t);let n=(0,o.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){let{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;let[i,a]=(0,o.getBoundPosition)(this,r.x,r.y);r.x=i,r.y=a,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(this.props.onDrag(e,n)===!1)return!1;this.setState(r)}),g(this,`onDragStop`,(e,t)=>{if(!this.state.dragging||this.props.onStop(e,(0,o.createDraggableData)(this,t))===!1)return!1;(0,l.default)(`Draggable: onDragStop: %j`,t);let n={dragging:!1,slackX:0,slackY:0};if(this.props.position){let{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)}),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},e.position&&!(e.onDrag||e.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){window.SVGElement!==void 0&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var e;return((e=this.props)==null||(e=e.nodeRef)==null?void 0:e.current)??r.default.findDOMNode(this)}render(){let{axis:e,bounds:n,children:r,defaultPosition:s,defaultClassName:l,defaultClassNameDragging:u,defaultClassNameDragged:d,position:f,positionOffset:p,scale:m,...g}=this.props,_={},v=null,y=!f||this.state.dragging,b=f||s,x={x:(0,o.canDragX)(this)&&y?this.state.x:b.x,y:(0,o.canDragY)(this)&&y?this.state.y:b.y};this.state.isElementSVG?v=(0,a.createSVGTransform)(x,p):_=(0,a.createCSSTransform)(x,p);let S=(0,i.default)(r.props.className||``,l,{[u]:this.state.dragging,[d]:this.state.dragged});return t.createElement(c.default,h({},g,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(r),{className:S,style:{...r.props.style,..._},transform:v}))}};exports.default=b,g(b,`displayName`,`Draggable`),g(b,`propTypes`,{...c.default.propTypes,axis:n.default.oneOf([`both`,`x`,`y`,`none`]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),g(b,`defaultProps`,{...c.default.defaultProps,axis:`both`,bounds:!1,defaultClassName:`react-draggable`,defaultClassNameDragging:`react-draggable-dragging`,defaultClassNameDragged:`react-draggable-dragged`,defaultPosition:{x:0,y:0},scale:1})})),ZL=u(s(((exports,t)=>{var{default:n,DraggableCore:r}=XL();t.exports=n,t.exports.default=n,t.exports.DraggableCore=r}))()),QL=function(){return QL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},QL.apply(this,arguments)},$L={width:`100%`,height:`10px`,top:`0px`,left:`0px`,cursor:`row-resize`},eR={width:`10px`,height:`100%`,top:`0px`,left:`0px`,cursor:`col-resize`},tR={width:`20px`,height:`20px`,position:`absolute`,zIndex:1},nR={top:QL(QL({},$L),{top:`-5px`}),right:QL(QL({},eR),{left:void 0,right:`-5px`}),bottom:QL(QL({},$L),{top:void 0,bottom:`-5px`}),left:QL(QL({},eR),{left:`-5px`}),topRight:QL(QL({},tR),{right:`-10px`,top:`-10px`,cursor:`ne-resize`}),bottomRight:QL(QL({},tR),{right:`-10px`,bottom:`-10px`,cursor:`se-resize`}),bottomLeft:QL(QL({},tR),{left:`-10px`,bottom:`-10px`,cursor:`sw-resize`}),topLeft:QL(QL({},tR),{left:`-10px`,top:`-10px`,cursor:`nw-resize`})},rR=(0,b.memo)(function(e){var t=e.onResizeStart,n=e.direction,r=e.children,i=e.replaceStyles,a=e.className,o=(0,b.useCallback)(function(e){t(e,n)},[t,n]),s=(0,b.useCallback)(function(e){t(e,n)},[t,n]),c=(0,b.useMemo)(function(){return QL(QL({position:`absolute`,userSelect:`none`},nR[n]),i??{})},[i,n]);return(0,Z.jsx)(`div`,{className:a||void 0,style:c,onMouseDown:o,onTouchStart:s,children:r})}),iR=u(_()),aR=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if(typeof n!=`function`&&n!==null)throw TypeError(`Class extends value `+String(n)+` is not a constructor or null`);e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),oR=function(){return oR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},oR.apply(this,arguments)},sR={width:`auto`,height:`auto`},cR=function(e,t,n){return Math.max(Math.min(e,n),t)},lR=function(e,t,n){var r=Math.round(e/t);return r*t+n*(r-1)},uR=function(e,t){return new RegExp(e,`i`).test(t)},dR=function(e){return!!(e.touches&&e.touches.length)},fR=function(e){return!!((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},pR=function(e,t,n){n===void 0&&(n=0);var r=t.reduce(function(n,r,i){return Math.abs(r-e)<Math.abs(t[n]-e)?i:n},0),i=Math.abs(t[r]-e);return n===0||i<n?t[r]:e},mR=function(e){return e=e.toString(),e===`auto`||e.endsWith(`px`)||e.endsWith(`%`)||e.endsWith(`vh`)||e.endsWith(`vw`)||e.endsWith(`vmax`)||e.endsWith(`vmin`)?e:`${e}px`},hR=function(e,t,n,r){if(e&&typeof e==`string`){if(e.endsWith(`px`))return Number(e.replace(`px`,``));if(e.endsWith(`%`)){var i=Number(e.replace(`%`,``))/100;return t*i}if(e.endsWith(`vw`)){var i=Number(e.replace(`vw`,``))/100;return n*i}if(e.endsWith(`vh`)){var i=Number(e.replace(`vh`,``))/100;return r*i}}return e},gR=function(e,t,n,r,i,a,o){return r=hR(r,e.width,t,n),i=hR(i,e.height,t,n),a=hR(a,e.width,t,n),o=hR(o,e.height,t,n),{maxWidth:r===void 0?void 0:Number(r),maxHeight:i===void 0?void 0:Number(i),minWidth:a===void 0?void 0:Number(a),minHeight:o===void 0?void 0:Number(o)}},_R=function(e){return Array.isArray(e)?e:[e,e]},vR=`as.ref.style.className.grid.gridGap.snap.bounds.boundsByDirection.size.defaultSize.minWidth.minHeight.maxWidth.maxHeight.lockAspectRatio.lockAspectRatioExtraWidth.lockAspectRatioExtraHeight.enable.handleStyles.handleClasses.handleWrapperStyle.handleWrapperClass.children.onResizeStart.onResize.onResizeStop.handleComponent.scale.resizeRatio.snapGap`.split(`.`),yR=`__resizable_base__`,bR=function(e){aR(t,e);function t(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableRight=0,n.resizableTop=0,n.resizableBottom=0,n.targetLeft=0,n.targetTop=0,n.delta={width:0,height:0},n.appendBase=function(){if(!n.resizable||!n.window)return null;var e=n.parentNode;if(!e)return null;var t=n.window.document.createElement(`div`);return t.style.width=`100%`,t.style.height=`100%`,t.style.position=`absolute`,t.style.transform=`scale(0, 0)`,t.style.left=`0`,t.style.flex=`0 0 100%`,t.classList?t.classList.add(yR):t.className+=yR,e.appendChild(t),t},n.removeBase=function(e){var t=n.parentNode;t&&t.removeChild(e)},n.state={isResizing:!1,width:n.propsSize?.width??`auto`,height:n.propsSize?.height??`auto`,direction:`right`,original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:`100%`,width:`100%`,backgroundColor:`rgba(0,0,0,0)`,cursor:`auto`,opacity:0,position:`fixed`,zIndex:9999,top:`0`,left:`0`,bottom:`0`,right:`0`},flexBasis:void 0},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n}return Object.defineProperty(t.prototype,`parentNode`,{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,`window`,{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,`propsSize`,{get:function(){return this.props.size||this.props.defaultSize||sR},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,`size`,{get:function(){var e=0,t=0;if(this.resizable&&this.window){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,i=this.resizable.style.position;i!==`relative`&&(this.resizable.style.position=`relative`),e=this.resizable.style.width===`auto`?n:this.resizable.offsetWidth,t=this.resizable.style.height===`auto`?r:this.resizable.offsetHeight,this.resizable.style.position=i}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,`sizeStyle`,{get:function(){var e=this,t=this.props.size,n=function(t){if(e.state[t]===void 0||e.state[t]===`auto`)return`auto`;if(e.propsSize&&e.propsSize[t]&&e.propsSize[t]?.toString().endsWith(`%`)){if(e.state[t].toString().endsWith(`%`))return e.state[t].toString();var n=e.getParentSize();return`${Number(e.state[t].toString().replace(`px`,``))/n[t]*100}%`}return mR(e.state[t])},r=t&&t.width!==void 0&&!this.state.isResizing?mR(t.width):n(`width`),i=t&&t.height!==void 0&&!this.state.isResizing?mR(t.height):n(`height`);return{width:r,height:i}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,n=this.parentNode.style.flexWrap;n!==`wrap`&&(t=!0,this.parentNode.style.flexWrap=`wrap`),e.style.position=`relative`,e.style.minWidth=`100%`,e.style.minHeight=`100%`;var r={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=n),this.removeBase(e),r},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener(`mouseup`,this.onMouseUp),this.window.addEventListener(`mousemove`,this.onMouseMove),this.window.addEventListener(`mouseleave`,this.onMouseUp),this.window.addEventListener(`touchmove`,this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener(`touchend`,this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener(`mouseup`,this.onMouseUp),this.window.removeEventListener(`mousemove`,this.onMouseMove),this.window.removeEventListener(`mouseleave`,this.onMouseUp),this.window.removeEventListener(`touchmove`,this.onMouseMove,!0),this.window.removeEventListener(`touchend`,this.onMouseUp))},t.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:e.flexBasis===`auto`?void 0:e.flexBasis})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return this.state[t]===`auto`&&this.state.original[t]===e&&(n===void 0||n===`auto`)?`auto`:e},t.prototype.calculateNewMaxFromBoundary=function(e,t){var n=this.props.boundsByDirection,r=this.state.direction,i=n&&uR(`left`,r),a=n&&uR(`top`,r),o,s;if(this.props.bounds===`parent`){var c=this.parentNode;c&&(o=i?this.resizableRight-this.parentLeft:c.offsetWidth+(this.parentLeft-this.resizableLeft),s=a?this.resizableBottom-this.parentTop:c.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds===`window`?this.window&&(o=i?this.resizableRight:this.window.innerWidth-this.resizableLeft,s=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(o=i?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),s=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return o&&Number.isFinite(o)&&(e=e&&e<o?e:o),s&&Number.isFinite(s)&&(t=t&&t<s?t:s),{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,r=_R(this.props.resizeRatio||1),i=r[0],a=r[1],o=this.state,s=o.direction,c=o.original,l=this.props,u=l.lockAspectRatio,d=l.lockAspectRatioExtraHeight,f=l.lockAspectRatioExtraWidth,p=c.width,m=c.height,h=d||0,g=f||0;return uR(`right`,s)&&(p=c.width+(e-c.x)*i/n,u&&(m=(p-g)/this.ratio+h)),uR(`left`,s)&&(p=c.width-(e-c.x)*i/n,u&&(m=(p-g)/this.ratio+h)),uR(`bottom`,s)&&(m=c.height+(t-c.y)*a/n,u&&(p=(m-h)*this.ratio+g)),uR(`top`,s)&&(m=c.height-(t-c.y)*a/n,u&&(p=(m-h)*this.ratio+g)),{newWidth:p,newHeight:m}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var i=this.props,a=i.lockAspectRatio,o=i.lockAspectRatioExtraHeight,s=i.lockAspectRatioExtraWidth,c=r.width===void 0?10:r.width,l=n.width===void 0||n.width<0?e:n.width,u=r.height===void 0?10:r.height,d=n.height===void 0||n.height<0?t:n.height,f=o||0,p=s||0;if(a){var m=(u-f)*this.ratio+p,h=(d-f)*this.ratio+p,g=(c-p)/this.ratio+f,_=(l-p)/this.ratio+f,v=Math.max(c,m),y=Math.min(l,h),b=Math.max(u,g),x=Math.min(d,_);e=cR(e,v,y),t=cR(t,b,x)}else e=cR(e,c,l),t=cR(t,u,d);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){var e=1/(this.props.scale||1);if(this.props.bounds===`parent`){var t=this.parentNode;if(t){var n=t.getBoundingClientRect();this.parentLeft=n.left*e,this.parentTop=n.top*e}}if(this.props.bounds&&typeof this.props.bounds!=`string`){var r=this.props.bounds.getBoundingClientRect();this.targetLeft=r.left*e,this.targetTop=r.top*e}if(this.resizable){var i=this.resizable.getBoundingClientRect(),a=i.left,o=i.top,s=i.right,c=i.bottom;this.resizableLeft=a*e,this.resizableRight=s*e,this.resizableTop=o*e,this.resizableBottom=c*e}},t.prototype.onResizeStart=function(e,t){if(!(!this.resizable||!this.window)){var n=0,r=0;if(e.nativeEvent&&fR(e.nativeEvent)?(n=e.nativeEvent.clientX,r=e.nativeEvent.clientY):e.nativeEvent&&dR(e.nativeEvent)&&(n=e.nativeEvent.touches[0].clientX,r=e.nativeEvent.touches[0].clientY),!(this.props.onResizeStart&&this.resizable&&this.props.onResizeStart(e,t,this.resizable)===!1)){this.props.size&&(this.props.size.height!==void 0&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),this.props.size.width!==void 0&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio==`number`?this.props.lockAspectRatio:this.size.width/this.size.height;var i,a=this.window.getComputedStyle(this.resizable);if(a.flexBasis!==`auto`){var o=this.parentNode;o&&(this.flexDir=this.window.getComputedStyle(o).flexDirection.startsWith(`row`)?`row`:`column`,i=a.flexBasis)}this.setBoundingClientRect(),this.bindEvents();var s={original:{x:n,y:r,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:oR(oR({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||`auto`}),direction:t,flexBasis:i};this.setState(s)}}},t.prototype.onMouseMove=function(e){var t=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&dR(e))try{e.preventDefault(),e.stopPropagation()}catch{}var n=this.props,r=n.maxWidth,i=n.maxHeight,a=n.minWidth,o=n.minHeight,s=dR(e)?e.touches[0].clientX:e.clientX,c=dR(e)?e.touches[0].clientY:e.clientY,l=this.state,u=l.direction,d=l.original,f=l.width,p=l.height,m=this.getParentSize(),h=gR(m,this.window.innerWidth,this.window.innerHeight,r,i,a,o);r=h.maxWidth,i=h.maxHeight,a=h.minWidth,o=h.minHeight;var g=this.calculateNewSizeFromDirection(s,c),_=g.newHeight,v=g.newWidth,y=this.calculateNewMaxFromBoundary(r,i);this.props.snap&&this.props.snap.x&&(v=pR(v,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(_=pR(_,this.props.snap.y,this.props.snapGap));var b=this.calculateNewSizeFromAspectRatio(v,_,{width:y.maxWidth,height:y.maxHeight},{width:a,height:o});if(v=b.newWidth,_=b.newHeight,this.props.grid){var x=lR(v,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),S=lR(_,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),C=this.props.snapGap||0,w=C===0||Math.abs(x-v)<=C?x:v,T=C===0||Math.abs(S-_)<=C?S:_;v=w,_=T}var E={width:v-d.width,height:_-d.height};if(this.delta=E,f&&typeof f==`string`){if(f.endsWith(`%`)){var D=v/m.width*100;v=`${D}%`}else if(f.endsWith(`vw`)){var O=v/this.window.innerWidth*100;v=`${O}vw`}else if(f.endsWith(`vh`)){var k=v/this.window.innerHeight*100;v=`${k}vh`}}if(p&&typeof p==`string`){if(p.endsWith(`%`)){var D=_/m.height*100;_=`${D}%`}else if(p.endsWith(`vw`)){var O=_/this.window.innerWidth*100;_=`${O}vw`}else if(p.endsWith(`vh`)){var k=_/this.window.innerHeight*100;_=`${k}vh`}}var A={width:this.createSizeForCssProperty(v,`width`),height:this.createSizeForCssProperty(_,`height`)};this.flexDir===`row`?A.flexBasis=A.width:this.flexDir===`column`&&(A.flexBasis=A.height);var j=this.state.width!==A.width,M=this.state.height!==A.height,N=this.state.flexBasis!==A.flexBasis,ee=j||M||N;ee&&(0,iR.flushSync)(function(){t.setState(A)}),this.props.onResize&&ee&&this.props.onResize(e,u,this.resizable,E)}},t.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,r=t.direction;t.original,!(!n||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(e,r,this.resizable,this.delta),this.props.size&&this.setState({width:this.props.size.width??`auto`,height:this.props.size.height??`auto`}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:oR(oR({},this.state.backgroundStyle),{cursor:`auto`})}))},t.prototype.updateSize=function(e){this.setState({width:e.width??`auto`,height:e.height??`auto`})},t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,r=t.handleStyles,i=t.handleClasses,a=t.handleWrapperStyle,o=t.handleWrapperClass,s=t.handleComponent;if(!n)return null;var c=Object.keys(n).map(function(t){return n[t]===!1?null:(0,Z.jsx)(rR,{direction:t,onResizeStart:e.onResizeStart,replaceStyles:r&&r[t],className:i&&i[t],children:s&&s[t]?s[t]:null},t)});return(0,Z.jsx)(`div`,{className:o,style:a,children:c})},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce(function(t,n){return vR.indexOf(n)===-1&&(t[n]=e.props[n]),t},{}),n=oR(oR(oR({position:`relative`,userSelect:this.state.isResizing?`none`:`auto`},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:`border-box`,flexShrink:0});this.state.flexBasis&&(n.flexBasis=this.state.flexBasis);var r=this.props.as||`div`;return(0,Z.jsxs)(r,oR({style:n,className:this.props.className},t,{ref:function(t){t&&(e.resizable=t)},children:[this.state.isResizing&&(0,Z.jsx)(`div`,{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},t.defaultProps={as:`div`,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(b.PureComponent),xR=u(_()),SR=function(e,t){return SR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},SR(e,t)};function CR(e,t){SR(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var wR=function(){return wR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wR.apply(this,arguments)};function TR(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols==`function`)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var ER={width:`auto`,height:`auto`,display:`inline-block`,position:`absolute`,top:0,left:0},DR=function(e){return{bottom:e,bottomLeft:e,bottomRight:e,left:e,right:e,top:e,topLeft:e,topRight:e}},OR=function(e){CR(t,e);function t(t){var n=e.call(this,t)||this;return n.resizingPosition={x:0,y:0},n.offsetFromParent={left:0,top:0},n.resizableElement={current:null},n.originalPosition={x:0,y:0},n.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}return t.prototype.componentDidMount=function(){this.updateOffsetFromParent();var e=this.offsetFromParent,t=e.left,n=e.top,r=this.getDraggablePosition(),i=r.x,a=r.y;this.draggable.setState({x:i-t,y:a-n}),this.forceUpdate()},t.prototype.getDraggablePosition=function(){var e=this.draggable.state,t=e.x,n=e.y;return{x:t,y:n}},t.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},t.prototype.getParentSize=function(){return this.resizable.getParentSize()},t.prototype.getMaxSizesFromProps=function(){var e=this.props.maxWidth===void 0?2**53-1:this.props.maxWidth,t=this.props.maxHeight===void 0?2**53-1:this.props.maxHeight;return{maxWidth:e,maxHeight:t}},t.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},t.prototype.getOffsetHeight=function(e){var t=this.props.scale;switch(this.props.bounds){case`window`:return window.innerHeight/t;case`body`:return document.body.offsetHeight/t;default:return e.offsetHeight}},t.prototype.getOffsetWidth=function(e){var t=this.props.scale;switch(this.props.bounds){case`window`:return window.innerWidth/t;case`body`:return document.body.offsetWidth/t;default:return e.offsetWidth}},t.prototype.onDragStart=function(e,t){if(this.props.onDragStart&&this.props.onDragStart(e,t),this.originalPosition=this.getDraggablePosition(),this.props.bounds){var n=this.getParent(),r=this.props.scale,i;if(this.props.bounds===`parent`)i=n;else if(this.props.bounds===`body`){var a=n.getBoundingClientRect(),o=a.left,s=a.top,c=document.body.getBoundingClientRect(),l=-(o-n.offsetLeft*r-c.left)/r,u=-(s-n.offsetTop*r-c.top)/r,d=(document.body.offsetWidth-this.resizable.size.width*r)/r+l,f=(document.body.offsetHeight-this.resizable.size.height*r)/r+u;return this.setState({bounds:{top:u,right:d,bottom:f,left:l}})}else if(this.props.bounds===`window`){if(!this.resizable)return;var p=n.getBoundingClientRect(),m=p.left,h=p.top,g=-(m-n.offsetLeft*r)/r,_=-(h-n.offsetTop*r)/r,d=(window.innerWidth-this.resizable.size.width*r)/r+g,f=(window.innerHeight-this.resizable.size.height*r)/r+_;return this.setState({bounds:{top:_,right:d,bottom:f,left:g}})}else typeof this.props.bounds==`string`?i=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(i=this.props.bounds);if(!(!(i instanceof HTMLElement)||!(n instanceof HTMLElement))){var v=i.getBoundingClientRect(),y=v.left,b=v.top,x=n.getBoundingClientRect(),S=x.left,C=x.top,w=(y-S)/r,T=b-C;if(this.resizable){this.updateOffsetFromParent();var E=this.offsetFromParent;this.setState({bounds:{top:T-E.top,right:w+(i.offsetWidth-this.resizable.size.width)-E.left/r,bottom:T+(i.offsetHeight-this.resizable.size.height)-E.top,left:w-E.left/r}})}}}},t.prototype.onDrag=function(e,t){if(this.props.onDrag){var n=this.offsetFromParent,r=n.left,i=n.top;if(!this.props.dragAxis||this.props.dragAxis===`both`)return this.props.onDrag(e,wR(wR({},t),{x:t.x+r,y:t.y+i}));if(this.props.dragAxis===`x`)return this.props.onDrag(e,wR(wR({},t),{x:t.x+r,y:this.originalPosition.y+i,deltaY:0}));if(this.props.dragAxis===`y`)return this.props.onDrag(e,wR(wR({},t),{x:this.originalPosition.x+r,y:t.y+i,deltaX:0}))}},t.prototype.onDragStop=function(e,t){if(this.props.onDragStop){var n=this.offsetFromParent,r=n.left,i=n.top;if(!this.props.dragAxis||this.props.dragAxis===`both`)return this.props.onDragStop(e,wR(wR({},t),{x:t.x+r,y:t.y+i}));if(this.props.dragAxis===`x`)return this.props.onDragStop(e,wR(wR({},t),{x:t.x+r,y:this.originalPosition.y+i,deltaY:0}));if(this.props.dragAxis===`y`)return this.props.onDragStop(e,wR(wR({},t),{x:this.originalPosition.x+r,y:t.y+i,deltaX:0}))}},t.prototype.onResizeStart=function(e,t,n){e.stopPropagation(),this.setState({resizing:!0});var r=this.props.scale,i=this.offsetFromParent,a=this.getDraggablePosition();if(this.resizingPosition={x:a.x+i.left,y:a.y+i.top},this.originalPosition=a,this.props.bounds){var o=this.getParent(),s=void 0;this.props.bounds===`parent`?s=o:this.props.bounds===`body`?s=document.body:this.props.bounds===`window`?s=window:typeof this.props.bounds==`string`?s=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(s=this.props.bounds);var c=this.getSelfElement();if(c instanceof Element&&(s instanceof HTMLElement||s===window)&&o instanceof HTMLElement){var l=this.getMaxSizesFromProps(),u=l.maxWidth,d=l.maxHeight,f=this.getParentSize();if(u&&typeof u==`string`)if(u.endsWith(`%`)){var p=Number(u.replace(`%`,``))/100;u=f.width*p}else u.endsWith(`px`)&&(u=Number(u.replace(`px`,``)));if(d&&typeof d==`string`)if(d.endsWith(`%`)){var p=Number(d.replace(`%`,``))/100;d=f.height*p}else d.endsWith(`px`)&&(d=Number(d.replace(`px`,``)));var m=c.getBoundingClientRect(),h=m.left,g=m.top,_=this.props.bounds===`window`?{left:0,top:0}:s.getBoundingClientRect(),v=_.left,y=_.top,b=this.getOffsetWidth(s),x=this.getOffsetHeight(s),S=t.toLowerCase().endsWith(`left`),C=t.toLowerCase().endsWith(`right`),w=t.startsWith(`top`),T=t.startsWith(`bottom`);if((S||w)&&this.resizable){var E=(h-v)/r+this.resizable.size.width;this.setState({maxWidth:E>Number(u)?u:E})}if(C||this.props.lockAspectRatio&&!S&&!w){var E=b+(v-h)/r;this.setState({maxWidth:E>Number(u)?u:E})}if((w||S)&&this.resizable){var E=(g-y)/r+this.resizable.size.height;this.setState({maxHeight:E>Number(d)?d:E})}if(T||this.props.lockAspectRatio&&!w&&!S){var E=x+(y-g)/r;this.setState({maxHeight:E>Number(d)?d:E})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,t,n)},t.prototype.onResize=function(e,t,n,r){var i=this,a={x:this.originalPosition.x,y:this.originalPosition.y},o=-r.width,s=-r.height;[`top`,`left`,`topLeft`,`bottomLeft`,`topRight`].includes(t)&&(t===`bottomLeft`?a.x+=o:(t===`topRight`||(a.x+=o),a.y+=s));var c=this.draggable.state;(a.x!==c.x||a.y!==c.y)&&(0,xR.flushSync)(function(){i.draggable.setState(a)}),this.updateOffsetFromParent();var l=this.offsetFromParent,u=this.getDraggablePosition().x+l.left,d=this.getDraggablePosition().y+l.top;this.resizingPosition={x:u,y:d},this.props.onResize&&this.props.onResize(e,t,n,r,{x:u,y:d})},t.prototype.onResizeStop=function(e,t,n,r){this.setState({resizing:!1});var i=this.getMaxSizesFromProps(),a=i.maxWidth,o=i.maxHeight;this.setState({maxWidth:a,maxHeight:o}),this.props.onResizeStop&&this.props.onResizeStop(e,t,n,r,this.resizingPosition)},t.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},t.prototype.updatePosition=function(e){this.draggable.setState(e)},t.prototype.updateOffsetFromParent=function(){var e=this.props.scale,t=this.getParent(),n=this.getSelfElement();if(!t||n===null)return{top:0,left:0};var r=t.getBoundingClientRect(),i=r.left,a=r.top,o=n.getBoundingClientRect(),s=this.getDraggablePosition(),c=t.scrollLeft,l=t.scrollTop;this.offsetFromParent={left:o.left-i+c-s.x*e,top:o.top-a+l-s.y*e}},t.prototype.render=function(){var e=this,t=this.props,n=t.disableDragging,r=t.style,i=t.dragHandleClassName,a=t.position,o=t.onMouseDown,s=t.onMouseUp,c=t.dragAxis,l=t.dragGrid,u=t.bounds,d=t.enableUserSelectHack,f=t.cancel,p=t.children;t.onResizeStart,t.onResize,t.onResizeStop,t.onDragStart,t.onDrag,t.onDragStop;var m=t.resizeHandleStyles,h=t.resizeHandleClasses,g=t.resizeHandleComponent,_=t.enableResizing,v=t.resizeGrid,y=t.resizeHandleWrapperClass,x=t.resizeHandleWrapperStyle,S=t.scale,C=t.allowAnyClick,w=t.dragPositionOffset,T=TR(t,`disableDragging.style.dragHandleClassName.position.onMouseDown.onMouseUp.dragAxis.dragGrid.bounds.enableUserSelectHack.cancel.children.onResizeStart.onResize.onResizeStop.onDragStart.onDrag.onDragStop.resizeHandleStyles.resizeHandleClasses.resizeHandleComponent.enableResizing.resizeGrid.resizeHandleWrapperClass.resizeHandleWrapperStyle.scale.allowAnyClick.dragPositionOffset`.split(`.`)),E=this.props.default?wR({},this.props.default):void 0;delete T.default;var D=n||i?{cursor:`auto`}:{cursor:`move`},O=wR(wR(wR({},ER),D),r),k=this.offsetFromParent,A=k.left,j=k.top,M;a&&(M={x:a.x-A,y:a.y-j});var N=this.state.resizing?void 0:M,ee=this.state.resizing?`both`:c;return(0,b.createElement)(ZL.default,{ref:function(t){t&&(e.draggable=t)},handle:i?`.${i}`:void 0,defaultPosition:E,onMouseDown:o,onMouseUp:s,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:ee,disabled:n,grid:l,bounds:u?this.state.bounds:void 0,position:N,enableUserSelectHack:d,cancel:f,scale:S,allowAnyClick:C,nodeRef:this.resizableElement,positionOffset:w},(0,b.createElement)(bR,wR({},T,{ref:function(t){t&&(e.resizable=t,e.resizableElement.current=t.resizable)},defaultSize:E,size:this.props.size,enable:typeof _==`boolean`?DR(_):_,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:O,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:v,handleWrapperClass:y,handleWrapperStyle:x,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:m,handleClasses:h,handleComponent:g,scale:this.props.scale}),p))},t.defaultProps={maxWidth:2**53-1,maxHeight:2**53-1,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},t}(b.PureComponent),kR=350,AR=(e,t)=>typeof e==`number`&&Number.isFinite(e)?`${e}px`:typeof e==`string`&&e.trim().length>0?e:`${t}px`,jR=e=>{switch(e.type){case`shape`:case`photo`:case`upload`:return AR(e.data?.borderRadius,24);case`background-photo`:return AR(e.data?.borderRadius,0);case`text`:return`18px`;default:return`0px`}},MR=6,NR={top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},PR=e=>{let t=Math.max(e,.24),n=Math.min(Math.max(Math.round(16/t),14),28),r=Math.min(Math.max(Math.round(8/t),8),14),i=Math.min(Math.max(Math.round(30/t),28),50),a={display:`flex`,alignItems:`center`,justifyContent:`center`,background:`#ffffff`,border:`${Math.max(1,Math.round(1.5/t))}px solid #f7a998`,boxShadow:`0 1px 3px rgba(0, 0, 0, 0.1)`,borderRadius:`50%`,cursor:`pointer`,opacity:1,touchAction:`manipulation`,pointerEvents:`auto`,zIndex:9999,userSelect:`none`,WebkitUserSelect:`none`,WebkitTouchCallout:`none`,transition:`opacity 0.2s ease, transform 0.2s ease`},o={display:`flex`,alignItems:`center`,justifyContent:`center`,background:`#ffffff`,border:`none`,boxShadow:`0 1px 3px rgba(0, 0, 0, 0.1)`,borderRadius:`${r}px`,cursor:`pointer`,opacity:1,touchAction:`manipulation`,pointerEvents:`auto`,zIndex:9999,userSelect:`none`,WebkitUserSelect:`none`,WebkitTouchCallout:`none`,transition:`opacity 0.2s ease, transform 0.2s ease`};return{top:{...o,width:`${i}px`,height:`${r}px`,left:`50%`,top:0,transform:`translate(-50%, -50%)`,cursor:`ns-resize`},bottom:{...o,width:`${i}px`,height:`${r}px`,left:`50%`,bottom:0,transform:`translate(-50%, 50%)`,cursor:`ns-resize`},left:{...o,width:`${r}px`,height:`${i}px`,top:`50%`,left:0,transform:`translate(-50%, -50%)`,cursor:`ew-resize`},right:{...o,width:`${r}px`,height:`${i}px`,top:`50%`,right:0,transform:`translate(50%, -50%)`,cursor:`ew-resize`},topLeft:{...a,width:`${n}px`,height:`${n}px`,top:0,left:0,transform:`translate(-50%, -50%)`,cursor:`nwse-resize`},topRight:{...a,width:`${n}px`,height:`${n}px`,top:0,right:0,transform:`translate(50%, -50%)`,cursor:`nesw-resize`},bottomRight:{...a,width:`${n}px`,height:`${n}px`,bottom:0,right:0,transform:`translate(50%, 50%)`,cursor:`nwse-resize`},bottomLeft:{...a,width:`${n}px`,height:`${n}px`,bottom:0,left:0,transform:`translate(-50%, 50%)`,cursor:`nesw-resize`}}},FR=(e,t)=>{switch(e.type){case`text`:return{fontFamily:e.data?.fontFamily??`Inter`,fontSize:`${e.data?.fontSize??24}px`,color:e.data?.color??`#111827`,fontWeight:e.data?.fontWeight??500,textAlign:e.data?.align??`left`,whiteSpace:`pre-wrap`,lineHeight:1.25,display:`flex`,alignItems:`center`,justifyContent:e.data?.align===`left`?`flex-start`:e.data?.align===`right`?`flex-end`:`center`,padding:`12px 18px`,borderRadius:`18px`,backgroundColor:t?`rgba(255,255,255,0.65)`:`transparent`};case`shape`:{let t=Number(e.data?.strokeWidth??0),n=!!e.data?.stroke&&t>0;return{background:e.data?.fill??`#f4d3c2`,backgroundColor:e.data?.fill??`#f4d3c2`,borderRadius:`${e.data?.borderRadius??24}px`,border:n?`${t}px solid ${e.data.stroke}`:`none`}}case`upload`:case`photo`:case`background-photo`:{let t=Number(e.data?.strokeWidth??0),n=!!e.data?.stroke&&t>0,r=e.data?.borderRadius??(e.type===`background-photo`?0:24),i=e.data?.image,a=e.type===`background-photo`?e.data?.fill??`transparent`:i?`transparent`:e.data?.fill??`#dbeafe`;return{borderRadius:`${r}px`,border:n?`${t}px solid ${e.data.stroke}`:`none`,background:a,backgroundColor:a,backgroundImage:`none`,overflow:`hidden`,display:`flex`,alignItems:`center`,justifyContent:`center`}}default:return{}}},IR=()=>({pointerActive:!1,hadDrag:!1,didTriggerTap:!1,hadHold:!1,holdTimer:null,totalDistance:0,startX:null,startY:null,rndRef:null,isDragging:!1,isResizing:!1,dragStartClientX:null,dragStartClientY:null,dragStartElementX:null,dragStartElementY:null,isPinching:!1,pinchStartDistance:null,pinchStartWidth:null,pinchStartHeight:null,pinchStartX:null,pinchStartY:null}),LR=e=>{if(!e?.rndRef)return;let t=typeof e.startX==`number`?e.startX:null,n=typeof e.startY==`number`?e.startY:null;t===null||n===null||typeof e.rndRef.updatePosition==`function`&&e.rndRef.updatePosition({x:t,y:n})},RR=(0,b.forwardRef)(({element:e,isSelected:t,isEditing:n,editingValue:r,onTextChange:i,onTextBlur:a,textInputRef:o},s)=>{let c=e.type===`photo`,l=c?{width:`100%`,height:`100%`,overflow:`hidden`,display:`flex`,alignItems:`center`,justifyContent:`center`,borderRadius:`${e.data?.borderRadius??24}px`}:{width:`100%`,height:`100%`,...FR(e,t)};if(e.type===`text`)return n?(0,Z.jsx)(`textarea`,{ref:o,value:r,onChange:e=>i(e.target.value),onBlur:a,autoFocus:!0,style:{...l,resize:`none`,border:`none`,outline:`none`,background:`rgba(255,255,255,0.95)`,cursor:`text`,overflow:`hidden`},onClick:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()}):(0,Z.jsx)(`div`,{style:l,children:e.data?.text??`Teks`});if(e.type===`shape`)return(0,Z.jsx)(`div`,{style:l});if(e.type===`upload`){let t=e.data?.__capturedOverlay===!0;return(0,Z.jsx)(`div`,{style:l,className:t?`captured-photo-overlay-content`:void 0,"data-captured-overlay":t?`true`:void 0,"data-export-allow":t?`photo-overlay`:void 0,children:e.data?.image?(0,Z.jsx)(`img`,{src:e.data.image,alt:`Unggahan`,className:`h-full w-full object-cover`,style:{objectFit:e.data?.objectFit??`cover`,pointerEvents:`none`},draggable:!1}):(0,Z.jsx)(`div`,{className:`text-xs font-medium uppercase tracking-widest text-slate-600`,children:e.data?.label??`Unggahan`})})}if(e.type===`background-photo`)return(0,Z.jsx)(`div`,{style:{...l,position:`relative`},ref:s,children:e.data?.image?(0,Z.jsx)(`img`,{src:e.data.image,alt:`Background`,style:{width:`100%`,height:`100%`,objectFit:`fill`,pointerEvents:`none`,display:`block`},draggable:!1}):(0,Z.jsx)(`div`,{className:`text-xs font-semibold uppercase tracking-widest text-slate-500`,children:e.data?.label??`Background`})});if(e.type===`photo`){let n=e.data?.slotNumber||e.data?.label||`Area Foto`;return console.log(` Rendering photo slot:`,{id:e.id,label:n,position:{x:e.x,y:e.y},size:{width:e.width,height:e.height},zIndex:e.zIndex,hasCustomStyle:c}),(0,Z.jsxs)(`div`,{style:{...l,background:`linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%)`,position:`relative`},className:`h-full w-full creator-photo-placeholder`,"data-photo-placeholder":`true`,children:[(0,Z.jsx)(`div`,{style:{position:`absolute`,inset:0,border:`2px dashed rgb(129 140 248 / 0.7)`,borderRadius:`inherit`,pointerEvents:`none`},"aria-hidden":`true`}),(0,Z.jsxs)(`svg`,{style:{position:`absolute`,inset:0,margin:`auto`,color:`rgb(165 180 252 / 0.4)`,pointerEvents:`none`,width:`40%`,height:`40%`},viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.5`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,Z.jsx)(`path`,{d:`M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z`}),(0,Z.jsx)(`circle`,{cx:`12`,cy:`13`,r:`4`})]}),(0,Z.jsxs)(`div`,{style:{position:`relative`,zIndex:1,borderRadius:`8px`,background:`rgba(255, 255, 255, 0.9)`,backdropFilter:`blur(4px)`,padding:`6px 12px`,fontSize:`11px`,fontWeight:700,textTransform:`uppercase`,letterSpacing:`0.1em`,color:`rgb(79 70 229)`,boxShadow:`0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)`,pointerEvents:`none`,border:`1px solid rgb(199 210 254)`},children:[` `,n]}),t&&(0,Z.jsx)(`div`,{style:{position:`absolute`,inset:0,border:`2px solid rgb(99 102 241)`,borderRadius:`inherit`,pointerEvents:`none`}})]})}return(0,Z.jsx)(`div`,{className:`h-full w-full rounded-lg bg-white/80`})});function zR({elements:e,selectedElementId:t,canvasBackground:n,aspectRatio:r=`9:16`,previewConstraints:i=null,onSelect:a,onUpdate:o,onBringToFront:s,onRemove:c,onDuplicate:l,onToggleLock:u,onResizeUpload:d}){let[f,p]=(0,b.useState)(null),[m,h]=(0,b.useState)(``),g=(0,b.useRef)(null),_=(0,b.useRef)(null),v=(0,b.useRef)(new Map),y=(0,b.useRef)(IR()),x=e=>{e.type===`text`&&(p(e.id),h(e.data?.text??``),setTimeout(()=>{g.current&&(g.current.focus(),g.current.select())},10))},S=(0,b.useCallback)(e=>{h(e)},[]),C=(0,b.useCallback)(()=>{f&&(o(f,{data:{text:m}}),p(null),h(``))},[f,m,o]);(0,b.useEffect)(()=>{t!==f&&(p(null),h(``))},[t,f]);let w=e=>{e?.holdTimer&&(clearTimeout(e.holdTimer),e.holdTimer=null)},T=e=>{w(e),e.hadHold=!1,!(typeof window>`u`)&&(e.holdTimer=window.setTimeout(()=>{e.hadHold=!0,LR(e)},kR))};(0,b.useEffect)(()=>{let t=new Set(e.map(e=>e.id));v.current.forEach((e,n)=>{t.has(n)||(w(e),v.current.delete(n))})},[e]),(0,b.useEffect)(()=>()=>{v.current.forEach(e=>w(e)),w(y.current)},[]);let E=e=>(v.current.has(e)||v.current.set(e,IR()),v.current.get(e)),D=(0,b.useMemo)(()=>{let t=[...e].sort((e,t)=>(e.zIndex??1)-(t.zIndex??1));return console.log(` [CanvasPreview] sortedElements:`,{total:t.length,elements:t.map(e=>({id:e.id?.slice(0,8),type:e.type,zIndex:e.zIndex,x:e.x,y:e.y,width:e.width,height:e.height}))}),t},[e]),O=(0,b.useMemo)(()=>{let e={width:XI,height:ZI};if(typeof r!=`string`)return e;let[t,n]=r.split(`:`).map(Number),i=Number.isFinite(t)&&t>0?t:null,a=Number.isFinite(n)&&n>0?n:null;if(!i||!a)return e;if(a>=i){let e=Math.round(XI*a/i);return{width:XI,height:e}}return{width:Math.round(ZI*i/a),height:ZI}},[r]),{maxWidth:k,maxHeight:A}=(0,b.useMemo)(()=>i?{maxWidth:i.maxWidth??O.width,maxHeight:i.maxHeight??O.height}:{maxWidth:O.width,maxHeight:O.height},[i,O.width,O.height]),j=(0,b.useMemo)(()=>{let e=k/O.width,t=A/O.height;return Math.min(e,t,1)},[k,A,O.width,O.height]),M=(0,b.useMemo)(()=>({width:O.width*j,height:O.height*j}),[O.width,O.height,j]),N=y.current,ee=e=>{e.target===e.currentTarget&&(N.pointerActive=!0,N.hadDrag=!1,N.didTriggerTap=!1,N.hadHold=!1,T(N),a(`background`,{interaction:`pointerdown`}))},P=e=>{if(e.target===e.currentTarget&&N.pointerActive){if(N.pointerActive=!1,w(N),N.hadHold){N.hadHold=!1;return}N.didTriggerTap=!0,a(`background`,{interaction:`tap`})}},F=e=>{e.target===e.currentTarget&&(N.pointerActive=!1,N.hadDrag=!1,N.didTriggerTap=!1,N.hadHold=!1,w(N))};return(0,b.useEffect)(()=>{let t=e.find(e=>e.type===`background-photo`);if(!t||!t.id)return;let n=E(t.id),r=null,i=null,a=!0,s=setTimeout(()=>{if(!a)return;let e=_.current;if(!e){console.warn(` Background element DOM not found for touch listeners`);return}console.log(` Touch listeners attached to background photo`);let s=i=>{if(i.stopImmediatePropagation(),console.log(` Touch start:`,i.touches.length,`fingers`),i.touches.length===2){i.preventDefault(),i.stopPropagation();let a=i.touches[0],o=i.touches[1];r={type:`pinch`,startDistance:Math.hypot(a.clientX-o.clientX,a.clientY-o.clientY),startWidth:t.width,startHeight:t.height,startX:t.x,startY:t.y,currentScale:1},e.style.willChange=`transform`,n.pointerActive=!1,n.isDragging=!1,console.log(` Pinch started`)}else if(i.touches.length===1){i.preventDefault(),i.stopPropagation();let n=i.touches[0];r={type:`drag`,startClientX:n.clientX,startClientY:n.clientY,startX:t.x,startY:t.y},e.style.willChange=`transform`,console.log(` Drag started`)}},c=n=>{if(r){if(n.preventDefault(),n.stopImmediatePropagation(),r.type===`pinch`&&n.touches.length===2){let i=n.touches[0],a=n.touches[1],o=Math.hypot(i.clientX-a.clientX,i.clientY-a.clientY)/r.startDistance;r.currentScale=o;let s=(i.clientX+a.clientX)/2,c=(i.clientY+a.clientY)/2,l=document.getElementById(`creator-canvas`);if(!l)return;let u=l.getBoundingClientRect(),d=(s-u.left)/j,f=(c-u.top)/j,p=t.data?.imageAspectRatio||r.startWidth/r.startHeight,m=r.startWidth*o,h=m/p,g=(d-r.startX)/r.startWidth,_=(f-r.startY)/r.startHeight,v=d-m*g,y=f-h*_;r.finalWidth=m,r.finalHeight=h,r.finalX=v,r.finalY=y;let b=v-r.startX,x=y-r.startY;e.style.transform=`translate(${b}px, ${x}px) scale(${o})`,e.style.transformOrigin=`0 0`}else if(r.type===`drag`&&n.touches.length===1){let t=n.touches[0],i=(t.clientX-r.startClientX)/j,a=(t.clientY-r.startClientY)/j;r.finalX=r.startX+i,r.finalY=r.startY+a,e.style.transform=`translate(${i}px, ${a}px)`}}},l=i=>{if(!r)return;console.log(` Touch end:`,r.type);let a=null;r.type===`pinch`?a={width:r.finalWidth,height:r.finalHeight,x:r.finalX,y:r.finalY}:r.type===`drag`&&(a={x:r.finalX,y:r.finalY}),a&&(typeof a.x==`number`&&typeof a.y==`number`&&(n.startX=a.x,n.startY=a.y,n?.rndRef?.updatePosition&&n.rndRef.updatePosition({x:a.x,y:a.y})),typeof a.width==`number`&&typeof a.height==`number`&&(n.startWidth=a.width,n.startHeight=a.height,n?.rndRef?.updateSize&&n.rndRef.updateSize({width:a.width,height:a.height})),e&&(e.style.transform=``,e.style.transformOrigin=``,e.style.willChange=``),o(t.id,a)),r=null,n.pointerActive=!1,n.isDragging=!1};e.addEventListener(`touchstart`,s,{passive:!1,capture:!0}),e.addEventListener(`touchmove`,c,{passive:!1,capture:!0}),e.addEventListener(`touchend`,l,{passive:!1,capture:!0}),e.addEventListener(`touchcancel`,l,{passive:!1,capture:!0}),i=()=>{e&&(e.removeEventListener(`touchstart`,s,{capture:!0}),e.removeEventListener(`touchmove`,c,{capture:!0}),e.removeEventListener(`touchend`,l,{capture:!0}),e.removeEventListener(`touchcancel`,l,{capture:!0}),console.log(` Touch listeners removed`))}},100);return()=>{a=!1,clearTimeout(s),typeof i==`function`&&i()}},[e,j,o,E]),(0,Z.jsx)(`div`,{className:`create-preview__canvas-wrapper`,style:{width:`${M.width}px`,height:`${M.height}px`,position:`relative`,overflow:`hidden`},children:(0,Z.jsx)(kM.div,{id:`creator-canvas`,className:`relative mx-auto overflow-hidden shadow-[0_42px_90px_rgba(58,38,32,0.28)]`,style:{background:n,border:`4px solid rgba(92, 62, 48, 0.65)`,boxShadow:`0 42px 90px rgba(58,38,32,0.28), 0 0 0 2px rgba(255,255,255,0.18) inset`,borderRadius:0,width:`${O.width}px`,height:`${O.height}px`,position:`absolute`,top:`50%`,left:`50%`,overflow:`hidden`,touchAction:`none`,userSelect:`none`,transform:`translate(-50%, -50%) scale(${j})`,transformOrigin:`50% 50%`},onPointerDown:ee,onTouchStart:ee,onPointerUp:P,onTouchEnd:P,onPointerCancel:F,onTouchCancel:F,onClick:e=>{if(e.target===e.currentTarget){if(N.didTriggerTap){N.didTriggerTap=!1;return}a(`background`,{interaction:`tap`})}},onWheel:e=>{e.stopPropagation(),e.preventDefault()},children:D.map(e=>{let n=t===e.id,r=e.type===`background-photo`,i=r?Number(e.data?.imageAspectRatio)>0?Number(e.data?.imageAspectRatio):e.width>0&&e.height>0?e.width/e.height:1:1,s=i>0?i:1,p=e.type===`upload`,h=p&&e.data?.imageAspectRatio?e.data.imageAspectRatio:null,v=r?`transition-colors`:`border border-transparent transition-colors`,y=e.type===`upload`&&e.data?.__capturedOverlay===!0,b=[v,`creator-element`,`creator-element--type-${e.type}`,y?`creator-element--captured-overlay`:``,n?`creator-element--selected`:``].filter(Boolean).join(` `),D=XI/ZI;r&&s>D&&Math.round(1920*s),r&&(s>D||Math.round(1080/s));let k=E(e.id),A=jR(e),M=t=>{if(r&&t.touches&&console.log(`[Background Photo PointerDown]`,{touchCount:t.touches.length,isBackgroundPhoto:r,eventType:t.type}),k.pointerActive||k.isResizing)return;let i=t.target?.classList;if(i&&Array.from(i).some(e=>e.includes(`react-rnd-handle`)||e.includes(`creator-resize-wrapper`))){t.stopPropagation();return}if(t.stopPropagation(),r&&t.touches)return;let o=t.touches?.[0]?.clientX??t.clientX,s=t.touches?.[0]?.clientY??t.clientY;if(k.pointerActive=!0,k.hadDrag=!1,k.didTriggerTap=!1,k.hadHold=!1,k.totalDistance=0,k.startX=e.x,k.startY=e.y,k.isDragging=!1,k.isResizing=!1,k.dragStartClientX=o,k.dragStartClientY=s,k.dragStartElementX=e.x,k.dragStartElementY=e.y,!n&&(a(e.id,{interaction:`pointerdown`}),!r)){k.pointerActive=!1;return}T(k)},N=t=>{if(k.isResizing||e.isLocked||r&&t.touches||!k.pointerActive||!n&&!r)return;t.preventDefault(),t.stopPropagation();let i=t.touches?.[0]?.clientX??t.clientX,a=t.touches?.[0]?.clientY??t.clientY;if(k.dragStartClientX===null||k.dragStartClientY===null)return;let s=(i-k.dragStartClientX)/j,c=(a-k.dragStartClientY)/j,l=Math.abs(s)+Math.abs(c);if(k.totalDistance=l,!k.hadDrag&&l>=MR&&(k.hadDrag=!0,k.didTriggerTap=!1,k.isDragging=!0,w(k)),k.isDragging){let t=k.dragStartElementX+s,n=k.dragStartElementY+c;if(r)o(e.id,{x:t,y:n});else{let r=Math.max(0,Math.min(O.width-e.width,t)),i=Math.max(0,Math.min(O.height-e.height,n));o(e.id,{x:r,y:i})}}},ee=e=>{if(e.stopPropagation(),w(k),k.isPinching){k.isPinching=!1,k.pinchStartDistance=null,k.pinchStartWidth=null,k.pinchStartHeight=null,k.pinchStartX=null,k.pinchStartY=null;return}if(k.pointerActive){if(k.hadDrag||k.isDragging){k.pointerActive=!1,k.hadDrag=!1,k.isDragging=!1,k.totalDistance=0,k.isResizing=!1;return}if(k.pointerActive=!1,k.hadHold){k.hadHold=!1,k.totalDistance=0,k.isResizing=!1;return}k.didTriggerTap=!0,k.totalDistance=0,k.isResizing=!1}},P=e=>{e.stopPropagation(),k.pointerActive=!1,k.hadDrag=!1,k.didTriggerTap=!1,k.hadHold=!1,k.totalDistance=0,k.isDragging=!1,k.isResizing=!1,k.isPinching=!1,k.pinchStartDistance=null,k.pinchStartWidth=null,k.pinchStartHeight=null,k.pinchStartX=null,k.pinchStartY=null,LR(k),w(k)},F=t=>{if(t.stopPropagation(),k.didTriggerTap){k.didTriggerTap=!1;return}a(e.id,{interaction:`tap`})},I=t=>{if(!r||!n)return;t.preventDefault(),t.stopPropagation();let i=-t.deltaY>0?1.1:.9,a=e.data?.imageAspectRatio||e.width/e.height,s=e.width*i,c=s/a,l=t.currentTarget.getBoundingClientRect(),u=(t.clientX-l.left)/j,d=(t.clientY-l.top)/j,f=s/e.width,p=e.x-(u-e.x)*(f-1),m=e.y-(d-e.y)*(f-1);o(e.id,{width:s,height:c,x:p,y:m})},te=(t,n)=>{if(!t)return;let r=parseFloat(t.style.width),i=parseFloat(t.style.height);!Number.isFinite(r)||!Number.isFinite(i)||o(e.id,{width:r,height:i,x:n.x,y:n.y})};return(0,Z.jsxs)(OR,{"data-element-id":e.id,"data-element-zindex":Number.isFinite(e.zIndex)?e.zIndex:void 0,size:{width:e.width,height:e.height},position:{x:e.x,y:e.y},bounds:`parent`,scale:j,enableResizing:n&&!r?NR:!1,disableDragging:!0,resizeHandleStyles:n&&!r?PR(j):void 0,resizeHandleWrapperClassName:`creator-resize-wrapper`,resizeHandleComponent:{top:(0,Z.jsx)(`div`,{className:`react-rnd-handle react-rnd-handle-top`}),right:(0,Z.jsx)(`div`,{className:`react-rnd-handle react-rnd-handle-right`}),bottom:(0,Z.jsx)(`div`,{className:`react-rnd-handle react-rnd-handle-bottom`}),left:(0,Z.jsx)(`div`,{className:`react-rnd-handle react-rnd-handle-left`}),topRight:(0,Z.jsx)(`div`,{className:`react-rnd-handle react-rnd-handle-topRight`}),bottomRight:(0,Z.jsx)(`div`,{className:`react-rnd-handle react-rnd-handle-bottomRight`}),bottomLeft:(0,Z.jsx)(`div`,{className:`react-rnd-handle react-rnd-handle-bottomLeft`}),topLeft:(0,Z.jsx)(`div`,{className:`react-rnd-handle react-rnd-handle-topLeft`})},onResizeStart:t=>{t?.nativeEvent&&(t.nativeEvent.stopPropagation(),t.nativeEvent.preventDefault()),t?.stopPropagation?.(),t?.preventDefault?.(),k.isResizing=!0,k.pointerActive=!1,k.hadDrag=!1,k.isDragging=!1,k.hadHold=!1,k.didTriggerTap=!1,w(k),n||a(e.id,{interaction:`resize-start`})},onResize:(e,t,n,r,i)=>{k.isResizing&&te(n,i)},onDragStart:t=>{if(k.isResizing)return t?.nativeEvent&&(t.nativeEvent.stopPropagation(),t.nativeEvent.preventDefault()),t?.stopPropagation?.(),t?.preventDefault?.(),!1;k.hadHold=!1,k.didTriggerTap=!1,k.isDragging=!1,k.hadDrag=!1,k.totalDistance=0,w(k),typeof t?.stopPropagation==`function`&&t.stopPropagation(),a(e.id,{interaction:`drag`})},onDrag:(e,t)=>{if(k.isResizing)return e?.nativeEvent&&(e.nativeEvent.stopPropagation(),e.nativeEvent.preventDefault()),e?.stopPropagation?.(),e?.preventDefault?.(),!1;k.totalDistance+=Math.abs(t.deltaX)+Math.abs(t.deltaY),!k.hadDrag&&k.totalDistance>=MR&&(k.hadDrag=!0,k.didTriggerTap=!1,k.isDragging=!0)},onDragStop:(t,n)=>{if(k.isResizing)return k.pointerActive=!1,k.hadDrag=!1,k.didTriggerTap=!1,k.hadHold=!1,k.totalDistance=0,k.isDragging=!1,!1;let r=Math.abs((k.startX??n.x)-n.x)+Math.abs((k.startY??n.y)-n.y),i=k.hadDrag||r>=1;if(k.pointerActive=!1,k.hadDrag=!1,k.didTriggerTap=!1,k.hadHold=!1,k.totalDistance=0,k.isDragging=!1,k.isResizing=!1,w(k),!i){LR(k);return}o(e.id,{x:n.x,y:n.y}),k.startX=n.x,k.startY=n.y},onResizeStop:(t,n,r,i,a)=>{if(k.isResizing){if(te(r,a),p&&d){let t=parseFloat(r.style.width),n=parseFloat(r.style.height);Number.isFinite(t)&&Number.isFinite(n)&&d(e.id,t,n)}k.isResizing=!1,k.pointerActive=!1,k.hadDrag=!1,k.isDragging=!1}},minWidth:eL,minHeight:eL,dragMomentum:!1,lockAspectRatio:r?i:h||!1,enableUserSelectHack:!1,dragGrid:[1,1],resizeGrid:[1,1],style:{zIndex:e.zIndex,boxShadow:`none`,position:`absolute`,borderRadius:A,backgroundColor:`transparent`,touchAction:r?`none`:`auto`,pointerEvents:y?`none`:`auto`},className:b,ref:e=>{k.rndRef=e},onPointerDown:r?void 0:M,onTouchStart:r?void 0:M,onPointerMove:r?void 0:N,onTouchMove:r?void 0:N,onPointerUp:r?void 0:ee,onTouchEnd:r?void 0:ee,onPointerCancel:r?void 0:P,onTouchCancel:r?void 0:P,onClick:r?void 0:F,onDoubleClick:t=>{t.stopPropagation(),x(e)},onWheel:I,children:[n&&!r&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(`div`,{"data-export-ignore":`true`,style:{position:`absolute`,top:0,left:0,right:0,bottom:0,border:`2px solid #f7a998`,borderRadius:0,pointerEvents:`none`,zIndex:-1}}),(0,Z.jsxs)(`div`,{"data-export-ignore":`true`,style:{position:`absolute`,top:-76,left:`50%`,transform:`translateX(-50%)`,display:`flex`,gap:`12px`,zIndex:1e4,pointerEvents:`auto`},children:[(0,Z.jsx)(`button`,{onClick:t=>{t.stopPropagation(),u?.(e.id)},style:{width:`64px`,height:`64px`,borderRadius:`14px`,background:e.isLocked?`linear-gradient(135deg, #f7a998 0%, #e89985 100%)`:`#ffffff`,border:(e.isLocked,`2px solid #f7a998`),cursor:`pointer`,display:`flex`,alignItems:`center`,justifyContent:`center`,boxShadow:e.isLocked?`0 4px 12px rgba(247, 169, 152, 0.4)`:`0 2px 8px rgba(0, 0, 0, 0.15)`,transition:`all 0.2s ease`},onMouseEnter:e=>e.currentTarget.style.transform=`scale(1.1)`,onMouseLeave:e=>e.currentTarget.style.transform=`scale(1)`,children:(0,Z.jsx)(`img`,{src:e.isLocked?`/fremio/assets/create-lock-DNNRm1ud.png`:`/fremio/assets/create-unlock-DMBUag17.png`,alt:e.isLocked?`Locked`:`Unlocked`,style:{width:`36px`,height:`36px`}})}),(0,Z.jsx)(`button`,{onClick:t=>{t.stopPropagation(),l?.(e.id)},style:{width:`64px`,height:`64px`,borderRadius:`14px`,background:`#ffffff`,border:`2px solid #f7a998`,cursor:`pointer`,display:`flex`,alignItems:`center`,justifyContent:`center`,boxShadow:`0 2px 8px rgba(0, 0, 0, 0.15)`,transition:`transform 0.2s ease`},onMouseEnter:e=>e.currentTarget.style.transform=`scale(1.1)`,onMouseLeave:e=>e.currentTarget.style.transform=`scale(1)`,children:(0,Z.jsx)(`img`,{src:`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAACLlBMVEUAAAABAQECAgIDAwMEBAQFBQUGBgYGBgYJCQkICAgMDAwKCgoFBQUCAgIAAAAAAAAAAAAHBwcAAAAAAAACAgICAgIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBQUBAQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEAAAAAAAADAwMBAQEAAAAAAAAAAAACAgIBAQEAAAACAgIBAQECAgIAAAABAQEBAQECAgIJCQkJCQkJCQkAAAABAQEBAQEBAQEDAwMAAAAAAAAAAAACAgIBAQEAAAADAwMGBgYAAAABAQEBAQEAAAAAAAABAQEAAAAAAAAFBQUAAAAAAAACAgIAAAABAQEBAQEDAwMEBAQBAQEAAAAAAAAJCQkAAAABAQEAAAAAAAACAgIAAAADAwMBAQEAAAACAgIAAAAAAAAAAAAHBwcGBgYAAAAAAAAAAAAAAAAAAAABAQEGBgYBAQECAgIAAAAAAAAAAAABAQEEBAQBAQECAgIAAAAAAAABAQEDAwMCAgICAgIEBAQCAgIBAQEFBQUAAAABAQEAAAADAwMEBAQDAwMDAwMAAAAEBAQBAQEKCgoFBQUBAQECAgIHBwcDAwMGBgYBAQEBAQEBAQEAAAABAQEFBQUBAQEEBAQGBgYAAAAJCQkAAAAICAgKCgoEBAQHBwcBAQEFBQUDAwMEBAQBAQEGBgYEBAQEBAQAAAALCwsICAgLCwsJCQkMDAwICAgAAABHcExQ6xjqAAAAunRSTlP////////////////84BQZSsRLF2tsAQspBgMCJRUqbyck1xYEEf4JKyDdO+MHnw119UEj97XP+f147uvwOPzaRg8FU+w/KNNE+DzRNDEc7t/7kE3zVseI65r7ch4i80f+DhB+XoXAsnvk3Db2+iES1OFM6dydqlf68bj+PWcy1pag58swpJj6zXpqgrBQwhqGw/TPWqLAY/JlkmLEX7rvyLdJ6d6rmK3MnNiL4S3Qjr1bu53Xs8LTbQBRPDyCAAAMm0lEQVR42uydiVsURxbAX1V198fAalyRmTCAKCJeQe6gZr1AjVckrAgqGg8O0bheeKDoehuiqHFNPBONrkk2ybrJ3lv/3Vb1gNPVM/b09FT1TPPxotHvw+7qX9d7r6pevX4FdIIITIJMgvgKUry86FLT1YpXU7zJxxVXfz1VO31/lkHKZjzbgOwCKcT+73T2u+q/P1/LHkj9aDsxgECmUgAGMKyK8khWQOo7MYcwMubgEJp5ozU9Ed9Btoxm3hMJPAiOn/EZpPcsBvmC2E0PHPURpHoxUwUin4OwmxoHF/kGcrSTeRpDOoc+9r/mv/sEUlhhEKRAsdi70QDlIQPKfQGZ+hN3M4b8HmG9gfL5nwRu+gBSfRUAg4Hk65Zm3hJpzHvt3aYe5DrniHl+6cbORnvNHFag7rVqkIeAk1kpJt69GDL/i5udxt3XwohakF0dyXoCa9Y5VLpiuivdrmSX1IIcMBJfPDbVjBgZOV5EiLWDQRtepBJkFX/vSdym+RDYo3DfoQsvxhxtr6oEGUk2oCMTwvvQQkwzISIKA7ytDmRPHkli63D4wMCZ6dOSy/REEf9Ba/mpvzKWuGYBYtMGZvDwF3UgL/jrs1v7ezczdTDh8y9i/Trew+ZMjsA1VSB3lxBI6JEn82Tc/MSg5QUxtxHiw/wOVSDdiOuzbp2sruiVdPctF82JD2sg3jXLwopA7rGGdMGmtafSbl/4CiCPvyYcH002qwGJ7uRrW6TF/b3xo8T7Xxsyxudb4w30qAFZGzOQuJHgwRqZDXzB+pvPGN+4ZTyqBqQWE6tzYT3SLbWB/WdNhbK08EoNyGI2cWAvLe7wm1fLbeGGUWB9UaBXVSoBucN9ltWrvJDcwioQvCJraY4SkJUGt8S4MeKlklvYh4WpCvvbOiUgfzYN0dL3W2U3MahbnCIfqNb6AyLdzVdwvSLxcQS2+QMifTn6q4GE2TVpDShIFzN1ZBmn4HVAQV4jIfCHDtKAgtBR6yIBw0BgQXY9t44j/6oOLAitb4ybyJUGReuRD8YX6OMyX0Erm0/y8AZhv/rv0iCD0OKH/c0G2n56lbq4lj8gTErmKt2B8w9EsSSCzJwEmQSRArLMDvLuJMgkyCTIhAT53SRIroPMknDXyNTCd9xJoU3KIuHcANl3oq9p5WHwnmWE4dH7p3vWpr36gk8kghy92b9CUpZB87NvajIEKfWKMfNyMxJ31jNK8tIav2/IBsiR01UGSM5bW3L9rt8gLT2N5jahPBIeQtK0us8rPYPM9sBROoJjgRIsMbsopHHT/3a3S5A/SQDZ2oEAYzCINBPh2baxHW3omO4bSHmVgccjVxmTiDvzGmC04oJPIAOx9BtACEvokTdZMQiPBSgNqHUDcljEAEg3gNatYUCgJB0yltTDft/0AaS1ijWkDMNUMISHTygHmV/H8xqIQhJTv87OTh9kdzoc1cfimb3KQJg/hPtRtSBdGspDYmaDZOEunb+lpUpB5u/kV+QjhR3CMzwBhaBxt0qQcxiZOQ2Gijzb8bmKbpqg/lUKkA12kCPuOZabKqWBiw9+MnK/Gu/xFaUpQOwbPWmAjPIUpvjciPcMG8aGmooWLZhTFpOpaUphw/qBTjMrSjc9r0XFdigD2TUszo3y+F7O0C+FGa+U53+nmyS6NWtJ64i4UC0LyALX7fWANfcjloj5k5ydu5dreNYHsvQIBvxUFcgx20BIdNK5T1JQpGEK5vlX8R5hTf3bEeQzzyALsDVfGPGBq0JeilRDG9MmXbMOjHXRFCDgDeQhv8oygGB9SOZu11ZDeCzMdG2jE8hOzyCLhYUtv8MvUkNuTQizgdCaal+uBuQ+vwxbQBrLpIJ8Kqg8z4370QlkhX0scw1SZx+7vpMcBT1mb+DrtEB2uY3GIdvKjsj+ru1nO8hKJSCz7BeiXZJBttlB1jiBLPEK8kdki9k2yw6wf2oHaXcEATkgQK7IBjmSEHl0AtkrC6TgoGyQmrRAqryCbLar1nuyQSL2R9vrBJIQF/MIAiTLILF5n2Vl9K5HEKQABImfyjpV2oBGWwBdr89REMjD2AnklX0n4Ms0ZhA+guRzM3QCGbE9D+7LTRBAxFm1ztkt6p5XkONKQXQgGDmB7LBH4wu25ApIjT00TpxAuhMCYl0uY0H+gmiADEfVqk/Y565b4A1kimyQfWKPIOTotVr+IC7amRPrj+YGyGrR2NkvJxB6hz18SAS/kasgYSeQ7hAG4QMPDeCyiwyKRXaQj2WD7E8P5O4Ss16RZW2MMfxtcw6AzE0AKXECoU08YIssHwfzKkx7D+xpSRPkVbZB6jHoGFv9Fv8qEaG6/1x+8vuYdF0ozQLI0QSQSkcQ2imUETHjYoQ5bUYUiod7+u3KtjELIC3OIIvAEvvE5mYXZ+H1ABjReFWN33SnAFmYdZBYeRc+4XfcsMFFwpXnswBSnAKkbBBwyi00HXbOzHUQ+nJ4bMqvOVVlggPWK9faQQ7JBpmaAFKdCoT2aeZ+k8PuLC8sNDw150HCp8c2nwyHHkFw21eQMg8gtPoZtw+HVAzMNz7Lcx+EzmtCKZJjNBGkXjnIHE8gtPIGBnh7upK5O9XqBLIyR0AofdxI3lyCknVI1RxfQQoTQOa5A6EzR9h6kkBBskQyDNgQqihkAyTiEoRGy9sQwFuyfdCKjwIDwqbOfY+0ZIrFS9SJqYU5DkJpTdH7bLqSnziO2D7fXp/rIExKa//RYecYOU9TgFTkHgi3ltLb5V2XTi2OyY3axKpY6kHekQGSWrIBUqMCZJV61SJiETsdIsEEqa6yFO/gPdIc9gXkomwQetEQy1WO0ICC9Fkz6Nh8Y0AJyB71IIUdxKpZZ6cGFYReEDZuvqGBBaFd8V2CqlvUJ5BjCkBob9vY7dtSbNJ6B5nmCwjd393ftrftQXmqrxJzHsSteAeZbgf5cBJkEmQSZEKCnJioIGRTQEG22lMBJwgIFEwUEPk5jT6B2AJ0COoCCjI7IaV8dTBBCu3Gjjcqf1olwYfoEvv+yS2lEPvK75zFjSO33pENQo+DeCYDWaiSY9uasWYaa8OSQc7p1pPUsKGo/m1MPo9nL+VdDssF+cL8QtsaeXpVraw/rKUgoEcuyEsAywEsOpAQOaXKPrZbMxm09lKpIJENQuF883tUNVX66f+EU0xCZIdUEDqab4gOGIj+pFgFyIN44Rge1saDckFarZkSmOflMpZNKk7heW79sjIEGBdKBSkexEJNg9getn7vqexSuGFxvDKSfRuS0eGnA4knsJh7M2jw/m9dyoOvLqQ+WTSa0IhkkNVt+C0lcxB2fd4VqbtVnG0QWo4cav+4rhaifb062yCVmxxqALnsEe4uHkSzDEI/GnoLQxp1T/gQ5FzmqFI9CK2VUNoMgb6mOtsg4R8kVHAxUpyx4QcIjXRmimEWPulLD2SdfBB6dEQfz3nEHspsodi1/0y88f7ZpWMyP+Hz1WmzxqS0TBoIPdrJK51p/KgfDyXPsGkk8L3tpnP6Drmr26VdudQgCYTOOx17Ik3zUt6Quy1Dt7mt3kdaimRRS5cODYRlnc/e3UwAF4CnAm7meaJYyGmjSzVwXbeLQAhOSTto/vUIihWQ0j2RGGJOw3R+9Eoef0bDhWqy67VyWSA0OmM7eDrw2cxerRLm/sXH88wRNR+5qXZF+HmedRFZIJTWLL2CvBSj488qWsgZw6zQCG+O+0x1ObPMpfJAKG05c67dg7WjdlvhlutjqfjgcqbDnAL5ViYId8VndnzYHpt2uJX2H+yFejbFyoO5H4eYC/9EMoip4qXrv3w8oyguM5LJ2M8er0qcwp+EUBoaWmAeADysACRjGYE0zsDWuBlp+rJcBNkRSrOMYwhwfy6CTIP0SPhxvUW5CFKyKY0ClrGCUttLchGEbm5OY9LGlmUE3aY5CUK37XTPgWL1QXMThC4/ybWLFzgkPIJpLapni6Ux1dreSnMWhLb0Nn0w9r2tGVMWpv35uOrN1OV5f1ENzWEQMx4QLSkJh2mYVltizIh/gwvzo5WV7Kfs5/KWuj5IVNAmTAyjVMGa3Qep1HWhOiCQdcEEKbFUZ8XmobOzggoiLG2xAUHtESJ+7AWhgIKEkVB5EgMOao9Y4mVs2o71wIKIS3cdgmojVIuTEDMgEdBxhG4XplcY6XMDCtJk2QbnsdQkZYqCAdJLxO2UrqCCFB8SEiw6CoMKQhd99v+BelCM0PUC2PYoDRGP7Az1BB9Nzwkqsix3DmGP7KybDFoeAkxYa7BfPjRkPLJTzKNtgf2Kqc44zg8aOh4hAEY9MuoRGgEA8J+WrTIkcJkAAAAASUVORK5CYII=`,alt:`Duplicate`,style:{width:`36px`,height:`36px`}})}),(0,Z.jsx)(`button`,{onClick:t=>{t.stopPropagation(),c?.(e.id)},style:{width:`64px`,height:`64px`,borderRadius:`14px`,background:`#ffffff`,border:`2px solid #f7a998`,cursor:`pointer`,display:`flex`,alignItems:`center`,justifyContent:`center`,boxShadow:`0 2px 8px rgba(0, 0, 0, 0.15)`,transition:`transform 0.2s ease`},onMouseEnter:e=>e.currentTarget.style.transform=`scale(1.1)`,onMouseLeave:e=>e.currentTarget.style.transform=`scale(1)`,children:(0,Z.jsx)(`img`,{src:`/fremio/assets/create-trash-CitdFrdI.png`,alt:`Delete`,style:{width:`36px`,height:`36px`}})})]})]}),n&&r&&(0,Z.jsx)(`div`,{"data-export-ignore":`true`,style:{position:`absolute`,top:0,left:0,right:0,bottom:0,border:`2px solid #f7a998`,borderRadius:0,pointerEvents:`none`,zIndex:-1}}),(0,Z.jsx)(RR,{element:e,isSelected:n,isEditing:f===e.id,editingValue:m,onTextChange:S,onTextBlur:C,textInputRef:g,ref:r?_:null})]},e.id)})},`canvas-${r}-${O.width}-${O.height}`)})}var BR=(0,b.memo)(zR);function VR(){return(VR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function HR(e,t){if(e==null)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}function UR(e){var t=(0,b.useRef)(e),n=(0,b.useRef)(function(e){t.current&&t.current(e)});return t.current=e,n.current}var WR=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},GR=function(e){return`touches`in e},KR=function(e){return e&&e.ownerDocument.defaultView||self},qR=function(e,t,n){var r=e.getBoundingClientRect(),i=GR(t)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]}(t.touches,n):t;return{left:WR((i.pageX-(r.left+KR(e).pageXOffset))/r.width),top:WR((i.pageY-(r.top+KR(e).pageYOffset))/r.height)}},JR=function(e){!GR(e)&&e.preventDefault()},YR=b.memo(function(e){var t=e.onMove,n=e.onKey,r=HR(e,[`onMove`,`onKey`]),i=(0,b.useRef)(null),a=UR(t),o=UR(n),s=(0,b.useRef)(null),c=(0,b.useRef)(!1),l=(0,b.useMemo)(function(){var e=function(e){JR(e),(GR(e)?e.touches.length>0:e.buttons>0)&&i.current?a(qR(i.current,e,s.current)):n(!1)},t=function(){return n(!1)};function n(n){var r=c.current,a=KR(i.current),o=n?a.addEventListener:a.removeEventListener;o(r?`touchmove`:`mousemove`,e),o(r?`touchend`:`mouseup`,t)}return[function(e){var t=e.nativeEvent,r=i.current;if(r&&(JR(t),!function(e,t){return t&&!GR(e)}(t,c.current)&&r)){if(GR(t)){c.current=!0;var o=t.changedTouches||[];o.length&&(s.current=o[0].identifier)}r.focus(),a(qR(r,t,s.current)),n(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),o({left:t===39?.05:t===37?-.05:0,top:t===40?.05:t===38?-.05:0}))},n]},[o,a]),u=l[0],d=l[1],f=l[2];return(0,b.useEffect)(function(){return f},[f]),b.createElement(`div`,VR({},r,{onTouchStart:u,onMouseDown:u,className:`react-colorful__interactive`,ref:i,onKeyDown:d,tabIndex:0,role:`slider`}))}),XR=function(e){return e.filter(Boolean).join(` `)},ZR=function(e){var t=e.color,n=e.left,r=e.top,i=r===void 0?.5:r,a=XR([`react-colorful__pointer`,e.className]);return b.createElement(`div`,{className:a,style:{top:100*i+`%`,left:100*n+`%`}},b.createElement(`div`,{className:`react-colorful__pointer-fill`,style:{backgroundColor:t}}))},QR=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=10**t),Math.round(n*e)/n};360/(2*Math.PI);var $R=function(e){return sz(ez(e))},ez=function(e){return e[0]===`#`&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?QR(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?QR(parseInt(e.substring(6,8),16)/255,2):1}},tz=function(e){return oz(iz(e))},nz=function(e){var t=e.s,n=e.v,r=e.a,i=(200-t)*n/100;return{h:QR(e.h),s:QR(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:QR(i/2),a:QR(r,2)}},rz=function(e){var t=nz(e);return`hsl(`+t.h+`, `+t.s+`%, `+t.l+`%)`},iz=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var a=Math.floor(t),o=r*(1-n),s=r*(1-(t-a)*n),c=r*(1-(1-t+a)*n),l=a%6;return{r:QR(255*[r,s,o,o,c,r][l]),g:QR(255*[c,r,r,s,o,o][l]),b:QR(255*[o,o,c,r,r,s][l]),a:QR(i,2)}},az=function(e){var t=e.toString(16);return t.length<2?`0`+t:t},oz=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=i<1?az(QR(255*i)):``;return`#`+az(t)+az(n)+az(r)+a},sz=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=Math.max(t,n,r),o=a-Math.min(t,n,r),s=o?a===t?(n-r)/o:a===n?2+(r-t)/o:4+(t-n)/o:0;return{h:QR(60*(s<0?s+6:s)),s:QR(a?o/a*100:0),v:QR(a/255*100),a:i}},cz=b.memo(function(e){var t=e.hue,n=e.onChange,r=XR([`react-colorful__hue`,e.className]);return b.createElement(`div`,{className:r},b.createElement(YR,{onMove:function(e){n({h:360*e.left})},onKey:function(e){n({h:WR(t+360*e.left,0,360)})},"aria-label":`Hue`,"aria-valuenow":QR(t),"aria-valuemax":`360`,"aria-valuemin":`0`},b.createElement(ZR,{className:`react-colorful__hue-pointer`,left:t/360,color:rz({h:t,s:100,v:100,a:1})})))}),lz=b.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:rz({h:t.h,s:100,v:100,a:1})};return b.createElement(`div`,{className:`react-colorful__saturation`,style:r},b.createElement(YR,{onMove:function(e){n({s:100*e.left,v:100-100*e.top})},onKey:function(e){n({s:WR(t.s+100*e.left,0,100),v:WR(t.v-100*e.top,0,100)})},"aria-label":`Color`,"aria-valuetext":`Saturation `+QR(t.s)+`%, Brightness `+QR(t.v)+`%`},b.createElement(ZR,{className:`react-colorful__saturation-pointer`,top:1-t.v/100,left:t.s/100,color:rz(t)})))}),uz=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},dz=function(e,t){return e.toLowerCase()===t.toLowerCase()||uz(ez(e),ez(t))};function fz(e,t,n){var r=UR(n),i=(0,b.useState)(function(){return e.toHsva(t)}),a=i[0],o=i[1],s=(0,b.useRef)({color:t,hsva:a});(0,b.useEffect)(function(){if(!e.equal(t,s.current.color)){var n=e.toHsva(t);s.current={hsva:n,color:t},o(n)}},[t,e]),(0,b.useEffect)(function(){var t;uz(a,s.current.hsva)||e.equal(t=e.fromHsva(a),s.current.color)||(s.current={hsva:a,color:t},r(t))},[a,e,r]);var c=(0,b.useCallback)(function(e){o(function(t){return Object.assign({},t,e)})},[]);return[a,c]}var pz,mz=typeof window<`u`?b.useLayoutEffect:b.useEffect,hz=function(){return pz||(typeof __webpack_nonce__<`u`?__webpack_nonce__:void 0)},gz=new Map,_z=function(e){mz(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!gz.has(t)){var n=t.createElement(`style`);n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,gz.set(t,n);var r=hz();r&&n.setAttribute(`nonce`,r),t.head.appendChild(n)}},[])},vz=function(e){var t=e.className,n=e.colorModel,r=e.color,i=r===void 0?n.defaultColor:r,a=e.onChange,o=HR(e,[`className`,`colorModel`,`color`,`onChange`]),s=(0,b.useRef)(null);_z(s);var c=fz(n,i,a),l=c[0],u=c[1],d=XR([`react-colorful`,t]);return b.createElement(`div`,VR({},o,{ref:s,className:d}),b.createElement(lz,{hsva:l,onChange:u}),b.createElement(cz,{hue:l.h,onChange:u,className:`react-colorful__last-control`}))},yz={defaultColor:`000`,toHsva:$R,fromHsva:function(e){return tz({h:e.h,s:e.s,v:e.v,a:1})},equal:dz},bz=function(e){return b.createElement(vz,VR({},e,{colorModel:yz}))},xz=e=>/^#([0-9A-Fa-f]{6})$/.test(e??``);function Sz({value:e=`#FFFFFF`,onChange:t}){let n=(0,b.useMemo)(()=>typeof e==`string`?e.startsWith(`#`)?e.toUpperCase():`#${e.toUpperCase()}`:`#FFFFFF`,[e]),[r,i]=(0,b.useState)(n);(0,b.useEffect)(()=>{i(n)},[n]);let a=e=>{let n=e.startsWith(`#`)?e.toUpperCase():`#${e.toUpperCase()}`;i(n),t?.(n)},o=e=>{let n=e.target.value.toUpperCase();i(n),xz(n)&&t?.(n)},s=(0,b.useMemo)(()=>xz(r)?r:n,[r,n]);return(0,Z.jsxs)(`div`,{className:`color-picker`,children:[(0,Z.jsx)(`div`,{className:`color-picker__preview`,children:(0,Z.jsx)(bz,{color:s,onChange:a})}),(0,Z.jsxs)(`div`,{className:`color-picker__controls`,children:[(0,Z.jsx)(`div`,{className:`color-picker__swatch`,style:{backgroundColor:s}}),(0,Z.jsx)(`input`,{type:`text`,className:`color-picker__hex-input`,value:r,maxLength:7,onChange:o}),(0,Z.jsx)(`button`,{type:`button`,className:`color-picker__pipette`,disabled:!0,children:(0,Z.jsx)(SN,{size:16,strokeWidth:2.5})})]})]})}var Cz={hidden:{opacity:0,y:16},visible:{opacity:1,y:0}},wz=({title:e,children:t,isOpen:n,onToggle:r})=>(0,Z.jsxs)(`div`,{style:{width:`100%`,display:`block`,boxSizing:`border-box`},className:`rounded-2xl border-2 border-[#e0b7a9]/30 bg-gradient-to-br from-white to-[#fdf7f4]/60 shadow-[0_6px_20px_rgba(224,183,169,0.2)] backdrop-blur-sm overflow-hidden transition-all duration-300 hover:shadow-[0_8px_28px_rgba(224,183,169,0.3)] hover:border-[#e0b7a9]/50`,children:[(0,Z.jsxs)(`button`,{type:`button`,onClick:r,style:{width:`100%`,boxSizing:`border-box`},className:`flex items-center justify-between px-6 py-4 transition-all duration-300 hover:bg-gradient-to-r hover:from-[#f7e3da]/40 hover:to-[#f1cfc0]/30 active:scale-[0.99] group`,children:[(0,Z.jsx)(`h4`,{className:`text-base font-bold tracking-wide text-[#4a302b] transition-colors group-hover:text-[#e0b7a9]`,children:e}),(0,Z.jsx)(`div`,{className:`flex items-center justify-center w-8 h-8 rounded-full bg-[#e0b7a9]/10 transition-all duration-300 group-hover:bg-[#e0b7a9]/20 group-hover:scale-110`,children:n?(0,Z.jsx)(GM,{size:18,className:`text-[#e0b7a9] flex-shrink-0 transition-transform duration-300`,strokeWidth:2.5}):(0,Z.jsx)(WM,{size:18,className:`text-[#e0b7a9] flex-shrink-0 transition-transform duration-300`,strokeWidth:2.5})})]}),(0,Z.jsx)(hD,{children:n&&(0,Z.jsx)(kM.div,{initial:{height:0,opacity:0},animate:{height:`auto`,opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:`w-full overflow-hidden`,children:(0,Z.jsx)(`div`,{className:`w-full px-6 pb-6 space-y-4 text-sm text-slate-600`,children:t})})})]}),Tz=({label:e,children:t})=>(0,Z.jsxs)(`label`,{className:`flex w-full flex-col gap-3 text-xs font-bold text-slate-500`,children:[(0,Z.jsx)(`span`,{className:`uppercase tracking-[0.2em] text-[#e0b7a9]`,children:e}),t]});function Ez({selectedElement:e,canvasBackground:t,onBackgroundChange:n,onUpdateElement:r,onDeleteElement:i,clearSelection:a,onSelectBackgroundPhoto:o=()=>{},onFitBackgroundPhoto:s=()=>{},backgroundPhoto:c=null,onBringToFront:l,onSendToBack:u,onBringForward:d,onSendBackward:f,canvasAspectRatio:p,onCanvasAspectRatioChange:m,showCanvasSizeMode:h=!1,isBackgroundLocked:g=!1,onToggleBackgroundLock:_=()=>{},gradientColor1:v=`#667eea`,gradientColor2:y=`#764ba2`,setGradientColor1:x=()=>{},setGradientColor2:S=()=>{}}){let[C,w]=(0,b.useState)(``),[T,E]=(0,b.useState)(``),[D,O]=(0,b.useState)(null);(0,b.useEffect)(()=>{e&&(w(Math.round(e.width??0).toString()),E(Math.round(e.height??0).toString()))},[e?.id,e?.width,e?.height]),(0,b.useEffect)(()=>{e?.type===`background-photo`?O(`foto-background`):O(e?`dimensi`:`upload-background`)},[e?.id]);let k=(t,n)=>{if(!e)return;let i=parseFloat(n);if(isNaN(i)||i<=0){t===`width`?w(Math.round(e.width??60).toString()):E(Math.round(e.height??60).toString());return}let a=Math.max(60,Math.round(i));r(e.id,{[t]:a}),t===`width`?w(a.toString()):E(a.toString())},A=()=>(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(wz,{title:`Dimensi`,isOpen:D===`dimensi`,onToggle:()=>O(D===`dimensi`?null:`dimensi`),children:(0,Z.jsxs)(`div`,{className:`grid grid-cols-2 gap-3`,children:[(0,Z.jsx)(Tz,{label:`Lebar`,children:(0,Z.jsx)(`input`,{type:`number`,className:`rounded-2xl border-2 border-[#e0b7a9]/20 bg-white px-4 py-3 text-slate-700 shadow-[0_2px_8px_rgba(224,183,169,0.08)] transition-all focus:border-[#e0b7a9]/50 focus:shadow-[0_4px_12px_rgba(224,183,169,0.15)] focus:outline-none`,value:C,onChange:e=>w(e.target.value),onKeyDown:e=>{e.key===`Enter`&&(k(`width`,C),e.target.blur())},onBlur:()=>k(`width`,C)})}),(0,Z.jsx)(Tz,{label:`Tinggi`,children:(0,Z.jsx)(`input`,{type:`number`,className:`rounded-2xl border-2 border-[#e0b7a9]/20 bg-white px-4 py-3 text-slate-700 shadow-[0_2px_8px_rgba(224,183,169,0.08)] transition-all focus:border-[#e0b7a9]/50 focus:shadow-[0_4px_12px_rgba(224,183,169,0.15)] focus:outline-none`,value:T,onChange:e=>E(e.target.value),onKeyDown:e=>{e.key===`Enter`&&(k(`height`,T),e.target.blur())},onBlur:()=>k(`height`,T)})})]})})}),j=()=>(0,Z.jsxs)(wz,{title:`Pengaturan Teks`,isOpen:D===`pengaturan-teks`,onToggle:()=>O(D===`pengaturan-teks`?null:`pengaturan-teks`),children:[(0,Z.jsx)(Tz,{label:`Isi Teks`,children:(0,Z.jsx)(`textarea`,{rows:3,className:`min-h-[100px] rounded-2xl border-2 border-[#e0b7a9]/20 bg-white px-4 py-3 text-sm text-slate-700 shadow-[0_2px_8px_rgba(224,183,169,0.08)] transition-all focus:border-[#e0b7a9]/50 focus:shadow-[0_4px_12px_rgba(224,183,169,0.15)] focus:outline-none`,value:e.data?.text??``,onChange:t=>r(e.id,{data:{text:t.target.value}})})}),(0,Z.jsx)(Tz,{label:`Font`,children:(0,Z.jsxs)(`select`,{className:`w-full rounded-2xl border-2 border-[#e0b7a9]/35 bg-gradient-to-br from-white to-[#fdf7f4]/50 px-4 py-3 text-sm font-semibold text-[#4a302b] shadow-[0_4px_12px_rgba(224,183,169,0.15)] transition-all hover:border-[#d4a99a] hover:shadow-[0_6px_16px_rgba(224,183,169,0.25)] focus:border-[#d4a99a] focus:shadow-[0_6px_20px_rgba(224,183,169,0.3)] focus:outline-none cursor-pointer appearance-none bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 24 24%22 fill=%22none%22 stroke=%22%23e0b7a9%22 stroke-width=%222%22 stroke-linecap=%22round%22 stroke-linejoin=%22round%22%3e%3cpolyline points=%226 9 12 15 18 9%22%3e%3c/polyline%3e%3c/svg%3e')] bg-[length:20px] bg-[right_12px_center] bg-no-repeat pr-12`,value:e.data?.fontFamily??`Inter`,onChange:t=>r(e.id,{data:{fontFamily:t.target.value}}),children:[(0,Z.jsx)(`option`,{value:`Inter`,children:`Inter`}),(0,Z.jsx)(`option`,{value:`Roboto`,children:`Roboto`}),(0,Z.jsx)(`option`,{value:`Lato`,children:`Lato`}),(0,Z.jsx)(`option`,{value:`Open Sans`,children:`Open Sans`}),(0,Z.jsx)(`option`,{value:`Montserrat`,children:`Montserrat`}),(0,Z.jsx)(`option`,{value:`Poppins`,children:`Poppins`}),(0,Z.jsx)(`option`,{value:`Nunito Sans`,children:`Nunito Sans`}),(0,Z.jsx)(`option`,{value:`Rubik`,children:`Rubik`}),(0,Z.jsx)(`option`,{value:`Work Sans`,children:`Work Sans`}),(0,Z.jsx)(`option`,{value:`Source Sans Pro`,children:`Source Sans Pro`}),(0,Z.jsx)(`option`,{value:`Merriweather`,children:`Merriweather`}),(0,Z.jsx)(`option`,{value:`Playfair Display`,children:`Playfair Display`}),(0,Z.jsx)(`option`,{value:`Libre Baskerville`,children:`Libre Baskerville`}),(0,Z.jsx)(`option`,{value:`Cormorant Garamond`,children:`Cormorant Garamond`}),(0,Z.jsx)(`option`,{value:`Bitter`,children:`Bitter`}),(0,Z.jsx)(`option`,{value:`Raleway`,children:`Raleway`}),(0,Z.jsx)(`option`,{value:`Oswald`,children:`Oswald`}),(0,Z.jsx)(`option`,{value:`Bebas Neue`,children:`Bebas Neue`}),(0,Z.jsx)(`option`,{value:`Anton`,children:`Anton`}),(0,Z.jsx)(`option`,{value:`Pacifico`,children:`Pacifico`})]})}),(0,Z.jsxs)(`div`,{className:`grid grid-cols-2 gap-3`,children:[(0,Z.jsxs)(Tz,{label:`Ukuran`,children:[(0,Z.jsx)(`input`,{type:`range`,min:12,max:64,value:e.data?.fontSize??24,onChange:t=>r(e.id,{data:{fontSize:Number(t.target.value)}})}),(0,Z.jsxs)(`div`,{className:`text-xs font-semibold text-slate-500`,children:[e.data?.fontSize??24,`px`]})]}),(0,Z.jsx)(Tz,{label:`Warna`,children:(0,Z.jsx)(Sz,{value:e.data?.color??`#1F2933`,onChange:t=>r(e.id,{data:{color:t}})})})]}),(0,Z.jsx)(Tz,{label:`Perataan`,children:(0,Z.jsx)(`div`,{className:`grid grid-cols-3 gap-3`,children:[`left`,`center`,`right`].map(t=>(0,Z.jsx)(`button`,{type:`button`,onClick:()=>r(e.id,{data:{align:t}}),className:`rounded-2xl px-4 py-3 text-sm font-bold capitalize transition-all ${e.data?.align===t?`bg-gradient-to-r from-[#e0b7a9] to-[#d4a99a] text-white shadow-[0_4px_12px_rgba(224,183,169,0.3)]`:`border-2 border-[#e0b7a9]/20 bg-white text-slate-600 shadow-[0_2px_6px_rgba(0,0,0,0.04)] hover:border-[#e0b7a9]/40 hover:bg-[#fdf7f4]/50 hover:shadow-[0_4px_12px_rgba(224,183,169,0.15)]`}`,children:t},t))})})]}),M=({showBorderRadius:t=!0}={})=>(0,Z.jsxs)(wz,{title:`Warna & Bentuk`,isOpen:D===`warna-bentuk`,onToggle:()=>O(D===`warna-bentuk`?null:`warna-bentuk`),children:[(0,Z.jsx)(Tz,{label:`Warna Isi`,children:(0,Z.jsx)(Sz,{value:e.data?.fill??`#F4D3C2`,onChange:t=>r(e.id,{data:{fill:t}})})}),t&&(0,Z.jsx)(Tz,{label:`Radius`,children:(0,Z.jsx)(`input`,{type:`range`,min:0,max:120,value:e.data?.borderRadius??24,onChange:t=>r(e.id,{data:{borderRadius:Number(t.target.value)}})})})]}),N=({defaultColor:t=`#d9b9ab`,maxWidth:n=24}={})=>{let i=Number(e.data?.strokeWidth??0),a=typeof e.data?.stroke==`string`&&e.data.stroke.length>0?e.data.stroke:t;return(0,Z.jsxs)(wz,{title:`Outline`,isOpen:D===`outline`,onToggle:()=>O(D===`outline`?null:`outline`),children:[(0,Z.jsxs)(Tz,{label:`Ketebalan`,children:[(0,Z.jsx)(`input`,{type:`range`,min:0,max:n,value:i,onChange:t=>{let n=Number(t.target.value);if(!Number.isFinite(n))return;let i={strokeWidth:Math.max(0,n)};n>0&&!e.data?.stroke&&(i.stroke=a),r(e.id,{data:i})}}),(0,Z.jsxs)(`div`,{className:`text-xs font-semibold text-slate-500`,children:[Math.round(i),`px`]})]}),(0,Z.jsx)(Tz,{label:`Warna Outline`,children:(0,Z.jsx)(Sz,{value:a,onChange:t=>r(e.id,{data:{stroke:t}})})})]})};return e===`background`?(0,Z.jsxs)(kM.div,{variants:Cz,initial:`hidden`,animate:`visible`,className:`flex h-full w-full flex-col gap-4`,children:[(0,Z.jsx)(`div`,{className:`w-full px-4 py-3`,children:(0,Z.jsx)(`button`,{type:`button`,onClick:_,className:`w-full flex items-center justify-center gap-2 rounded-xl px-4 py-3 font-medium transition-all duration-200 ${g?`bg-gradient-to-r from-red-50 to-red-100 text-red-700 border-2 border-red-300 hover:from-red-100 hover:to-red-200`:`bg-gradient-to-r from-green-50 to-green-100 text-green-700 border-2 border-green-300 hover:from-green-100 hover:to-green-200`}`,style:{fontSize:`14px`},children:g?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(pN,{size:18}),(0,Z.jsx)(`span`,{children:`Background Terkunci`})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(fN,{size:18}),(0,Z.jsx)(`span`,{children:`Kunci Background`})]})})}),(0,Z.jsx)(wz,{title:`Upload Background`,isOpen:D===`upload-background`,onToggle:()=>O(D===`upload-background`?null:`upload-background`),children:(0,Z.jsxs)(`div`,{className:`flex flex-col items-center gap-4`,style:{margin:`16px 0`},children:[(0,Z.jsxs)(`button`,{type:`button`,id:`upload-bg-btn-v4-final`,"data-version":`4.0`,"data-timestamp":Date.now(),onClick:()=>{if(e===`background`&&typeof window<`u`){let e=new CustomEvent(`creator:request-background-upload`);window.dispatchEvent(e)}},style:{padding:`8px 14px`,fontSize:`13px`,minHeight:`38px`,height:`38px`,maxHeight:`38px`,fontWeight:`600`,background:`linear-gradient(135deg, #f5e5df 0%, #ecddd5 50%, #e8d4c9 100%)`,color:`#4a302b`,border:`2px solid #f5e5df`,borderRadius:`12px`,boxShadow:`0 3px 12px rgba(245, 229, 223, 0.4)`,cursor:`pointer`,transition:`all 0.3s ease`,width:`100%`,display:`flex`,alignItems:`center`,justifyContent:`center`,marginTop:`10px`,marginBottom:`10px`},className:`group relative overflow-hidden upload-bg-v4`,onMouseEnter:e=>{e.currentTarget.style.transform=`scale(1.02)`,e.currentTarget.style.boxShadow=`0 5px 16px rgba(245, 229, 223, 0.5)`,e.currentTarget.style.background=`linear-gradient(135deg, #ecddd5 0%, #e8d4c9 50%, #e0c5b8 100%)`},onMouseLeave:e=>{e.currentTarget.style.transform=`scale(1)`,e.currentTarget.style.boxShadow=`0 3px 12px rgba(245, 229, 223, 0.4)`,e.currentTarget.style.background=`linear-gradient(135deg, #f5e5df 0%, #ecddd5 50%, #e8d4c9 100%)`},children:[(0,Z.jsx)(`div`,{className:`absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700 pointer-events-none`}),(0,Z.jsx)(`span`,{className:`relative z-10`,children:`Unggah Foto Background`})]}),c&&(0,Z.jsxs)(`div`,{className:`w-full flex flex-col gap-3`,children:[(0,Z.jsx)(`button`,{type:`button`,onClick:()=>o?.(),style:{padding:`14px 20px`,fontSize:`15px`},className:`w-full flex items-center justify-center rounded-xl border-2 border-[#e0b7a9]/40 bg-white text-[#4a302b] font-medium shadow-sm transition-all duration-200 hover:bg-[#fdf7f4] hover:border-[#e0b7a9]/60 hover:shadow-md`,children:`Edit foto background`}),(0,Z.jsx)(`button`,{type:`button`,onClick:()=>s?.(),style:{padding:`14px 20px`,fontSize:`15px`},className:`w-full flex items-center justify-center rounded-xl border-2 border-[#e0b7a9]/40 bg-white text-[#4a302b] font-medium shadow-sm transition-all duration-200 hover:bg-[#fdf7f4] hover:border-[#e0b7a9]/60 hover:shadow-md`,children:`Sesuaikan ke kanvas`})]})]})}),(0,Z.jsx)(wz,{title:`Ukuran Canvas`,isOpen:D===`ukuran-canvas`,onToggle:()=>O(D===`ukuran-canvas`?null:`ukuran-canvas`),children:(0,Z.jsxs)(`div`,{className:`flex flex-col gap-3`,children:[(0,Z.jsx)(`div`,{className:`grid grid-cols-1 gap-2`,children:[{label:`Story Instagram`,ratio:`9:16`,desc:`1080  1920`},{label:`Instagram Feeds`,ratio:`4:5`,desc:`1080  1350`},{label:`Photostrip`,ratio:`2:3`,desc:`1200  1800`}].map(e=>(0,Z.jsx)(`button`,{onClick:()=>{m?.(e.ratio)},className:`px-4 py-3 text-sm rounded-xl border-2 transition-all text-left ${p===e.ratio?`border-[#e0b7a9] bg-gradient-to-r from-[#fdf7f4] to-[#f5e5df] text-[#4a302b] font-semibold shadow-md`:`border-[#e0b7a9]/20 bg-white hover:border-[#e0b7a9]/40 hover:bg-[#fdf7f4]/30 text-slate-700`}`,children:(0,Z.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`div`,{className:`font-semibold`,children:e.label}),(0,Z.jsx)(`div`,{className:`text-xs text-slate-500 mt-0.5`,children:e.desc})]}),p===e.ratio&&(0,Z.jsx)(`div`,{className:`w-5 h-5 rounded-full bg-[#e0b7a9] flex items-center justify-center`,children:(0,Z.jsx)(`svg`,{width:`12`,height:`12`,viewBox:`0 0 12 12`,fill:`none`,children:(0,Z.jsx)(`path`,{d:`M10 3L4.5 8.5L2 6`,stroke:`white`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`})})})]})},e.ratio))}),(0,Z.jsxs)(`div`,{className:`bg-gradient-to-br from-[#fdf7f4] to-[#f5e5df] rounded-xl p-3 border border-[#e0b7a9]/20`,children:[(0,Z.jsx)(`div`,{className:`text-xs font-semibold text-[#e0b7a9] uppercase tracking-wider mb-1`,children:`Rasio Saat Ini`}),(0,Z.jsx)(`div`,{className:`text-lg font-bold text-[#4a302b]`,children:p})]})]})}),(0,Z.jsx)(wz,{title:`Warna Latar`,isOpen:D===`warna-latar`,onToggle:()=>O(D===`warna-latar`?null:`warna-latar`),children:(0,Z.jsx)(`div`,{className:`flex flex-col gap-3`,children:(()=>{let e=t?.startsWith(`linear-gradient`)||t?.startsWith(`radial-gradient`),r=e?`#ffffff`:t||`#ffffff`;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(`div`,{className:`flex gap-2`,children:[(0,Z.jsx)(`button`,{type:`button`,onClick:()=>n(r),className:`flex-1 px-3 py-2 text-xs font-semibold rounded-lg transition-all ${e?`bg-white text-slate-600 border border-slate-200 hover:bg-slate-50`:`bg-purple-100 text-purple-700 border-2 border-purple-500`}`,children:`Solid`}),(0,Z.jsx)(`button`,{type:`button`,onClick:()=>n(`linear-gradient(135deg, #667eea 0%, #764ba2 100%)`),className:`flex-1 px-3 py-2 text-xs font-semibold rounded-lg transition-all ${e?`bg-purple-100 text-purple-700 border-2 border-purple-500`:`bg-white text-slate-600 border border-slate-200 hover:bg-slate-50`}`,children:`Gradient`})]}),e?(0,Z.jsxs)(`div`,{className:`flex flex-col gap-3`,children:[(0,Z.jsx)(`div`,{className:`h-20 rounded-xl border-2 border-slate-200 shadow-md`,style:{background:`linear-gradient(135deg, ${v} 0%, ${y} 100%)`}}),(0,Z.jsxs)(`div`,{className:`flex flex-col gap-1.5`,children:[(0,Z.jsx)(`div`,{className:`text-xs font-semibold text-slate-600`,children:`Warna Titik 1:`}),(0,Z.jsx)(Sz,{value:v,onChange:e=>{x(e),n(`linear-gradient(135deg, ${e} 0%, ${y} 100%)`)}})]}),(0,Z.jsxs)(`div`,{className:`flex flex-col gap-1.5`,children:[(0,Z.jsx)(`div`,{className:`text-xs font-semibold text-slate-600`,children:`Warna Titik 2:`}),(0,Z.jsx)(Sz,{value:y,onChange:e=>{S(e),n(`linear-gradient(135deg, ${v} 0%, ${e} 100%)`)}})]}),(0,Z.jsx)(`div`,{className:`text-xs font-semibold text-slate-700 mt-1`,children:`Quick Presets:`}),(0,Z.jsx)(`div`,{className:`grid grid-cols-3 gap-2`,children:[{name:`Purple`,c1:`#667eea`,c2:`#764ba2`},{name:`Ocean`,c1:`#667eea`,c2:`#0093E9`},{name:`Sunset`,c1:`#f093fb`,c2:`#f5576c`},{name:`Forest`,c1:`#11998e`,c2:`#38ef7d`},{name:`Pink`,c1:`#FA8BFF`,c2:`#2BD2FF`},{name:`Gold`,c1:`#FFB75E`,c2:`#ED8F03`}].map(e=>(0,Z.jsx)(`button`,{type:`button`,onClick:()=>{x(e.c1),S(e.c2),n(`linear-gradient(135deg, ${e.c1} 0%, ${e.c2} 100%)`)},className:`relative h-14 rounded-lg overflow-hidden ring-1 ring-slate-200 hover:ring-purple-300 transition-all`,style:{background:`linear-gradient(135deg, ${e.c1} 0%, ${e.c2} 100%)`},children:(0,Z.jsx)(`span`,{className:`absolute bottom-1 left-1/2 -translate-x-1/2 text-[9px] font-bold text-white drop-shadow-md whitespace-nowrap`,children:e.name})},e.name))})]}):(0,Z.jsx)(Sz,{value:r,onChange:n})]})})()})})]}):h?(0,Z.jsx)(kM.div,{variants:Cz,initial:`hidden`,animate:`visible`,className:`flex h-full w-full flex-col gap-4`,children:(0,Z.jsx)(wz,{title:`Ukuran Canvas`,isOpen:!0,onToggle:()=>{},children:(0,Z.jsxs)(`div`,{className:`flex flex-col gap-3`,children:[(0,Z.jsx)(`div`,{className:`grid grid-cols-1 gap-2`,children:[{label:`Story Instagram`,ratio:`9:16`,desc:`1080  1920`},{label:`Instagram Feeds`,ratio:`4:5`,desc:`1080  1350`},{label:`Photostrip`,ratio:`2:3`,desc:`1200  1800`}].map(e=>(0,Z.jsx)(`button`,{onClick:()=>{m?.(e.ratio)},className:`px-4 py-3 text-sm rounded-xl border-2 transition-all text-left ${p===e.ratio?`border-[#e0b7a9] bg-gradient-to-r from-[#fdf7f4] to-[#f5e5df] text-[#4a302b] font-semibold shadow-md`:`border-[#e0b7a9]/20 bg-white hover:border-[#e0b7a9]/40 hover:bg-[#fdf7f4]/30 text-slate-700`}`,children:(0,Z.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`div`,{className:`font-semibold`,children:e.label}),(0,Z.jsx)(`div`,{className:`text-xs text-slate-500 mt-0.5`,children:e.desc})]}),p===e.ratio&&(0,Z.jsx)(`div`,{className:`w-5 h-5 rounded-full bg-[#e0b7a9] flex items-center justify-center`,children:(0,Z.jsx)(`svg`,{width:`12`,height:`12`,viewBox:`0 0 12 12`,fill:`none`,children:(0,Z.jsx)(`path`,{d:`M10 3L4.5 8.5L2 6`,stroke:`white`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`})})})]})},e.ratio))}),(0,Z.jsxs)(`div`,{className:`bg-gradient-to-br from-[#fdf7f4] to-[#f5e5df] rounded-xl p-3 border border-[#e0b7a9]/20`,children:[(0,Z.jsx)(`div`,{className:`text-xs font-semibold text-[#e0b7a9] uppercase tracking-wider mb-1`,children:`Rasio Saat Ini`}),(0,Z.jsx)(`div`,{className:`text-lg font-bold text-[#4a302b]`,children:p})]})]})})}):e?(0,Z.jsxs)(kM.div,{variants:Cz,initial:`hidden`,animate:`visible`,className:`flex h-full flex-col gap-4`,children:[e.type!==`background-photo`&&A(),e.type===`text`&&j(),e.type===`shape`&&(0,Z.jsxs)(Z.Fragment,{children:[M({showBorderRadius:!0}),N({defaultColor:`#d9b9ab`,maxWidth:32})]}),e.type===`photo`&&(0,Z.jsxs)(Z.Fragment,{children:[M({showBorderRadius:!0}),N({defaultColor:`#f4f4f4`,maxWidth:24})]}),e.type===`upload`&&(0,Z.jsxs)(Z.Fragment,{children:[(()=>(0,Z.jsxs)(wz,{title:`Gambar`,isOpen:D===`gambar`,onToggle:()=>O(D===`gambar`?null:`gambar`),children:[(0,Z.jsx)(Tz,{label:`Objek Fit`,children:(0,Z.jsxs)(`select`,{className:`w-full rounded-2xl border-2 border-[#e0b7a9]/35 bg-gradient-to-br from-white to-[#fdf7f4]/50 px-4 py-3 text-sm font-semibold text-[#4a302b] shadow-[0_4px_12px_rgba(224,183,169,0.15)] transition-all hover:border-[#d4a99a] hover:shadow-[0_6px_16px_rgba(224,183,169,0.25)] focus:border-[#d4a99a] focus:shadow-[0_6px_20px_rgba(224,183,169,0.3)] focus:outline-none cursor-pointer appearance-none bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 24 24%22 fill=%22none%22 stroke=%22%23e0b7a9%22 stroke-width=%222%22 stroke-linecap=%22round%22 stroke-linejoin=%22round%22%3e%3cpolyline points=%226 9 12 15 18 9%22%3e%3c/polyline%3e%3c/svg%3e')] bg-[length:20px] bg-[right_12px_center] bg-no-repeat pr-12`,value:e.data?.objectFit??`contain`,onChange:t=>r(e.id,{data:{objectFit:t.target.value}}),children:[(0,Z.jsx)(`option`,{value:`cover`,children:`Cover`}),(0,Z.jsx)(`option`,{value:`contain`,children:`Contain`}),(0,Z.jsx)(`option`,{value:`fill`,children:`Fill`})]})}),e.data?.image&&(0,Z.jsxs)(`button`,{type:`button`,className:`flex items-center justify-center gap-2 rounded-xl border border-rose-100 bg-rose-50/90 px-3 py-2 text-xs font-semibold text-rose-600`,onClick:()=>r(e.id,{data:{image:null}}),children:[(0,Z.jsx)(BN,{size:14}),` Hapus gambar`]})]}))(),M({showBorderRadius:!0}),N({defaultColor:`#f4f4f4`,maxWidth:24})]}),e.type===`background-photo`&&(()=>(0,Z.jsxs)(wz,{title:`Foto Background`,isOpen:D===`foto-background`,onToggle:()=>O(D===`foto-background`?null:`foto-background`),children:[(0,Z.jsx)(Tz,{label:`Mode Isi`,children:(0,Z.jsxs)(`select`,{className:`w-full rounded-2xl border-2 border-[#e0b7a9]/35 bg-gradient-to-br from-white to-[#fdf7f4]/50 px-4 py-3 text-sm font-semibold text-[#4a302b] shadow-[0_4px_12px_rgba(224,183,169,0.15)] transition-all hover:border-[#d4a99a] hover:shadow-[0_6px_16px_rgba(224,183,169,0.25)] focus:border-[#d4a99a] focus:shadow-[0_6px_20px_rgba(224,183,169,0.3)] focus:outline-none cursor-pointer appearance-none bg-[url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 24 24%22 fill=%22none%22 stroke=%22%23e0b7a9%22 stroke-width=%222%22 stroke-linecap=%22round%22 stroke-linejoin=%22round%22%3e%3cpolyline points=%226 9 12 15 18 9%22%3e%3c/polyline%3e%3c/svg%3e')] bg-[length:20px] bg-[right_12px_center] bg-no-repeat pr-12`,value:e.data?.objectFit??`contain`,onChange:t=>r(e.id,{data:{objectFit:t.target.value}}),children:[(0,Z.jsx)(`option`,{value:`cover`,children:`Cover`}),(0,Z.jsx)(`option`,{value:`contain`,children:`Contain`}),(0,Z.jsx)(`option`,{value:`fill`,children:`Fill`})]})}),(0,Z.jsxs)(`div`,{className:`flex flex-col gap-3`,children:[(0,Z.jsx)(`button`,{type:`button`,onClick:()=>{if(typeof window<`u`){let e=new CustomEvent(`creator:request-background-upload`);window.dispatchEvent(e)}},className:`flex items-center justify-center gap-3 rounded-2xl border-2 border-[#e0b7a9]/40 bg-gradient-to-r from-[#f7e3da] to-[#f1cfc0] px-5 py-3 text-sm font-semibold text-[#4a302b] shadow-[0_6px_16px_rgba(224,183,169,0.25)] transition-all hover:translate-y-[-2px] hover:shadow-[0_12px_26px_rgba(224,183,169,0.35)]`,children:`Ganti foto background`}),(0,Z.jsx)(`button`,{type:`button`,onClick:()=>s?.(),className:`flex items-center justify-center gap-3 rounded-2xl border-2 border-[#e0b7a9]/40 bg-white px-5 py-3 text-sm font-semibold text-[#4a302b] shadow-[0_4px_12px_rgba(224,183,169,0.18)] transition-all hover:translate-y-[-2px] hover:shadow-[0_10px_24px_rgba(224,183,169,0.24)]`,children:`Sesuaikan ke kanvas`}),e.data?.image&&(0,Z.jsxs)(`button`,{type:`button`,onClick:()=>{i(e.id),a()},className:`flex items-center justify-center gap-3 rounded-2xl border-2 border-red-200/50 bg-gradient-to-r from-red-50 to-red-100/60 px-5 py-3 text-sm font-semibold text-red-600 shadow-[0_4px_12px_rgba(239,68,68,0.18)] transition-all hover:translate-y-[-2px] hover:shadow-[0_10px_22px_rgba(239,68,68,0.25)]`,children:[(0,Z.jsx)(BN,{size:14}),` Hapus foto background`]})]})]}))(),(0,Z.jsxs)(`button`,{type:`button`,onClick:()=>{i(e.id),a()},className:`mt-auto flex items-center justify-center gap-3 rounded-2xl border-2 border-red-200/50 bg-gradient-to-r from-red-50 to-red-100/50 px-5 py-4 text-sm font-bold text-red-600 shadow-[0_4px_12px_rgba(239,68,68,0.15)] transition-all hover:border-red-300 hover:bg-gradient-to-r hover:from-red-100 hover:to-red-100 hover:shadow-[0_6px_16px_rgba(239,68,68,0.25)] active:scale-95`,children:[(0,Z.jsx)(NN,{size:18,strokeWidth:2.5}),` Hapus Element`]})]}):(()=>(0,Z.jsxs)(kM.div,{variants:Cz,initial:`hidden`,animate:`visible`,className:`flex h-full flex-col items-center justify-center gap-4 rounded-[24px] border-2 border-[#e0b7a9]/15 bg-gradient-to-br from-white/95 via-white/90 to-[#fdf7f4]/50 p-8 text-center text-sm text-slate-500 shadow-[0_12px_32px_rgba(224,183,169,0.12)] backdrop-blur-sm`,children:[(0,Z.jsx)(`p`,{className:`font-semibold text-slate-600`,children:`Pilih elemen di kanvas untuk mengubah properti di sini.`}),(0,Z.jsx)(`p`,{className:`text-xs font-medium text-[#e0b7a9]`,children:` Tip: klik tombol Background untuk mengganti warna dasar kanvas.`})]}))()}var Dz=e=>{let t,n=new Set,r=(e,r)=>{let i=typeof e==`function`?e(t):e;if(!Object.is(i,t)){let e=t;t=r??(typeof i!=`object`||!i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(r,i,a);return a},Oz=(e=>e?Dz(e):Dz),kz=e=>e;function Az(e,t=kz){let n=b.useSyncExternalStore(e.subscribe,b.useCallback(()=>t(e.getState()),[e,t]),b.useCallback(()=>t(e.getInitialState()),[e,t]));return b.useDebugValue(n),n}var jz=e=>{let t=Oz(e),n=e=>Az(t,e);return Object.assign(n,t),n},Mz=(e=>e?jz(e):jz),Nz=`#f7f1ed`,Pz=480,Fz=853,Iz=XI/Pz,Lz=ZI/Fz,Rz=(Iz+Lz)/2,zz=e=>Math.round(e*Iz),Bz=e=>Math.round(e*Lz),Vz=e=>Math.round(e*Rz),Hz=()=>typeof crypto<`u`&&crypto.randomUUID?crypto.randomUUID():`el-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,Uz=(e,t={})=>({id:Hz(),type:e,x:zz(80),y:Bz(80),width:zz(160),height:Bz(160),rotation:0,zIndex:1,isLocked:!1,data:{},...t}),Wz=e=>{switch(e){case`photo`:return{width:zz(220),height:Bz(280),data:{fill:`#d1e3f0`,borderRadius:Vz(24),stroke:null,strokeWidth:0,label:`Foto`}};case`text`:return{width:zz(320),height:Bz(90),data:{text:`Judul Baru`,fontSize:Vz(28),fontFamily:`Inter`,color:`#1f2933`,align:`center`,fontWeight:600}};case`shape`:return{width:zz(200),height:Bz(200),data:{fill:`#f4d3c2`,borderRadius:Vz(32),stroke:null,strokeWidth:0}};case`upload`:return{width:tL,height:nL,data:{image:null,objectFit:`contain`,label:`Unggahan`,fill:`#d1e3f0`,borderRadius:Vz(24),stroke:null,strokeWidth:0}};case`background-photo`:return{x:0,y:0,width:XI,height:ZI,zIndex:0,data:{image:null,objectFit:`contain`,aspectRatio:XI/ZI,label:`Background`}};default:return{}}},Gz=(e,t,n)=>{if(e===`background-photo`)return 0;if(e===`photo`)return typeof t?.zIndex==`number`?t.zIndex:0;if(typeof t?.zIndex==`number`)return t.zIndex;let r=Number.isFinite(n)?n:1;return Math.max(r+1,1)},Kz=(e,t=XI,n=ZI)=>{if(!Number.isFinite(e)||e<=0)return{width:t,height:n};let r=t,i=r/e;return i>n&&(i=n,r=i*e),{width:Math.round(r),height:Math.round(i)}},qz=(e,t)=>({x:Math.round((XI-e)/2),y:Math.round((ZI-t)/2)}),Jz=e=>!!e?.data?.__capturedOverlay,Yz=e=>(Number.isFinite(e?.zIndex)?e.zIndex:1)+hL,Xz=(e,t)=>{if(!e||!t)return null;let n=Number.isFinite(t?.x)?t.x:0,r=Number.isFinite(t?.y)?t.y:0,i=Number.isFinite(t?.width)?t.width:0,a=Number.isFinite(t?.height)?t.height:0,o=Yz(t),s=e.data||{},c=Number.isFinite(t?.data?.borderRadius)?t.data.borderRadius:s.borderRadius??0,l=t.id||null,u=Number.isFinite(t?.rotation)?t.rotation:0;return(Number.isFinite(e.x)?e.x:0)!==n||(Number.isFinite(e.y)?e.y:0)!==r||(Number.isFinite(e.width)?e.width:0)!==i||(Number.isFinite(e.height)?e.height:0)!==a||(Number.isFinite(e.rotation)?e.rotation:0)!==u||e.zIndex!==o||e.isLocked!==!0||s.borderRadius!==c||s.__sourcePlaceholderId!==l?{...e,x:n,y:r,width:i,height:a,rotation:u,zIndex:o,isLocked:!0,data:{...s,borderRadius:c,__sourcePlaceholderId:l}}:e},Zz=(e=[],t)=>!t||!Array.isArray(e)?e:e.filter(e=>Jz(e)?e?.data?.__sourcePlaceholderId!==t:!0),Qz=(e=[])=>{if(!Array.isArray(e)||e.length===0)return e;let t=new Map,n=[],r=!1;return e.forEach(e=>{if(Jz(e)){let n=e?.data?.__sourcePlaceholderId;n&&t.set(n,e)}}),t.size===0?e:(e.forEach(e=>{if(!Jz(e)){if(e?.type===`photo`&&e.id){let i=t.get(e.id);if(i){let a=Xz(i,e);a!==i&&(r=!0),n.push(a),t.delete(e.id)}}n.push(e)}}),t.size>0&&(r=!0),r?n:e)},$z=(e=[])=>e,eB=e=>{if(!Array.isArray(e)||e.length===0)return e;let t=e.reduce((e,t)=>{if(!t||t.type===`background-photo`||t.type===`photo`)return e;let n=Number.isFinite(t.zIndex)?t.zIndex:null;return n!==null&&n>=1&&n>e?n:e},0),n=!1,r=e.map(e=>{if(!e)return e;if(e.type===`background-photo`){let t=mL;return e.zIndex===t?e:(n=!0,{...e,zIndex:t})}if(Number.isFinite(e.zIndex))return t=e.zIndex>t?e.zIndex:t,e;if(e.type===`photo`||e.type===`upload`)return n=!0,{...e,zIndex:0};let r=Math.max(t+1,1);return t=r,n=!0,{...e,zIndex:r}});return n?r:e},tB=e=>{let t=Qz(e),n=$z(t),r=eB(n);return Qz(r)};console.log(`[useCreatorStore] Store module loaded`);var nB=Mz((e,t)=>({elements:[],selectedElementId:null,canvasBackground:Nz,lastZIndex:1,addElement:(n,r={})=>{let i=Wz(n),a={...i.data||{},...r.data||{}},o=t().lastZIndex,s=Gz(n,i,o),c=typeof r.zIndex==`number`?r.zIndex:s,l=Uz(n,{...i,...r,data:a,zIndex:c});return e(e=>{let t=tB([...e.elements,l]),r=n===`photo`||n===`background-photo`?e.lastZIndex:c>e.lastZIndex?c:e.lastZIndex;return{elements:t,selectedElementId:l.id,lastZIndex:r}}),l.id},addUploadElement:n=>{let r=new Image;return r.src=n,r.onload=()=>{let i=r.width/r.height,a=t();XI/3,ZI/3;let o,s;r.width/360>r.height/640?(o=360,s=o/i):(s=640,o=s*i);let c=document.createElement(`canvas`);c.width=Math.round(o),c.height=Math.round(s),c.getContext(`2d`).drawImage(r,0,0,Math.round(o),Math.round(s));let l=c.toDataURL(`image/png`,.95),u=a.elements.find(e=>e.data?.image===n&&e.type===`upload`);if(u){let t=u.id,r=Math.round((XI-o)/2),a=Math.round((ZI-s)/2);e(e=>{let c=e.elements.map(e=>e.id===t?{...e,width:Math.round(o),height:Math.round(s),x:r,y:a,data:{...e.data,image:l,originalImage:n,imageAspectRatio:i,objectFit:`contain`}}:e);return{elements:tB(c)}})}},t().addElement(`upload`,{x:Math.round((XI-tL)/2),y:Math.round((ZI-nL)/2),data:{image:n,objectFit:`contain`,label:`Unggahan`}})},addBackgroundPhoto:(n,r={})=>{let i=t().elements.find(e=>e.type===`background-photo`),a=r.canvasWidth||1080,o=r.canvasHeight||1920,s=new Image;s.src=n;let c=()=>{let t=s.width/s.height,r=a/o,i,c;t>r?(c=o,i=c*t):(i=a,c=i/t);let l=Math.round((a-i)/2),u=Math.round((o-c)/2),d={image:n,objectFit:`cover`,imageAspectRatio:t,label:`Background`};e(e=>{let t=e.elements.find(e=>e.type===`background-photo`);if(!t)return console.log(`[addBackgroundPhoto] No background element found, will be created in sync path`),e;let n=!1,r=e.elements.map(e=>{if(e.id===t.id)return n=!0,{...e,x:l,y:u,width:Math.round(i),height:Math.round(c),zIndex:0,data:{...e.data,...d}};if(e.type===`background-photo`)return e;let r;return e.type===`photo`||e.type===`upload`?(mL+1,r=e.zIndex===void 0?PHOTO_SLOT_MIN_Z:Math.max(e.zIndex,-3999)):r=e.zIndex===void 0?1:Math.max(e.zIndex,1),r===e.zIndex?e:(n=!0,{...e,zIndex:r})});return n?{elements:tB(r)}:e})};if(i){let t=i.id;return e(e=>{let r=e.elements.map(e=>e.id===t?{...e,data:{...e.data,image:n,label:`Background`}}:e);return{elements:tB(r)}}),s.complete?c():s.onload=c,t}let l=Number(r.aspectRatio),u=(Number.isFinite(l)&&l>0?l:void 0)||a/o,d=Kz(u),f=qz(d.width,d.height),p=t().addElement(`background-photo`,{...f,zIndex:mL,data:{image:n,objectFit:`cover`,label:`Background`},width:d.width,height:d.height});return s.complete?c():s.onload=c,e(e=>{let t=e.elements.map(e=>e.id===p?{...e,zIndex:mL}:e),n=tB(t),r=n.reduce((e,t)=>{if(t.type===`background-photo`||t.type===`photo`)return e;let n=Number.isFinite(t.zIndex)?t.zIndex:e;return n>e?n:e},e.lastZIndex),i=Math.max(r,e.lastZIndex,1);return{elements:n,lastZIndex:i}}),p},fitBackgroundPhotoToCanvas:(n={})=>{let r=t().elements.find(e=>e.type===`background-photo`);if(!r)return;let i=n.canvasWidth||1080,a=n.canvasHeight||1920,o=Number(r.data?.imageAspectRatio)>0?r.data.imageAspectRatio:r.width>0&&r.height>0?r.width/r.height:i/a,s=i/a,c,l;o>s?(l=a,c=l*o):(c=i,l=c/o);let u={x:Math.round((i-c)/2),y:Math.round((a-l)/2)};e(e=>{let t=e.elements.map(e=>e.id===r.id?{...e,width:Math.round(c),height:Math.round(l),...u,data:{...e.data,objectFit:`cover`}}:e);return{elements:tB(t),selectedElementId:r.id}})},updateElement:(t,n)=>{e(e=>{let r=null,i=e.elements.map(e=>{if(e.id!==t)return e;let i={...n};e.type===`background-photo`&&(delete i.zIndex,i.zIndex=0);let a=i.data?{...e.data,...i.data}:e.data;return r={...e,...i,data:a},r});return{elements:tB(i)}})},updateElementData:(t,n)=>{e(e=>{let r=e.elements.map(e=>e.id===t?{...e,data:{...e.data,...n}}:e);return{elements:tB(r)}})},resizeUploadImage:(e,n,r)=>{let i=t().elements.find(t=>t.id===e);if(!i||i.type!==`upload`||!i.data?.originalImage)return;let a=new Image;a.src=i.data.originalImage,a.onload=()=>{let i=document.createElement(`canvas`);i.width=Math.round(n),i.height=Math.round(r);let o=i.getContext(`2d`);o.imageSmoothingEnabled=!0,o.imageSmoothingQuality=`high`,o.drawImage(a,0,0,Math.round(n),Math.round(r));let s=i.toDataURL(`image/png`,.95);t().updateElement(e,{data:{image:s}})}},selectElement:t=>{e({selectedElementId:t})},removeElement:t=>{e(e=>{let n=e.elements.find(e=>e.id===t),r=e.elements.filter(e=>e.id!==t);return n?.type===`photo`&&(r=Zz(r,t)),{elements:tB(r),selectedElementId:e.selectedElementId===t?null:e.selectedElementId}})},duplicateElement:n=>{let r=t().elements.find(e=>e.id===n);if(!r)return;let i=r.type===`photo`?r.zIndex??0:t().lastZIndex+1,a={...r,id:Hz(),x:r.x+20,y:r.y+20,zIndex:i};e(e=>{let t=tB([...e.elements,a]),n=r.type===`photo`?e.lastZIndex:e.lastZIndex+1;return{elements:t,lastZIndex:n,selectedElementId:a.id}})},toggleLock:t=>{e(e=>{let n=e.elements.map(e=>e.id===t?{...e,isLocked:!e.isLocked}:e);return{elements:tB(n)}})},bringToFront:n=>{if(t().elements.find(e=>e.id===n)?.type===`background-photo`){e({selectedElementId:n});return}let r=t().lastZIndex+1;e(e=>{let t=e.elements.map(e=>e.id===n?{...e,zIndex:r}:e);return{elements:tB(t),lastZIndex:r}})},sendToBack:n=>{let r=t().elements.find(e=>e.id===n);if(!r||r.type===`background-photo`)return;let i=t().elements.filter(e=>e.type!==`background-photo`&&!Jz(e)).map(e=>Number.isFinite(e?.zIndex)?e.zIndex:1),a=i.length>0?Math.min(...i):1;mL+1;let o=Math.max(-3999,a-1);e(e=>{let t=e.elements.map(e=>e.id===n?{...e,zIndex:o}:e);return{elements:tB(t),lastZIndex:Math.max(e.lastZIndex,o)}})},bringForward:n=>{let r=t().elements.find(e=>e.id===n);if(r?.type===`background-photo`)return;let i=t().elements.filter(e=>e.type!==`background-photo`&&!Jz(e)).sort((e,t)=>{let n=Number.isFinite(e.zIndex)?e.zIndex:1,r=Number.isFinite(t.zIndex)?t.zIndex:1;return n-r}),a=i.findIndex(e=>e.id===n);if(a===-1||a===i.length-1)return;let o=i[a+1],s=Number.isFinite(r.zIndex)?r.zIndex:1,c=Number.isFinite(o.zIndex)?o.zIndex:1;e(e=>{let t=e.elements.map(e=>e.id===n?{...e,zIndex:c}:e.id===o.id?{...e,zIndex:s}:e);return{elements:tB(t)}})},sendBackward:n=>{let r=t().elements.find(e=>e.id===n);if(r?.type===`background-photo`)return;let i=t().elements.filter(e=>e.type!==`background-photo`&&!Jz(e)).sort((e,t)=>{let n=Number.isFinite(e.zIndex)?e.zIndex:1,r=Number.isFinite(t.zIndex)?t.zIndex:1;return n-r}),a=i.findIndex(e=>e.id===n);if(a===-1||a===0)return;let o=i[a-1],s=Number.isFinite(r.zIndex)?r.zIndex:1,c=Number.isFinite(o.zIndex)?o.zIndex:1;e(e=>{let t=e.elements.map(e=>e.id===n?{...e,zIndex:c}:e.id===o.id?{...e,zIndex:s}:e);return{elements:tB(t)}})},setCanvasBackground:t=>{e({canvasBackground:t,selectedElementId:`background`})},setElements:t=>{let n=tB(t),r=n.reduce((e,t)=>{if(!t||t.type===`background-photo`||t.type===`photo`)return e;let n=Number.isFinite(t?.zIndex)?t.zIndex:e;return n>e?n:e},1);e({elements:n,lastZIndex:r})},clearSelection:()=>e({selectedElementId:null}),reset:()=>e({elements:[],selectedElementId:null,canvasBackground:Nz,lastZIndex:1})})),rB=e=>Symbol.iterator in e,iB=e=>`entries`in e,aB=(e,t)=>{let n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(let[e,t]of n)if(!r.has(e)||!Object.is(t,r.get(e)))return!1;return!0},oB=(e,t)=>{let n=e[Symbol.iterator](),r=t[Symbol.iterator](),i=n.next(),a=r.next();for(;!i.done&&!a.done;){if(!Object.is(i.value,a.value))return!1;i=n.next(),a=r.next()}return!!i.done&&!!a.done};function sB(e,t){return Object.is(e,t)?!0:typeof e!=`object`||!e||typeof t!=`object`||!t||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:rB(e)&&rB(t)?iB(e)&&iB(t)?aB(e,t):oB(e,t):aB({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function cB(e){let t=b.useRef(void 0);return n=>{let r=e(n);return sB(t.current,r)?t.current:t.current=r}}var lB=u(_L()),uB={hidden:{opacity:0,y:16},visible:{opacity:1,y:0}},dB={saveError:`Gagal menyimpan draft. Coba lagi.`,pasteSuccess:`Gambar ditempel ke kanvas.`,pasteError:`Gagal menempel gambar. Pastikan clipboard berisi gambar.`,deleteSuccess:`Elemen dihapus dari kanvas.`},fB=(e,t=0)=>{if(typeof e==`number`&&Number.isFinite(e))return e;if(typeof e==`string`){let t=Number.parseFloat(e);if(Number.isFinite(t))return t}return t},pB=(e,{timeoutMs:t=8e3,crossOrigin:n=`anonymous`}={})=>new Promise((r,i)=>{if(typeof e!=`string`||e.length===0){i(Error(`Invalid image source`));return}let a=e.startsWith(`data:`),o=e.startsWith(`blob:`),s=/^https?:/i.test(e),c=e.startsWith(`/`)||e.startsWith(`./`)||e.startsWith(`../`);if(!a&&!o&&!s&&!c){i(Error(`Unsupported image source format: ${e.slice(0,32)}...`));return}let l=new Image,u=null,d=()=>{u!==null&&clearTimeout(u),l.onload=null,l.onerror=null};(s||c)&&(l.crossOrigin=n),l.onload=()=>{d(),r(l)},l.onerror=e=>{d(),i(e instanceof Error?e:Error(`Failed to load image`))},Number.isFinite(t)&&t>0&&(u=setTimeout(()=>{d(),i(Error(`Image load timed out after ${t}ms`))},t)),l.decoding=`async`,l.src=e}),mB=(e,{timeoutMs:t=1e4,timeoutMessage:n,onTimeout:r}={})=>!Number.isFinite(t)||t<=0?e:new Promise((i,a)=>{let o=!1,s=setTimeout(()=>{if(o)return;o=!0;try{r?.()}catch(e){console.warn(` withTimeout onTimeout handler failed:`,e)}let e=Error(n||`Operation timed out after ${t}ms`);e.name=`TimeoutError`,a(e)},t);e.then(e=>{o||(o=!0,clearTimeout(s),i(e))}).catch(e=>{o||(o=!0,clearTimeout(s),a(e))})}),hB=(e,t=2e4)=>{if(!Number.isFinite(e)||e<=0)return t;let n=e/(1024*1024),r=Math.max(0,Math.ceil(Math.max(0,n-1))*8e3),i=t+r;return Math.min(Math.max(t,i),9e4)},gB=e=>{if(e)try{e.setAttribute(`data-export-clone`,`true`),e.querySelectorAll(`[data-export-ignore]`).forEach(e=>e.remove()),e.querySelectorAll(`.react-rnd-handle, .creator-resize-wrapper`).forEach(e=>e.remove()),e.querySelectorAll(`.creator-element--type-photo`).forEach(e=>{e.style.background=`transparent`,e.style.backgroundColor=`transparent`,e.style.boxShadow=`none`,e.style.color=`transparent`,e.style.textShadow=`none`,e.style.fontSize=`0px`,e.style.filter=`none`,e.style.mixBlendMode=`normal`,Array.from(e.children||[]).forEach(t=>e.removeChild(t))});let t=Array.from(e.querySelectorAll(`.creator-element`));if(t.length>0){let e=t[0].parentNode,n=t.sort((e,t)=>{let n=Number.parseFloat(e.getAttribute(`data-element-zindex`))||Number.parseFloat(e.style.zIndex)||0,r=Number.parseFloat(t.getAttribute(`data-element-zindex`))||Number.parseFloat(t.style.zIndex)||0;return n-r});n.forEach(e=>e.remove()),n.forEach(t=>{let n=t.getAttribute(`data-element-zindex`);n&&Number.isFinite(Number.parseFloat(n))&&(t.style.zIndex=n),e.appendChild(t)}),console.log(` [prepareCanvasExportClone] DOM reordered by z-index:`,n.map(e=>({type:e.className.match(/creator-element--type-(\w+)/)?.[1],zIndex:e.style.zIndex,dataZIndex:e.getAttribute(`data-element-zindex`)})))}}catch(e){console.error(` [prepareCanvasExportClone] Error during clone preparation:`,e)}},_B=(e=[])=>{if(!Array.isArray(e)||e.length===0)return e;let t=!1,n=e.map(e=>{if(!e||typeof e!=`object`||e.type===`background-photo`||Number.isFinite(e.zIndex))return e;let n=mL+1,r=1;(e.type===`photo`||e.type===`upload`)&&(r=0);let i=r;return i<n&&(i=n),t=!0,{...e,zIndex:i}});return t?n:e},vB=(e,t)=>typeof crypto<`u`&&typeof crypto.randomUUID==`function`?crypto.randomUUID():`captured-overlay-${e||`slot`}-${t}-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,yB=e=>(Number.isFinite(e?.zIndex)?e.zIndex:1)+hL,bB=(e,t,n)=>{let r=vB(e?.id,n),i=yB(e);return{id:r,type:`upload`,x:e?.x??0,y:e?.y??0,width:e?.width??0,height:e?.height??0,rotation:e?.rotation??0,zIndex:i,isLocked:!0,data:{image:t,objectFit:`cover`,borderRadius:e?.data?.borderRadius??0,stroke:null,strokeWidth:0,label:`Foto ${n+1}`,__capturedOverlay:!0,__sourcePlaceholderId:e?.id??null,__photoIndex:n}}},xB=(e=[])=>{if(!Array.isArray(e)||e.length===0)return e;let t=X.getJSON(`capturedPhotos`);if(!Array.isArray(t)||t.length===0)return e.filter(e=>!e?.data?.__capturedOverlay);let n=e.filter(e=>!e?.data?.__capturedOverlay),r=n.filter(e=>e?.type===`photo`);if(!r.length)return n;let i=[];if(r.forEach((e,n)=>{let r=n,a=t[r];if(typeof a!=`string`||!a.startsWith(`data:`))return;let o=bB(e,a,r);console.log(` [injectCapturedPhotoOverlays] Creating overlay ${r} with z-index:`,o.zIndex),i.push(o)}),!i.length)return n;let a=new Map;i.forEach(e=>{let t=e?.data?.__sourcePlaceholderId;t&&a.set(t,e)});let o=[];return n.forEach(e=>{e?.type===`photo`&&e.id&&a.has(e.id)?(o.push(a.get(e.id)),o.push(e),a.delete(e.id)):o.push(e)}),a.forEach(e=>o.push(e)),console.log(` [injectCapturedPhotoOverlays] Final result:`,{totalElements:o.length,overlaysAdded:i.length,zIndexes:o.map(e=>({type:e.type,zIndex:e.zIndex,isOverlay:e?.data?.__capturedOverlay}))}),o};function SB(){console.log(`[Create] Component rendering...`);let e=(0,b.useRef)(null),t=(0,b.useRef)(`upload`),n=(0,b.useRef)(null),[r,i]=(0,b.useState)(!1),[a,o]=(0,b.useState)(null),[s,c]=(0,b.useState)(!1),[l,u]=(0,b.useState)(null),[d,f]=(0,b.useState)(!1),[p,m]=(0,b.useState)(`#667eea`),[h,g]=(0,b.useState)(`#764ba2`),[_,v]=(0,b.useState)(`9:16`),[y,x]=(0,b.useState)(null),[S,C]=(0,b.useState)(!1),[T,E]=(0,b.useState)(!1),D=(0,b.useRef)(null),[O,k]=(0,b.useState)({maxWidth:280,maxHeight:500}),A=(0,b.useRef)(!1),j=(0,b.useRef)(!1),M=(0,b.useRef)(null),N=Le(),ee=Be(),P=(0,b.useCallback)((e,t,r=3200)=>{n.current&&clearTimeout(n.current),o({type:e,message:t}),n.current=setTimeout(()=>{o(null),n.current=null},r)},[]),{elements:F,selectedElementId:I,canvasBackground:te,addElement:ne,addUploadElement:re,addBackgroundPhoto:ie,updateElement:L,selectElement:R,setCanvasBackground:ae,removeElement:oe,duplicateElement:se,toggleLock:ce,resizeUploadImage:le,bringToFront:ue,sendToBack:de,bringForward:fe,sendBackward:pe,clearSelection:me,fitBackgroundPhotoToCanvas:he,setElements:ge}=nB(cB(e=>({elements:e.elements,selectedElementId:e.selectedElementId,canvasBackground:e.canvasBackground,addElement:e.addElement,addUploadElement:e.addUploadElement,addBackgroundPhoto:e.addBackgroundPhoto,updateElement:e.updateElement,selectElement:e.selectElement,setCanvasBackground:e.setCanvasBackground,removeElement:e.removeElement,duplicateElement:e.duplicateElement,toggleLock:e.toggleLock,resizeUploadImage:e.resizeUploadImage,bringToFront:e.bringToFront,sendToBack:e.sendToBack,bringForward:e.bringForward,sendBackward:e.sendBackward,clearSelection:e.clearSelection,fitBackgroundPhotoToCanvas:e.fitBackgroundPhotoToCanvas,setElements:e.setElements}))),_e=(0,b.useMemo)(()=>I===`background`?`background`:F.find(e=>e.id===I)||null,[F,I]);(0,b.useEffect)(()=>{if(qF(),j.current){console.log(` [useEffect] Skipping overlay injection - draft is loading`);return}let e=X.getJSON(`capturedPhotos`),t=Array.isArray(e)&&e.length>0,n=F.some(e=>e?.data?.__capturedOverlay);if(t&&!n){let e=xB(F);e.length!==F.length&&ge(e);return}if(!t&&n){let e=F.filter(e=>!e?.data?.__capturedOverlay);e.length!==F.length&&ge(e)}},[F,ge]),(0,b.useEffect)(()=>{if(!s){u(null);return}I||u(null)},[s,I]);let z=(0,b.useMemo)(()=>F.find(e=>e.type===`background-photo`)||null,[F]),ve=_e&&_e!==`background`?_e:null,ye=_e===`background`,be=s&&(ye||!!ve);(0,b.useEffect)(()=>{if(!s)return;let e=e=>{let t=D.current?.querySelector(`#creator-canvas`),n=document.querySelector(`.create-mobile-toolbar`),r=document.querySelector(`.create-mobile-property-panel`),i=e.target,a=t?.contains(i),o=n?.contains(i),s=r?.contains(i);!a&&!o&&!s&&(me(),u(null))};return document.addEventListener(`pointerdown`,e),()=>document.removeEventListener(`pointerdown`,e)},[s,me]);let xe=(0,b.useMemo)(()=>{if(!be)return[];if(ye)return[{id:`background-color`,label:`Warna`,icon:bN},{id:`background-photo`,label:z?`Foto`:`Tambah Foto`,icon:cN}];if(!ve)return[];switch(ve.type){case`text`:return[{id:`text-edit`,label:`Edit`,icon:IN},{id:`text-font`,label:`Font`,icon:IN},{id:`text-color`,label:`Warna`,icon:bN},{id:`text-size`,label:`Ukuran`,icon:gN},{id:`text-align`,label:`Rata`,icon:FM},{id:`layer-order`,label:`Lapisan`,icon:uN}];case`shape`:return[{id:`shape-color`,label:`Warna`,icon:bN},{id:`shape-size`,label:`Ukuran`,icon:gN},{id:`shape-radius`,label:`Sudut`,icon:QM},{id:`shape-outline`,label:`Outline`,icon:MN},{id:`layer-order`,label:`Lapisan`,icon:uN}];case`photo`:return[{id:`photo-color`,label:`Warna`,icon:bN},{id:`photo-fit`,label:`Gaya`,icon:DN},{id:`photo-size`,label:`Ukuran`,icon:gN},{id:`photo-radius`,label:`Sudut`,icon:QM},{id:`photo-outline`,label:`Outline`,icon:MN},{id:`layer-order`,label:`Lapisan`,icon:uN}];case`upload`:return[{id:`photo-color`,label:`Warna`,icon:bN},{id:`photo-fit`,label:`Gaya`,icon:DN},{id:`photo-size`,label:`Ukuran`,icon:gN},{id:`photo-radius`,label:`Sudut`,icon:QM},{id:`upload-outline`,label:`Outline`,icon:MN},{id:`layer-order`,label:`Lapisan`,icon:uN}];case`background-photo`:return[{id:`bg-photo-fit`,label:`Gaya`,icon:DN},{id:`bg-photo-size`,label:`Ukuran`,icon:gN},{id:`bg-photo-manage`,label:`Foto`,icon:cN}];default:return[]}},[be,ye,z,ve]);(0,b.useEffect)(()=>{if(l){if(!be){u(null);return}new Set(xe.map(e=>e.id)).has(l)||u(null)}},[l,be,xe]);let Se=(0,b.useCallback)(e=>new Promise(t=>{let n=new Image;n.onload=()=>{t({width:n.naturalWidth,height:n.naturalHeight,aspectRatio:n.naturalWidth>0&&n.naturalHeight>0?n.naturalWidth/n.naturalHeight:void 0})},n.onerror=()=>t({}),n.decoding=`async`,n.src=e}),[]),Ce=(0,b.useCallback)(e=>{let t={width:XI,height:ZI};if(console.log(` [getCanvasDimensions] Input ratio:`,e),typeof e!=`string`)return console.log(`   Not a string, returning default`),t;let[n,r]=e.split(`:`).map(Number),i=Number.isFinite(n)&&n>0?n:null,a=Number.isFinite(r)&&r>0?r:null;if(console.log(`  Parsed:`,{rawWidth:n,rawHeight:r,ratioWidth:i,ratioHeight:a}),!i||!a)return console.log(`   Invalid ratio parts, returning default`),t;if(a>=i){let e={width:XI,height:Math.round(XI*a/i)};return console.log(`   Portrait/Square mode (H>=W):`,e),e}let o={width:Math.round(ZI*i/a),height:ZI};return console.log(`   Landscape mode (W>H):`,o),o},[]),we=(0,b.useCallback)(e=>{if(!e)return`9:16`;if(typeof e.aspectRatio==`string`&&e.aspectRatio.includes(`:`))return e.aspectRatio;let t=Number(e.canvasWidth),n=Number(e.canvasHeight);if(!Number.isFinite(t)||!Number.isFinite(n)||t<=0||n<=0)return`9:16`;let r=e=>Math.round(Number(e)),i=(e,t)=>{let n=Math.abs(e),r=Math.abs(t);for(;r;){let e=r;r=n%r,n=e}return n||1},a=Math.max(1,r(t)),o=Math.max(1,r(n)),s=i(a,o),c=Math.max(1,Math.round(a/s)),l=Math.max(1,Math.round(o/s));return`${c}:${l}`},[]),B=(0,b.useCallback)((e,t,n,r,i)=>{if(!Array.isArray(e))return[];if(!Number.isFinite(t)||!Number.isFinite(n)||t<=0||n<=0||!Number.isFinite(r)||!Number.isFinite(i)||r<=0||i<=0)return e;let a=r/t,o=i/n;if(Math.abs(a-1)<.001&&Math.abs(o-1)<.001)return e;let s=(a+o)/2;return e.map(e=>{if(!e||typeof e!=`object`)return e;let t={...e};if(typeof t.x==`number`&&(t.x=Math.round(t.x*a)),typeof t.y==`number`&&(t.y=Math.round(t.y*o)),typeof t.width==`number`&&(t.width=Math.round(t.width*a)),typeof t.height==`number`&&(t.height=Math.round(t.height*o)),t?.data&&typeof t.data==`object`){let e={...t.data};typeof e.borderRadius==`number`&&(e.borderRadius=Math.max(0,Math.round(e.borderRadius*s))),typeof e.strokeWidth==`number`&&(e.strokeWidth=Math.max(0,Math.round(e.strokeWidth*s))),typeof e.fontSize==`number`&&(e.fontSize=Math.max(1,Math.round(e.fontSize*o))),typeof e.lineHeight==`number`&&(e.lineHeight=Math.max(.1,e.lineHeight*o)),typeof e.letterSpacing==`number`&&(e.letterSpacing*=a),typeof e.outlineWidth==`number`&&(e.outlineWidth=Math.max(0,Math.round(e.outlineWidth*s))),t.data=e}return t})},[]),Te=(0,b.useCallback)(async(e,{notify:t=!0}={})=>{if(console.log(` [loadDraftIntoEditor] STARTED with draftId:`,e),!e)return console.log(` [loadDraftIntoEditor] No draftId provided`),!1;j.current=!0,console.log(` [loadDraftIntoEditor] Set loading flag to TRUE`);let n=await YI.getDraftById(e);if(console.log(` [loadDraftIntoEditor] Draft from storage:`,{found:!!n,id:n?.id,elementsCount:n?.elements?.length,hasPreview:!!n?.preview,hasCapturedPhotos:n?.capturedPhotos?.length||0}),!n)return t&&P(`error`,`Draft tidak ditemukan.`),j.current=!1,!1;Array.isArray(n.capturedPhotos)&&n.capturedPhotos.length>0?(console.log(` [loadDraftIntoEditor] Restoring captured photos:`,n.capturedPhotos.length),X.setJSON(`capturedPhotos`,n.capturedPhotos)):(console.log(` [loadDraftIntoEditor] No captured photos to restore`),X.removeItem(`capturedPhotos`));let r=Array.isArray(n.elements)?typeof structuredClone==`function`?structuredClone(n.elements):JSON.parse(JSON.stringify(n.elements)):[];console.log(` [loadDraftIntoEditor] Cloned elements:`,r.length),r=r.map(e=>e?.type===`background-photo`?{...e,zIndex:0}:e),console.log(` [loadDraftIntoEditor] Cloned elements (WITHOUT adding frame artwork separately):`,{count:r.length,types:r.map(e=>e.type)});let i=we(n),a=Ce(i),o=Number(n.canvasWidth)||a.width,s=Number(n.canvasHeight)||a.height,c=B(r,o,s,a.width,a.height),l=Array.isArray(c)?c.filter(e=>e?.type!==`transparent-area`):[],d=_B(l);console.log(` [loadDraftIntoEditor] Using normalized elements WITHOUT overlay injection:`,{elementsCount:d.length,types:d.map(e=>({type:e.type,zIndex:e.zIndex}))});let f=d;console.log(` [loadDraftIntoEditor] Setting elements:`,{normalizedCount:d.length,runtimeCount:f.length,aspectRatio:i,detailedElements:f.map(e=>({id:e.id?.slice(0,8),type:e.type,x:e.x,y:e.y,width:e.width,height:e.height,zIndex:e.zIndex,hasImage:!!e.data?.image,text:e.data?.text}))}),v(i),ge(f),n.canvasBackground&&ae(n.canvasBackground),x(n.id),me(),u(null);let p=n.signature||dL(d,n.canvasBackground,i);return pS.setItem(`activeDraftId`,n.id),p&&pS.setItem(`activeDraftSignature`,p),A.current=!0,M.current&&clearTimeout(M.current),M.current=setTimeout(()=>{j.current=!1,M.current=null,console.log(` [loadDraftIntoEditor] Cleared loading flag`)},100),t&&P(`success`,`Draft dimuat. Lanjutkan edit sesuai kebutuhan.`),!0},[me,we,Ce,B,x,u,v,ae,ge,P]);(0,b.useEffect)(()=>{let e=N.state?.draftId,t=!!e;console.log(` [Create useEffect] Navigation detected:`,{hasDraftId:!!e,draftId:e,comeFromDraftsPage:t,pathname:N.pathname,state:N.state}),t?(console.log(` [Create] Loading draft from Drafts page:`,e),A.current=!1,Te(e,{notify:!0}).then(e=>{console.log(` [Create] loadDraftIntoEditor result:`,e)}).catch(e=>{console.error(` [Create] Failed to load draft:`,e)}),ee(N.pathname,{replace:!0,state:null})):A.current||=(console.log(` [Create] First time entry - resetting canvas`),ge([]),ae(`#f7f1ed`),v(`9:16`),x(null),me(),pS.removeItem(`activeDraftId`),pS.removeItem(`activeDraftSignature`),pS.removeItem(`capturedPhotos`),pS.removeItem(`draftFrameArtwork`),!0)},[N.state?.draftId]),(0,b.useEffect)(()=>{if(A.current)return;let e=pS.getItem(`activeDraftId`);e&&Te(e,{notify:!1}).then(async t=>{if(t){let t=pS.getItem(`activeDraftSignature`),n=await YI.getDraftById(e);t&&n?.signature&&t!==n.signature&&X.setItem(`activeDraftSignature`,n.signature)}}).catch(e=>{console.error(` [Create] Failed to load stored draft:`,e)})},[Te]),(0,b.useEffect)(()=>{if(z&&!z.data?.imageAspectRatio){let{width:e,height:t}=Ce(_),n=z.width>0&&z.height>0?z.width/z.height:e/t;L(z.id,{data:{imageAspectRatio:n}})}},[z,L,_,Ce]),(0,b.useEffect)(()=>()=>{n.current&&clearTimeout(n.current),M.current&&(clearTimeout(M.current),j.current=!1)},[]);let Ee=(0,b.useCallback)(()=>{t.current=`upload`,e.current&&(e.current.value=``,e.current.click())},[]),De=(0,b.useCallback)(()=>{t.current=`background`,e.current&&(e.current.value=``,e.current.click())},[]),Oe=e=>{let n=e.target.files?.[0];if(!n)return;let r=new FileReader;r.onload=async()=>{let e=r.result;if(typeof e==`string`)if(t.current===`background`){let t=await Se(e),{width:n,height:r}=Ce(_);ie(e,{...t,canvasWidth:n,canvasHeight:r}),P(`success`,`Background foto diperbarui.`,2200)}else re(e)},r.readAsDataURL(n)},ke=async()=>{if(r)return;let e=document.getElementById(`creator-canvas`);if(!e)return;let t=null;i(!0);try{let{width:n,height:r}=Ce(_);console.log(` [SAVE DRAFT DEBUG]`),console.log(`  canvasAspectRatio state:`,_),console.log(`  Calculated dimensions:`,{canvasWidth:n,canvasHeight:r}),console.log(`  Calculated aspect ratio:`,n/r),console.log(`  Expected for 9:16:`,9/16,`=`,1080/1920);let i=document.createElement(`div`);Object.assign(i.style,{position:`fixed`,top:`-10000px`,left:`-10000px`,width:`${n}px`,height:`${r}px`,overflow:`hidden`,pointerEvents:`none`,opacity:`0`,zIndex:`-1`});let a=e.cloneNode(!0);a.id=`creator-canvas-export`,Object.assign(a.style,{transform:`none`,transformOrigin:`top left`,position:`relative`,top:`0`,left:`0`,width:`${n}px`,height:`${r}px`,margin:`0`,boxShadow:`none`}),i.appendChild(a),document.body.appendChild(i),gB(a),t=()=>{i.parentNode&&i.parentNode.removeChild(i)},console.log(` [html2canvas] Starting capture with scale:`,1);let o=Date.now(),s=(0,lB.default)(a,{backgroundColor:null,useCORS:!0,scale:1,width:n,height:r,windowWidth:n,windowHeight:r,scrollX:0,scrollY:0,allowTaint:!0,logging:!1,ignoreElements:e=>e?!!(e.nodeType===Node.ELEMENT_NODE&&(e.classList?.contains(`creator-element--captured-overlay`)||e.getAttribute?.(`data-export-ignore`)===`true`||e.closest?.(`[data-export-ignore="true"]`))):!1}),c=null;try{c=await mB(s,{timeoutMs:2e4,timeoutMessage:`Rendering canvas took too long`,onTimeout:()=>console.warn(` html2canvas timed out while saving draft`)});let e=Date.now()-o;console.log(` [html2canvas] Capture completed in ${e}ms`)}catch(e){let t=Date.now()-o;console.warn(` html2canvas failed after ${t}ms:`,e)}c&&console.log(` [html2canvas result]`,{width:c.width,height:c.height});let l=document.createElement(`canvas`);l.width=c?.width??Math.round(n*1),l.height=c?.height??Math.round(r*1);let u=l.getContext(`2d`,{alpha:!0});if(u){let e=F.filter(e=>e.type===`photo`),t=[];e.forEach((e,n)=>{let r=Number(e?.x)||0,i=Number(e?.y)||0,a=Number(e?.width)||0,o=Number(e?.height)||0;if(a<=0||o<=0)return;let s=Number(e?.data?.photoIndex),c=Number.isFinite(s)?s:n;t.push({elementId:e?.id??null,placeholderIndex:n,photoIndex:c,x:r*1,y:i*1,width:a*1,height:o*1,centerX:(r+a/2)*1,centerY:(i+o/2)*1,borderRadius:fB(e?.data?.borderRadius)*1,rotationRadians:(Number(e?.rotation)||0)*Math.PI/180})});let n=te||`#ffffff`;if(n.startsWith(`linear-gradient`)||n.startsWith(`radial-gradient`)){let e=n.match(/(linear|radial)-gradient\((.*)\)/);if(e){let[,t,n]=e,r=n.match(/#[0-9A-Fa-f]{6}|#[0-9A-Fa-f]{3}|rgba?\([^)]+\)/g)||[],i;if(t===`linear`)i=u.createLinearGradient(0,0,l.width,l.height);else{let e=l.width/2,t=l.height/2,n=Math.max(l.width,l.height)/2;i=u.createRadialGradient(e,t,0,e,t,n)}r.length>=2&&(i.addColorStop(0,r[0]),i.addColorStop(1,r[r.length-1]),r.length>2&&r.slice(1,-1).forEach((e,t)=>{i.addColorStop((t+1)/(r.length-1),e)})),u.fillStyle=i}else u.fillStyle=`#ffffff`}else u.fillStyle=n;u.fillRect(0,0,l.width,l.height),c&&u.drawImage(c,0,0),console.log(` [Preview] Generated without carving (preserves layering for custom frames)`)}let d=l;if(d.width>400){let e=400/d.width,t=document.createElement(`canvas`);t.width=Math.max(1,Math.round(d.width*e)),t.height=Math.max(1,Math.round(d.height*e));let n=t.getContext(`2d`);n&&(n.imageSmoothingEnabled=!0,n.imageSmoothingQuality=`medium`,n.drawImage(d,0,0,t.width,t.height),d=t)}console.log(` [Preview canvas after scaling]`,{width:d.width,height:d.height});let f=``;try{f=d.toDataURL(`image/jpeg`,.5);let e=Math.round(f.length/1024);console.log(` [Preview compressed]`,{format:`JPEG`,quality:.5,sizeKB:e,purpose:`thumbnail only`})}catch(e){console.warn(` JPEG preview error, trying lower quality`,e);try{f=d.toDataURL(`image/jpeg`,.4)}catch(e){console.error(` Failed to generate preview:`,e);let t=document.createElement(`canvas`);t.width=1,t.height=1,f=t.toDataURL(`image/jpeg`,.5)}}if(!f||!f.startsWith(`data:image`)){let e=document.createElement(`canvas`);e.width=1,e.height=1,f=e.toDataURL(`image/jpeg`,.5),console.warn(` Using emergency 1x1 preview fallback`)}let p=typeof structuredClone==`function`?structuredClone(F):JSON.parse(JSON.stringify(F));console.log(` [SAVE DEBUG] serializedElements z-index info:`,p.map(e=>({type:e.type,id:e.id?.slice(0,8),zIndex:e.zIndex,isOverlay:e?.data?.__capturedOverlay})));let m=p.filter(e=>e?.type!==`transparent-area`&&!e?.data?.__capturedOverlay);console.log(` [SAVING DRAFT] Elements breakdown:`,{total:p.length,cleaned:m.length,types:m.map(e=>({type:e.type,zIndex:e.zIndex,hasImage:!!e.data?.image}))});let h=m.map(e=>{if(!e||typeof e!=`object`)return e;if(e.type===`photo`)return Number.isFinite(e.zIndex)?e.zIndex<0?(console.warn(` Photo slot z-index ${e.zIndex} is below minimum, setting to 0`),{...e,zIndex:0}):e:{...e,zIndex:0};if(e.type===`background-photo`){let t=mL;return e.zIndex===t?e:{...e,zIndex:t}}return e});console.log(` [SAVE DEBUG] Final layeredElements z-index info:`,h.map(e=>({type:e.type,id:e.id?.slice(0,8),zIndex:e.zIndex}))),console.log(` [Compression] Starting image compression for elements:`,h.length);let g=Date.now(),v=await Promise.all(h.map(async e=>{let t=e?.data?.image;if(!(typeof t==`string`&&(e.type===`background-photo`||e.type===`upload`)))return e;try{let n=e.type===`background-photo`?8e3:6e3,r=await pB(t,{timeoutMs:n});if(!r||!Number.isFinite(r.width)||!Number.isFinite(r.height))throw Error(`Invalid image dimensions`);let i=e.type===`background-photo`?600:480,a=e.type===`background-photo`?.6:.7,o=r.width,s=r.height;if(o>i){let e=i/o;o=i,s=Math.max(1,Math.round(s*e))}let c=document.createElement(`canvas`);c.width=Math.max(1,Math.round(o)),c.height=Math.max(1,Math.round(s));let l=c.getContext(`2d`,{alpha:!0});if(!l)throw Error(`Failed to acquire 2D context`);l.drawImage(r,0,0,c.width,c.height);let u=t.startsWith(`data:image/png`),d;return u?(d=c.toDataURL(`image/png`),console.log(` Keeping PNG format for transparency:`,{type:e.type,format:`PNG`,original:t.length,compressed:d.length})):(d=c.toDataURL(`image/jpeg`,a),console.log(` Compressed image:`,{type:e.type,format:`JPEG`,original:t.length,compressed:d.length,saved:t.length-d.length,reductionPercent:Math.round((t.length-d.length)/t.length*100)+`%`})),{...e,data:{...e.data,image:d,originalImage:void 0}}}catch(t){return console.warn(` Failed to compress ${e.type} image, using original:`,t),e}})),b=Date.now()-g;console.log(` [Compression] Completed in ${b}ms`);let S=dL(v,te,_);console.log(` [SAVING DRAFT] Final data being saved:`,{canvasWidth:n,canvasHeight:r,aspectRatio:_,"Calculated ratio":n/r,"Expected 9:16":9/16,"Match?":Math.abs(n/r-9/16)<.001});let T=X.getJSON(`capturedPhotos`),E=Array.isArray(T)?T.length:0;E>0&&console.log(` [SAVING DRAFT] Detected captured photos in storage but skipping persist to keep drafts lean:`,{capturedPhotosCount:E});let D={id:y||void 0,canvasBackground:te,canvasWidth:n,canvasHeight:r,aspectRatio:_,elements:v,preview:f,signature:S,capturedPhotos:void 0},O=JSON.stringify(D),k=Math.round(O.length/1024),A=(O.length/1024/1024).toFixed(2);console.log(` [SAVE SIZE] Draft size before save:`,{bytes:O.length,kilobytes:k+` KB`,megabytes:A+` MB`,elementsCount:v.length,backgroundPhotoCount:v.filter(e=>e.type===`background-photo`).length,uploadCount:v.filter(e=>e.type===`upload`).length});try{let{default:e}=await w(async()=>{let{default:e}=await import(`./indexedDBStorage-CZr3s5ag.js`);return{default:e}},[]),t=await e.getStorageEstimate();console.log(` [STORAGE] IndexedDB usage:`,{usageMB:(t.usage/1024/1024).toFixed(2)+` MB`,quotaMB:(t.quota/1024/1024).toFixed(2)+` MB`,percentage:t.percentage+`%`,newDraftSizeMB:A+` MB`})}catch(e){console.warn(` Could not check storage usage:`,e)}console.log(` [DRAFT SAVE] Starting save operation...`);let j=Date.now(),M=YI.saveDraft(D),N=hB(O.length),ee=Math.round(N/1e3);console.log(` [DRAFT SAVE] Timeout budget:`,{bytes:O.length,approxMB:A,primaryTimeoutMs:N,primaryTimeoutSeconds:ee});let I=async(e,t,n)=>{let r=Math.round(t/1e3);return mB(e,{timeoutMs:t,timeoutMessage:`Menyimpan draft melebihi batas waktu (${n}, ${r}s)`,onTimeout:()=>console.warn(` Draft save timed out (${n}, ${r}s)`)})},ne;try{ne=await I(M,N,`utama`);let e=Date.now()-j;console.log(` [DRAFT SAVE] Save completed in ${e}ms`)}catch(e){if(e?.name===`TimeoutError`){let e=Math.min(N+2e4,6e4),t=Math.round(e/1e3);console.warn(` [DRAFT SAVE] Primary timeout elapsed, retrying with extended budget`,{primaryTimeoutMs:N,extendedTimeoutMs:e,extendedSeconds:t}),ne=await I(M,e,`lanjutan`);let n=Date.now()-j;console.log(` [DRAFT SAVE] Save completed (extended) in ${n}ms`)}else throw e}console.log(` [DRAFT SAVED] Success! Draft ID:`,ne.id),console.log(` [DRAFT SAVED] Elements with preserved z-index:`,v.map(e=>({type:e.type,id:e.id?.slice(0,8),zIndex:e.zIndex}))),console.log(` [VERIFICATION] Reading draft from storage...`);let re=await YI.getDraftById(ne.id);re?console.log(` [VERIFICATION] Draft loaded from storage:`,{id:re.id,elementsCount:re.elements?.length,elementsZIndex:re.elements?.map(e=>({type:e.type,id:e.id?.slice(0,8),zIndex:e.zIndex}))}):console.error(` [VERIFICATION] Failed to load draft from storage!`),x(ne.id),C(!0);let ie=ne.title||`Draft`;P(`success`,`${ie} tersimpan! Lihat di Profile  Drafts.`)}catch(e){console.error(`Failed to save draft`,e);let t=e?.name===`TimeoutError`?`Proses menyimpan terlalu lama. Coba kurangi ukuran gambar atau ulangi beberapa saat lagi.`:e?.message&&/quota|persist/i.test(e.message)?`Penyimpanan penuh. Hapus draft lama terlebih dahulu.`:dB.saveError;P(`error`,t)}finally{try{t?.()}catch(e){console.warn(` Failed to clean up capture node`,e)}i(!1)}},Ae=e=>{if(e===`background`){if(T){P(`info`,`Background dikunci. Unlock untuk mengedit.`,2e3);return}R(`background`);return}if(e===`upload`){Ee();return}let t=ne(e);t&&R(t)},je=(0,b.useCallback)(()=>{E(e=>!e),P(`success`,T?`Background unlocked`:`Background locked`,1500)},[T,P]),Me=async()=>{if(!y){P(`error`,`Tidak ada draft aktif untuk digunakan.`);return}try{console.log(` [handleUseThisFrame] Looking for draft:`,y);let e=await YI.loadDrafts();console.log(` [handleUseThisFrame] All drafts in storage:`,e.map(e=>({id:e.id,title:e.title,hasElements:!!e.elements})));let t=await YI.getDraftById(y);if(!t){console.error(` [handleUseThisFrame] Draft not found!`,{searchedId:y,availableIds:e.map(e=>e.id)}),console.log(` [handleUseThisFrame] Attempting to save current canvas...`),P(`info`,`Draft hilang, menyimpan ulang...`);try{await ke(),console.log(` [handleUseThisFrame] After re-save, checking for draft:`,y);let e=await YI.getDraftById(y);if(!e)throw console.error(` [handleUseThisFrame] Draft STILL not found after re-save!`,{activeDraftId:y,allDraftsAfterSave:(await YI.loadDrafts()).map(e=>({id:e.id,title:e.title}))}),Error(`Draft tidak ditemukan setelah save ulang. Mungkin masalah storage.`);console.log(` [handleUseThisFrame] Draft successfully saved and loaded!`),t=e}catch(e){throw console.error(` [handleUseThisFrame] Save failed:`,e),Error(`Gagal menyimpan draft: ${e.message}`)}}console.log(` [handleUseThisFrame] Draft loaded:`,{id:t.id,title:t.title,hasElements:!!t.elements,elementsCount:t.elements?.length});let{activateDraftFrame:n}=await w(async()=>{let{activateDraftFrame:e}=await import(`./draftHelpers-DCCf10Pn.js`);return{activateDraftFrame:e}},[]),r=n(t);if(!r)throw Error(`Gagal membuat konfigurasi frame dari draft`);console.log(` [CREATE] Frame activated:`,r.id),ee(`/take-moment`)}catch(e){console.error(` Failed to activate frame:`,e),P(`error`,`Gagal menggunakan frame: ${e.message}`)}};(0,b.useEffect)(()=>{let e=()=>{De()};window.addEventListener(`creator:request-background-upload`,e);let t=e=>{let t=e.clipboardData;if(!t)return;let n=e.target;if(n&&(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement||n.isContentEditable))return;let r=(t.items?Array.from(t.items):[]).find(e=>e.type.startsWith(`image/`));if(!r)return;let i=r.getAsFile();if(!i)return;e.preventDefault();let a=new FileReader;a.onload=()=>{let e=a.result;typeof e==`string`?(re(e),P(`success`,dB.pasteSuccess)):P(`error`,dB.pasteError)},a.onerror=()=>{P(`error`,dB.pasteError)},a.readAsDataURL(i)};return window.addEventListener(`paste`,t),()=>{window.removeEventListener(`paste`,t),window.removeEventListener(`creator:request-background-upload`,e)}},[re,P,De]),(0,b.useEffect)(()=>{let e=e=>{if(e.defaultPrevented||e.key!==`Delete`&&e.key!==`Backspace`)return;let t=e.target;t&&(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement||t.isContentEditable)||!I||I===`background`||(e.preventDefault(),oe(I),P(`success`,dB.deleteSuccess,2200))};return window.addEventListener(`keydown`,e),()=>window.removeEventListener(`keydown`,e)},[I,oe,P]);let Ne=(0,b.useMemo)(()=>[{id:`canvas-size`,label:`Ukuran Canvas`,mobileLabel:`Ukuran`,icon:gN,onClick:()=>{f(!0),R(null)},isActive:d},{id:`background`,label:`Background`,mobileLabel:`Background`,icon:bN,onClick:()=>{f(!1),R(`background`),!z&&s&&De()},isActive:I===`background`||_e?.type===`background-photo`},{id:`photo`,label:`Area Foto`,mobileLabel:`Foto`,icon:cN,onClick:()=>{f(!1),Ae(`photo`)},isActive:_e?.type===`photo`},{id:`text`,label:`Add Text`,mobileLabel:`Teks`,icon:IN,onClick:()=>{f(!1),Ae(`text`)},isActive:_e?.type===`text`},{id:`shape`,label:`Shape`,mobileLabel:`Bentuk`,icon:kN,onClick:()=>{f(!1),Ae(`shape`)},isActive:_e?.type===`shape`},{id:`upload`,label:`Unggahan`,mobileLabel:`Unggah`,icon:ZM,onClick:()=>{f(!1),Ae(`upload`)},isActive:_e?.type===`upload`}],[Ae,R,_e?.type,I,z,De,s,d]);(0,b.useEffect)(()=>{if(typeof window>`u`)return;let e=window.matchMedia(`(max-width: 768px)`),t=e=>{c(e.matches)};return c(e.matches),typeof e.addEventListener==`function`?(e.addEventListener(`change`,t),()=>e.removeEventListener(`change`,t)):(e.addListener(t),()=>e.removeListener(t))},[]),(0,b.useEffect)(()=>{s||u(null)},[s]);let Pe=e=>{u(null),e.onClick()};(0,b.useLayoutEffect)(()=>{if(typeof window>`u`)return;let e=D.current;if(!e)return;let t=()=>{let{clientWidth:t,clientHeight:n}=e,r=Math.max(0,Math.floor(t-40)),i=Math.max(0,Math.floor(n-40));r>0&&i>0&&k({maxWidth:r,maxHeight:i})};if(requestAnimationFrame(()=>{t()}),typeof ResizeObserver<`u`){let n=new ResizeObserver(()=>t());return n.observe(e),()=>n.disconnect()}return window.addEventListener(`resize`,t),()=>window.removeEventListener(`resize`,t)},[s]);let Fe=(0,b.useCallback)((e,t)=>{if(!ve)return;let n=Number(t);if(!Number.isFinite(n))return;let r=Math.round(Math.max(40,n));L(ve.id,{[e]:r})},[ve,L]),Ie=e=>{switch(e){case`text-edit`:return`Edit Teks`;case`text-font`:return`Pilih Font`;case`text-color`:return`Warna Teks`;case`text-size`:return`Ukuran Teks`;case`text-align`:return`Perataan`;case`shape-color`:return`Warna Bentuk`;case`shape-size`:return`Ukuran Bentuk`;case`shape-radius`:return`Sudut Bentuk`;case`photo-color`:return`Warna`;case`photo-fit`:return`Gaya Foto`;case`photo-size`:return`Ukuran`;case`photo-radius`:return`Sudut`;case`shape-outline`:return`Outline Bentuk`;case`photo-outline`:return`Outline Foto`;case`upload-outline`:return`Outline Unggahan`;case`layer-order`:return`Atur Lapisan`;case`background-color`:return`Warna Latar`;case`background-photo`:return z?`Foto Latar`:`Tambah Foto`;case`bg-photo-fit`:return`Mode Foto`;case`bg-photo-size`:return`Ukuran Foto`;case`bg-photo-manage`:return`Kelola Foto`;default:return`Properti`}},Re=()=>{if(!be||!l)return null;let e=null,t=Ie(l);if(ye)if(l===`background-color`){let t=te?.startsWith(`linear-gradient`)||te?.startsWith(`radial-gradient`),n=t?`#ffffff`:te||`#ffffff`;e=(0,Z.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`12px`},children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,gap:`8px`,marginBottom:`8px`},children:[(0,Z.jsx)(`button`,{type:`button`,onClick:()=>ae(n),style:{flex:1,padding:`8px 12px`,borderRadius:`8px`,border:t?`1px solid #e2e8f0`:`2px solid #8B5CF6`,background:t?`#fff`:`#F3E8FF`,color:t?`#64748b`:`#8B5CF6`,fontSize:`13px`,fontWeight:600,cursor:`pointer`},children:`Solid`}),(0,Z.jsx)(`button`,{type:`button`,onClick:()=>ae(`linear-gradient(135deg, #667eea 0%, #764ba2 100%)`),style:{flex:1,padding:`8px 12px`,borderRadius:`8px`,border:t?`2px solid #8B5CF6`:`1px solid #e2e8f0`,background:t?`#F3E8FF`:`#fff`,color:t?`#8B5CF6`:`#64748b`,fontSize:`13px`,fontWeight:600,cursor:`pointer`},children:`Gradient`})]}),t?(0,Z.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`12px`},children:[(0,Z.jsx)(`div`,{style:{height:`80px`,borderRadius:`12px`,background:`linear-gradient(135deg, ${p} 0%, ${h} 100%)`,border:`2px solid #e2e8f0`,boxShadow:`0 4px 12px rgba(0,0,0,0.1)`}}),(0,Z.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`6px`},children:[(0,Z.jsx)(`div`,{style:{fontSize:`12px`,fontWeight:600,color:`#64748b`},children:`Warna Titik 1:`}),(0,Z.jsx)(Sz,{value:p,onChange:e=>{m(e),ae(`linear-gradient(135deg, ${e} 0%, ${h} 100%)`)}})]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`6px`},children:[(0,Z.jsx)(`div`,{style:{fontSize:`12px`,fontWeight:600,color:`#64748b`},children:`Warna Titik 2:`}),(0,Z.jsx)(Sz,{value:h,onChange:e=>{g(e),ae(`linear-gradient(135deg, ${p} 0%, ${e} 100%)`)}})]}),(0,Z.jsx)(`div`,{style:{fontSize:`12px`,fontWeight:600,color:`#475569`,marginTop:`4px`},children:`Quick Presets:`}),(0,Z.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(3, 1fr)`,gap:`6px`},children:[{name:`Purple`,c1:`#667eea`,c2:`#764ba2`},{name:`Ocean`,c1:`#667eea`,c2:`#0093E9`},{name:`Sunset`,c1:`#f093fb`,c2:`#f5576c`},{name:`Forest`,c1:`#11998e`,c2:`#38ef7d`},{name:`Pink`,c1:`#FA8BFF`,c2:`#2BD2FF`},{name:`Gold`,c1:`#FFB75E`,c2:`#ED8F03`}].map(e=>(0,Z.jsx)(`button`,{type:`button`,onClick:()=>{m(e.c1),g(e.c2),ae(`linear-gradient(135deg, ${e.c1} 0%, ${e.c2} 100%)`)},style:{padding:`20px 6px`,borderRadius:`6px`,border:`1px solid #e2e8f0`,background:`linear-gradient(135deg, ${e.c1} 0%, ${e.c2} 100%)`,cursor:`pointer`,position:`relative`,overflow:`hidden`},children:(0,Z.jsx)(`span`,{style:{position:`absolute`,bottom:`3px`,left:`50%`,transform:`translateX(-50%)`,fontSize:`9px`,fontWeight:700,color:`#fff`,textShadow:`0 1px 3px rgba(0,0,0,0.6)`,whiteSpace:`nowrap`},children:e.name})},e.name))})]}):(0,Z.jsx)(Sz,{value:n,onChange:e=>ae(e)})]})}else l===`background-photo`&&(e=(0,Z.jsxs)(`div`,{className:`create-mobile-property-panel__actions`,children:[(0,Z.jsx)(`button`,{type:`button`,onClick:()=>{De(),u(null)},className:`create-mobile-property-panel__action`,children:z?`Ganti foto background`:`Tambah foto background`}),z&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(`button`,{type:`button`,onClick:()=>{let{width:e,height:t}=Ce(_);he({canvasWidth:e,canvasHeight:t}),u(null)},className:`create-mobile-property-panel__action`,children:`Sesuaikan ke kanvas`}),(0,Z.jsx)(`button`,{type:`button`,onClick:()=>{oe(z.id),me(),u(null)},className:`create-mobile-property-panel__action create-mobile-property-panel__action--danger`,children:`Hapus foto background`})]})]}));else if(ve){let t=ve.data??{};switch(l){case`text-edit`:e=(0,Z.jsx)(`textarea`,{className:`create-mobile-property-panel__textarea`,rows:4,value:t.text??``,onChange:e=>L(ve.id,{data:{text:e.target.value}})});break;case`text-font`:e=(0,Z.jsx)(`div`,{className:`create-mobile-property-panel__actions`,children:[`Inter`,`Roboto`,`Lato`,`Open Sans`,`Montserrat`,`Poppins`,`Nunito Sans`,`Rubik`,`Work Sans`,`Source Sans Pro`,`Merriweather`,`Playfair Display`,`Libre Baskerville`,`Cormorant Garamond`,`Bitter`,`Raleway`,`Oswald`,`Bebas Neue`,`Anton`,`Pacifico`].map(e=>(0,Z.jsx)(`button`,{type:`button`,onClick:()=>{L(ve.id,{data:{fontFamily:e}})},className:`create-mobile-property-panel__action ${(t.fontFamily??`Inter`)===e?`create-mobile-property-panel__action--active`:``}`.trim(),style:{fontFamily:e},children:e},e))});break;case`text-color`:e=(0,Z.jsx)(Sz,{value:t.color??`#1F2933`,onChange:e=>L(ve.id,{data:{color:e}})});break;case`text-size`:{let n=t.fontSize??24;e=(0,Z.jsxs)(`div`,{className:`create-mobile-property-panel__slider`,children:[(0,Z.jsx)(`input`,{type:`range`,min:12,max:72,value:n,onChange:e=>L(ve.id,{data:{fontSize:Number(e.target.value)}})}),(0,Z.jsxs)(`div`,{className:`create-mobile-property-panel__value-label`,children:[n,`px`]})]});break}case`text-align`:e=(0,Z.jsx)(`div`,{className:`create-mobile-property-panel__button-group`,children:[{id:`left`,Icon:IM},{id:`center`,Icon:FM},{id:`right`,Icon:LM}].map(e=>(0,Z.jsx)(`button`,{type:`button`,onClick:()=>L(ve.id,{data:{align:e.id}}),className:`create-mobile-property-panel__button ${(t.align??`center`)===e.id?`create-mobile-property-panel__button--active`:``}`.trim(),children:(0,Z.jsx)(e.Icon,{size:18,strokeWidth:2.5})},e.id))});break;case`shape-color`:case`photo-color`:e=(0,Z.jsx)(Sz,{value:t.fill??`#F4D3C2`,onChange:e=>L(ve.id,{data:{fill:e}})});break;case`shape-size`:case`photo-size`:e=(0,Z.jsxs)(`div`,{className:`create-mobile-property-panel__form-grid`,children:[(0,Z.jsxs)(`label`,{className:`create-mobile-property-panel__input`,children:[(0,Z.jsx)(`span`,{children:`Lebar`}),(0,Z.jsx)(`input`,{type:`number`,min:40,value:Math.round(ve.width??0),onChange:e=>Fe(`width`,e.target.value)})]}),(0,Z.jsxs)(`label`,{className:`create-mobile-property-panel__input`,children:[(0,Z.jsx)(`span`,{children:`Tinggi`}),(0,Z.jsx)(`input`,{type:`number`,min:40,value:Math.round(ve.height??0),onChange:e=>Fe(`height`,e.target.value)})]})]});break;case`shape-radius`:case`photo-radius`:{let n=t.borderRadius??24;e=(0,Z.jsxs)(`div`,{className:`create-mobile-property-panel__slider`,children:[(0,Z.jsx)(`input`,{type:`range`,min:0,max:120,value:n,onChange:e=>L(ve.id,{data:{borderRadius:Number(e.target.value)}})}),(0,Z.jsxs)(`div`,{className:`create-mobile-property-panel__value-label`,children:[n,`px`]})]});break}case`shape-outline`:case`photo-outline`:case`upload-outline`:{let n=ve.type,r=Number(t.strokeWidth??0),i=n===`shape`?`#d9b9ab`:`#f4f4f4`,a=typeof t.stroke==`string`&&t.stroke.length>0?t.stroke:i;e=(0,Z.jsxs)(`div`,{className:`create-mobile-property-panel__outline`,children:[(0,Z.jsxs)(`div`,{className:`create-mobile-property-panel__slider`,children:[(0,Z.jsx)(`input`,{type:`range`,min:0,max:n===`shape`?32:24,value:r,onChange:e=>{let n=Number(e.target.value);if(!Number.isFinite(n))return;let r={strokeWidth:Math.max(0,n)};n>0&&!t.stroke&&(r.stroke=a),L(ve.id,{data:r})}}),(0,Z.jsxs)(`div`,{className:`create-mobile-property-panel__value-label`,children:[Math.round(r),`px`]})]}),(0,Z.jsx)(`div`,{className:`create-mobile-property-panel__color-picker`,children:(0,Z.jsx)(Sz,{value:a,onChange:e=>L(ve.id,{data:{stroke:e}})})})]});break}case`photo-fit`:case`bg-photo-fit`:e=(0,Z.jsx)(`div`,{className:`create-mobile-property-panel__select`,children:(0,Z.jsxs)(`select`,{value:t.objectFit??`cover`,onChange:e=>L(ve.id,{data:{objectFit:e.target.value}}),children:[(0,Z.jsx)(`option`,{value:`cover`,children:`Cover`}),(0,Z.jsx)(`option`,{value:`contain`,children:`Contain`}),(0,Z.jsx)(`option`,{value:`fill`,children:`Fill`})]})});break;case`bg-photo-size`:e=(0,Z.jsx)(`div`,{className:`create-mobile-property-panel__actions`,children:(0,Z.jsx)(`button`,{type:`button`,onClick:()=>{let{width:e,height:t}=Ce(_);he({canvasWidth:e,canvasHeight:t}),u(null)},className:`create-mobile-property-panel__action`,children:`Sesuaikan ke kanvas`})});break;case`bg-photo-manage`:e=(0,Z.jsxs)(`div`,{className:`create-mobile-property-panel__actions`,children:[(0,Z.jsx)(`button`,{type:`button`,onClick:()=>{De(),u(null)},className:`create-mobile-property-panel__action`,children:`Ganti foto background`}),(0,Z.jsx)(`button`,{type:`button`,onClick:()=>{oe(ve.id),me(),u(null)},className:`create-mobile-property-panel__action create-mobile-property-panel__action--danger`,children:`Hapus foto background`})]});break;case`layer-order`:ve?.type!==`background-photo`&&(e=(0,Z.jsxs)(`div`,{className:`create-mobile-property-panel__actions`,style:{display:`grid`,gridTemplateColumns:`1fr 1fr`,gap:`12px`},children:[(0,Z.jsxs)(`button`,{type:`button`,onClick:()=>{ue(ve.id)},className:`create-mobile-property-panel__action`,children:[(0,Z.jsx)(qM,{size:18,style:{marginRight:`8px`}}),`Paling Depan`]}),(0,Z.jsxs)(`button`,{type:`button`,onClick:()=>{fe(ve.id)},className:`create-mobile-property-panel__action`,children:[(0,Z.jsx)(zM,{size:18,style:{marginRight:`8px`}}),`Kedepankan`]}),(0,Z.jsxs)(`button`,{type:`button`,onClick:()=>{de(ve.id)},className:`create-mobile-property-panel__action`,children:[(0,Z.jsx)(KM,{size:18,style:{marginRight:`8px`}}),`Paling Belakang`]}),(0,Z.jsxs)(`button`,{type:`button`,onClick:()=>{pe(ve.id)},className:`create-mobile-property-panel__action`,children:[(0,Z.jsx)(RM,{size:18,style:{marginRight:`8px`}}),`Kebelakangkan`]})]}));break;default:break}}return e?(0,Z.jsxs)(kM.div,{className:`create-mobile-property-panel`,initial:{opacity:0,y:32},animate:{opacity:1,y:0},exit:{opacity:0,y:32},transition:{type:`spring`,stiffness:360,damping:32},children:[(0,Z.jsxs)(`div`,{className:`create-mobile-property-panel__header`,children:[(0,Z.jsx)(`span`,{children:t}),(0,Z.jsx)(`button`,{type:`button`,onClick:()=>u(null),className:`create-mobile-property-panel__close`,"aria-label":`Tutup pengaturan`,children:(0,Z.jsx)(BN,{size:18,strokeWidth:2.5})})]}),(0,Z.jsx)(`div`,{className:`create-mobile-property-panel__content`,children:e})]},l):null};return(0,Z.jsxs)(`div`,{className:`create-page`,children:[a&&(0,Z.jsx)(kM.div,{className:`create-toast-wrapper`,initial:{opacity:0,y:-12,scale:.94},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-12,scale:.94},transition:{type:`spring`,stiffness:460,damping:26},children:(0,Z.jsxs)(`div`,{className:`create-toast ${a.type===`success`?`create-toast--success`:`create-toast--error`}`,children:[a.type===`success`?(0,Z.jsx)(YM,{size:18,strokeWidth:2.5}):(0,Z.jsx)(FN,{size:18,strokeWidth:2.5}),(0,Z.jsx)(`span`,{children:a.message})]})}),(0,Z.jsxs)(`div`,{className:`create-grid`,children:[!s&&(0,Z.jsxs)(kM.aside,{variants:uB,initial:`hidden`,animate:`visible`,transition:{delay:.05},className:`create-panel create-panel--tools`,children:[(0,Z.jsx)(`h2`,{className:`create-panel__title`,children:`Tools`}),(0,Z.jsx)(`div`,{className:`create-tools__list`,children:Ne.map(e=>{let t=e.icon;return(0,Z.jsxs)(`button`,{type:`button`,onClick:()=>Pe(e),className:`create-tools__button ${e.isActive?`create-tools__button--active`:``}`.trim(),children:[(0,Z.jsx)(t,{size:20,strokeWidth:2}),(0,Z.jsx)(`span`,{children:e.label})]},e.id)})})]}),(0,Z.jsxs)(kM.section,{variants:uB,initial:`hidden`,animate:`visible`,transition:{delay:.1},className:`create-preview`,children:[(0,Z.jsx)(`h2`,{className:`create-preview__title`,children:`Preview`}),(0,Z.jsx)(`div`,{className:`create-preview__body`,children:(0,Z.jsx)(`div`,{ref:D,className:`create-preview__frame`,"data-canvas-ratio":_,children:(0,Z.jsx)(BR,{elements:F,selectedElementId:I,canvasBackground:te,aspectRatio:_,previewConstraints:O,onSelect:e=>{if(u(null),e===null)me();else if(e===`background`){if(T){P(`info`,`Background dikunci. Unlock untuk mengedit.`,2e3);return}R(`background`)}else R(e)},onUpdate:L,onBringToFront:ue,onRemove:oe,onDuplicate:se,onToggleLock:ce,onResizeUpload:le})})}),(0,Z.jsx)(kM.button,{type:`button`,onClick:ke,disabled:r,className:`create-save`,whileTap:{scale:.97},whileHover:{y:-3},children:r?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(`svg`,{className:`create-save__spinner`,xmlns:`http://www.w3.org/2000/svg`,fill:`none`,viewBox:`0 0 24 24`,children:[(0,Z.jsx)(`circle`,{className:`create-save__spinner-track`,cx:`12`,cy:`12`,r:`10`,stroke:`currentColor`,strokeWidth:`4`}),(0,Z.jsx)(`path`,{className:`create-save__spinner-head`,fill:`currentColor`,d:`M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z`})]}),`Menyimpan...`]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(YM,{size:18,strokeWidth:2.5}),`Save Template`]})}),S&&y&&(0,Z.jsx)(kM.button,{type:`button`,onClick:Me,className:`create-save`,style:{marginTop:`12px`,background:`linear-gradient(135deg, #667eea 0%, #764ba2 100%)`},whileTap:{scale:.97},whileHover:{y:-3},initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`18`,height:`18`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2.5`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,Z.jsx)(`rect`,{x:`3`,y:`3`,width:`18`,height:`18`,rx:`2`,ry:`2`}),(0,Z.jsx)(`circle`,{cx:`8.5`,cy:`8.5`,r:`1.5`}),(0,Z.jsx)(`polyline`,{points:`21 15 16 10 5 21`})]}),`Gunakan Frame Ini`]})})]}),!s&&(0,Z.jsxs)(kM.aside,{variants:uB,initial:`hidden`,animate:`visible`,transition:{delay:.15},className:`create-panel create-panel--properties`,children:[(0,Z.jsx)(`h2`,{className:`create-panel__title`,children:`Properties`}),(0,Z.jsx)(`div`,{className:`create-panel__body`,children:(0,Z.jsx)(Ez,{selectedElement:_e,canvasBackground:te,onBackgroundChange:e=>ae(e),onUpdateElement:L,onDeleteElement:oe,clearSelection:me,onSelectBackgroundPhoto:()=>{if(T){P(`info`,`Background dikunci. Unlock untuk mengedit.`,2e3);return}z?R(z.id):De()},onFitBackgroundPhoto:he,backgroundPhoto:z,onBringToFront:ue,onSendToBack:de,onBringForward:fe,onSendBackward:pe,canvasAspectRatio:_,onCanvasAspectRatioChange:e=>{v(e)},showCanvasSizeMode:d,gradientColor1:p,gradientColor2:h,setGradientColor1:m,setGradientColor2:g,isBackgroundLocked:T,onToggleBackgroundLock:je})})]})]}),s&&(0,Z.jsxs)(Z.Fragment,{children:[Re(),(0,Z.jsx)(`nav`,{className:`create-mobile-toolbar ${be?`create-mobile-toolbar--properties`:``}`.trim(),children:(be?xe:Ne).map(e=>{let t=e.icon,n=be?l===e.id:!!e.isActive,r=be?e.label:e.mobileLabel??e.label;return(0,Z.jsxs)(`button`,{type:`button`,onClick:()=>{be?u(t=>t===e.id?null:e.id):Pe(e)},className:`create-mobile-toolbar__button ${n?`create-mobile-toolbar__button--active`:``}`.trim(),children:[(0,Z.jsx)(t,{size:20,strokeWidth:2.4}),(0,Z.jsx)(`span`,{children:r})]},e.id)})})]}),(0,Z.jsx)(`input`,{ref:e,type:`file`,accept:`image/*`,style:{position:`absolute`,left:`-9999px`,opacity:0,pointerEvents:`none`},onChange:Oe})]})}function CB(){return(0,Z.jsxs)(`section`,{className:`container pad center`,children:[(0,Z.jsx)(`h2`,{children:`404  Halaman tidak ditemukan`}),(0,Z.jsx)(nn,{to:`/`,className:`btn`,children:`Kembali ke Home`})]})}function wB(){let e=Be(),t=Le(),{authenticateUser:n}=_S(),[r,i]=(0,b.useState)({email:``,password:``,rememberMe:!1}),[a,o]=(0,b.useState)(``),[s,c]=(0,b.useState)(t.state?.message||``),[l,u]=(0,b.useState)(!1),[d,f]=(0,b.useState)(!1),[p,m]=(0,b.useState)(``),[h,g]=(0,b.useState)(``),[_,v]=(0,b.useState)(!1),y=e=>{let{name:t,value:n,type:r,checked:a}=e.target;i(e=>({...e,[t]:r===`checkbox`?a:n})),o(``),c(``)};return(0,Z.jsx)(`section`,{className:`anchor auth-wrap`,children:(0,Z.jsxs)(`div`,{className:`container`,children:[(0,Z.jsx)(`div`,{className:`auth-titlebar`,children:(0,Z.jsx)(`h1`,{children:`Log In`})}),(0,Z.jsxs)(`div`,{className:`auth-card`,children:[(0,Z.jsxs)(`div`,{className:`auth-tabs`,children:[(0,Z.jsx)(tn,{to:`/login`,className:`auth-tab active`,children:` Log in`}),(0,Z.jsx)(tn,{to:`/register`,className:`auth-tab`,children:` Register`})]}),(0,Z.jsxs)(`form`,{className:`auth-body`,onSubmit:async i=>{if(i.preventDefault(),o(``),u(!0),!r.email||!r.password){o(`Please fill in all fields`),u(!1);return}try{let i=await n(r.email,r.password);if(i.success){let n=localStorage.getItem(`fremio_user`);if(n)if(JSON.parse(n).role===`admin`)e(`/admin/dashboard`,{replace:!0});else{let n=t.state?.from?.pathname||`/frames`;e(n,{replace:!0})}else{let n=t.state?.from?.pathname||`/frames`;e(n,{replace:!0})}}else o(i.message)}catch(e){console.error(`Login error:`,e),o(`Login failed. Please try again.`)}finally{u(!1)}},children:[a&&(0,Z.jsx)(`div`,{style:{padding:`12px 16px`,background:`#fee`,border:`1px solid #fcc`,borderRadius:`8px`,color:`#c33`,fontSize:`0.9rem`,marginBottom:`16px`},children:a}),s&&(0,Z.jsx)(`div`,{style:{padding:`12px 16px`,background:`#efe`,border:`1px solid #cfc`,borderRadius:`8px`,color:`#3c3`,fontSize:`0.9rem`,marginBottom:`16px`},children:s}),h&&(0,Z.jsx)(`div`,{style:{padding:`12px 16px`,background:`#efe`,border:`1px solid #cfc`,borderRadius:`8px`,color:`#3c3`,fontSize:`0.9rem`,marginBottom:`16px`},children:h}),d?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(`div`,{style:{marginBottom:`16px`},children:[(0,Z.jsx)(`h3`,{style:{fontSize:`1.2rem`,fontWeight:`bold`,marginBottom:`8px`},children:`Reset Password`}),(0,Z.jsx)(`p`,{style:{fontSize:`0.9rem`,color:`#64748b`},children:`Enter your email address and we'll send you a link to reset your password.`})]}),(0,Z.jsx)(`label`,{className:`auth-label`,children:`Email address`}),(0,Z.jsx)(`input`,{className:`auth-input`,type:`email`,placeholder:`you@example.com`,value:p,onChange:e=>m(e.target.value),disabled:_}),(0,Z.jsx)(`button`,{className:`auth-btn`,onClick:async e=>{if(e.preventDefault(),o(``),g(``),v(!0),!p){o(`Please enter your email address`),v(!1);return}try{await Ks(eS,p),g(`Password reset link has been sent to your email!`),m(``),setTimeout(()=>{f(!1),g(``)},3e3)}catch(e){console.error(`Password reset error:`,e),e.code===`auth/user-not-found`?o(`No account found with this email address`):e.code===`auth/invalid-email`?o(`Invalid email address`):o(`Failed to send password reset email. Please try again.`)}finally{v(!1)}},disabled:_,style:{marginBottom:`12px`},children:_?`Sending...`:`Send Reset Link`}),(0,Z.jsx)(`button`,{type:`button`,onClick:()=>{f(!1),m(``),o(``)},style:{width:`100%`,padding:`12px`,background:`white`,border:`1px solid #e2e8f0`,borderRadius:`8px`,color:`#64748b`,fontSize:`0.95rem`,cursor:`pointer`,fontWeight:500},children:`Back to Login`})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(`label`,{className:`auth-label`,children:`Email address`}),(0,Z.jsx)(`input`,{className:`auth-input`,type:`email`,name:`email`,placeholder:`you@example.com`,value:r.email,onChange:y,disabled:l}),(0,Z.jsx)(`label`,{className:`auth-label`,children:`Password`}),(0,Z.jsx)(`input`,{className:`auth-input`,type:`password`,name:`password`,placeholder:``,value:r.password,onChange:y,disabled:l}),(0,Z.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,marginBottom:`12px`},children:[(0,Z.jsxs)(`label`,{className:`auth-check`,style:{margin:0},children:[(0,Z.jsx)(`input`,{type:`checkbox`,name:`rememberMe`,checked:r.rememberMe,onChange:y,disabled:l}),` `,`remember me`]}),(0,Z.jsx)(`button`,{type:`button`,onClick:()=>f(!0),style:{background:`none`,border:`none`,color:`#c89585`,fontSize:`0.85rem`,cursor:`pointer`,textDecoration:`underline`,padding:0},children:`Forgot password?`})]}),(0,Z.jsx)(`button`,{className:`auth-btn`,type:`submit`,disabled:l,children:l?`Logging in...`:`Login`}),(0,Z.jsxs)(`p`,{className:`auth-help`,children:[`don't have account? `,(0,Z.jsx)(tn,{to:`/register`,children:`register`})]})]})]})]})]})})}function TB(){let e=Be(),{register:t}=_S(),[n,r]=(0,b.useState)({firstName:``,lastName:``,email:``,password:``,confirmPassword:``,agreeToTerms:!1}),[i,a]=(0,b.useState)(``),[o,s]=(0,b.useState)(!1),c=e=>{let{name:t,value:n,type:i,checked:o}=e.target;r(e=>({...e,[t]:i===`checkbox`?o:n})),a(``)};return(0,Z.jsx)(`section`,{className:`anchor auth-wrap`,children:(0,Z.jsxs)(`div`,{className:`container`,children:[(0,Z.jsx)(`div`,{className:`auth-titlebar`,children:(0,Z.jsx)(`h1`,{children:`Register`})}),(0,Z.jsxs)(`div`,{className:`auth-card`,children:[(0,Z.jsxs)(`div`,{className:`auth-tabs`,children:[(0,Z.jsx)(tn,{to:`/login`,className:`auth-tab`,children:` Log in`}),(0,Z.jsx)(tn,{to:`/register`,className:`auth-tab active`,children:` Register`})]}),(0,Z.jsxs)(`form`,{className:`auth-body`,onSubmit:async r=>{if(r.preventDefault(),a(``),s(!0),!n.firstName||!n.lastName||!n.email||!n.password||!n.confirmPassword){a(`Please fill in all fields`),s(!1);return}if(n.password!==n.confirmPassword){a(`Passwords do not match`),s(!1);return}if(n.password.length<6){a(`Password must be at least 6 characters`),s(!1);return}if(!n.agreeToTerms){a(`You must agree to the Terms of Service and Privacy Policy`),s(!1);return}try{let r={firstName:n.firstName,lastName:n.lastName,name:`${n.firstName} ${n.lastName}`,email:n.email,password:n.password,createdAt:new Date().toISOString()},i=await t(r);i.success?e(`/login`,{replace:!0,state:{message:`Registration successful! Please login with your credentials.`}}):a(i.message)}catch(e){console.error(`Registration error:`,e),a(`Registration failed. Please try again.`)}finally{s(!1)}},children:[i&&(0,Z.jsx)(`div`,{style:{padding:`12px 16px`,background:`#fee`,border:`1px solid #fcc`,borderRadius:`8px`,color:`#c33`,fontSize:`0.9rem`,marginBottom:`16px`},children:i}),(0,Z.jsxs)(`div`,{className:`auth-grid`,children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`auth-label`,children:`First Name`}),(0,Z.jsx)(`input`,{className:`auth-input`,type:`text`,name:`firstName`,value:n.firstName,onChange:c,disabled:o})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`auth-label`,children:`Last Name`}),(0,Z.jsx)(`input`,{className:`auth-input`,type:`text`,name:`lastName`,value:n.lastName,onChange:c,disabled:o})]})]}),(0,Z.jsx)(`label`,{className:`auth-label`,children:`Email Address`}),(0,Z.jsx)(`input`,{className:`auth-input`,type:`email`,name:`email`,placeholder:`you@example.com`,value:n.email,onChange:c,disabled:o}),(0,Z.jsx)(`label`,{className:`auth-label`,children:`Password`}),(0,Z.jsx)(`input`,{className:`auth-input`,type:`password`,name:`password`,placeholder:``,value:n.password,onChange:c,disabled:o}),(0,Z.jsx)(`label`,{className:`auth-label`,children:`Confirm Password`}),(0,Z.jsx)(`input`,{className:`auth-input`,type:`password`,name:`confirmPassword`,placeholder:``,value:n.confirmPassword,onChange:c,disabled:o}),(0,Z.jsxs)(`label`,{className:`auth-check`,style:{marginTop:12},children:[(0,Z.jsx)(`input`,{type:`checkbox`,name:`agreeToTerms`,checked:n.agreeToTerms,onChange:c,disabled:o}),` `,`I agree to the Terms of Service and Privacy Policy`]}),(0,Z.jsx)(`button`,{className:`auth-btn`,type:`submit`,disabled:o,children:o?`Creating Account...`:`Create Account`}),(0,Z.jsxs)(`p`,{className:`auth-help`,children:[`already have account? `,(0,Z.jsx)(tn,{to:`/login`,children:`login`})]})]})]})]})})}function EB(){let{user:e,logout:t}=_S(),n=Be(),r=()=>{t(),n(`/`,{replace:!0})},i=e?.name||[e?.firstName,e?.lastName].filter(Boolean).join(` `)||(e?.email?e.email.split(`@`)[0]:`User`),a=e?.firstName||i.split(` `)[0]||`-`,o=e?.lastName||i.split(` `).slice(1).join(` `)||`-`,s=e?.username||(e?.email?e.email.split(`@`)[0]:i.replace(/\s+/g,``).toLowerCase()),c=e?.email||`-`,l=e?.phone||e?.phoneNumber||`-`,u=e?.bio||`-`,d=e?.createdAt?new Date(e.createdAt).toLocaleDateString(`en-US`,{year:`numeric`,month:`long`,day:`numeric`}):`-`,f=(i||`U`).split(` `).filter(Boolean).slice(0,2).map(e=>e[0]?.toUpperCase()).join(``)||`U`,p=localStorage.getItem(`profilePhoto_${e?.uid}`)||localStorage.getItem(`profilePhoto_${e?.email}`);return(0,Z.jsx)(`section`,{className:`profile-page`,children:(0,Z.jsxs)(`div`,{className:`profile-shell container`,children:[(0,Z.jsxs)(`div`,{className:`profile-header`,children:[(0,Z.jsx)(`div`,{className:`profile-avatar`,"aria-hidden":!0,style:{background:p?`url(${p})`:`#d9d9d9`,backgroundSize:`cover`,backgroundPosition:`center`},children:!p&&(0,Z.jsx)(`span`,{children:f})}),(0,Z.jsx)(`h1`,{className:`profile-title`,children:i})]}),(0,Z.jsxs)(`div`,{className:`profile-body`,children:[(0,Z.jsxs)(`aside`,{className:`profile-sidebar`,"aria-label":`Profile navigation`,children:[(0,Z.jsxs)(`nav`,{children:[(0,Z.jsx)(`a`,{className:`nav-item active`,href:`#profile`,children:`My Profile`}),(0,Z.jsx)(tn,{className:`nav-item`,to:`/settings`,children:`Settings`}),(0,Z.jsx)(tn,{className:`nav-item`,to:`/drafts`,children:`Drafts`})]}),(0,Z.jsx)(`button`,{className:`nav-logout`,onClick:r,children:`Logout`})]}),(0,Z.jsxs)(`main`,{className:`profile-content`,id:`profile`,children:[(0,Z.jsx)(`h2`,{className:`section-title`,children:`My Profile`}),(0,Z.jsxs)(`div`,{className:`profile-details`,children:[(0,Z.jsxs)(`div`,{className:`profile-row`,children:[(0,Z.jsx)(`div`,{className:`label`,children:`Registration Date`}),(0,Z.jsx)(`div`,{className:`value`,children:d})]}),(0,Z.jsxs)(`div`,{className:`profile-row`,children:[(0,Z.jsx)(`div`,{className:`label`,children:`First Name`}),(0,Z.jsx)(`div`,{className:`value`,children:a})]}),(0,Z.jsxs)(`div`,{className:`profile-row`,children:[(0,Z.jsx)(`div`,{className:`label`,children:`Last Name`}),(0,Z.jsx)(`div`,{className:`value`,children:o})]}),(0,Z.jsxs)(`div`,{className:`profile-row`,children:[(0,Z.jsx)(`div`,{className:`label`,children:`Username`}),(0,Z.jsx)(`div`,{className:`value`,children:s})]}),(0,Z.jsxs)(`div`,{className:`profile-row`,children:[(0,Z.jsx)(`div`,{className:`label`,children:`Email`}),(0,Z.jsx)(`div`,{className:`value`,children:c})]}),(0,Z.jsxs)(`div`,{className:`profile-row`,children:[(0,Z.jsx)(`div`,{className:`label`,children:`Phone Number`}),(0,Z.jsx)(`div`,{className:`value`,children:l})]}),(0,Z.jsxs)(`div`,{className:`profile-row`,children:[(0,Z.jsx)(`div`,{className:`label`,children:`Bio`}),(0,Z.jsx)(`div`,{className:`value`,children:u})]})]})]})]})]})})}function DB(){let{user:e,logout:t,updateUser:n,changePassword:r}=_S(),[i,a]=(0,b.useState)(`account`),[o,s]=(0,b.useState)(null),[c,l]=(0,b.useState)(null),[u,d]=(0,b.useState)(!1),[f,p]=(0,b.useState)(1),[m,h]=(0,b.useState)({x:0,y:0}),[g,_]=(0,b.useState)(!1),[v,y]=(0,b.useState)({x:0,y:0}),[x,S]=(0,b.useState)(!1),[C,w]=(0,b.useState)({firstName:``,lastName:``,username:``,phone:``}),[T,E]=(0,b.useState)({currentPassword:``,newPassword:``,confirmPassword:``}),[D,O]=(0,b.useState)(``),[k,A]=(0,b.useState)(``),[j,M]=(0,b.useState)(!1),N=Le(),ee=Be(),P=()=>{t(),ee(`/`,{replace:!0})};(0,b.useEffect)(()=>{if(!e)return;let t=e.uid?`profilePhoto_${e.uid}`:e.email?`profilePhoto_${e.email}`:null;if(t){let e=localStorage.getItem(t);e&&s(e)}},[e]),(0,b.useEffect)(()=>{x&&e&&w({firstName:e.firstName||``,lastName:e.lastName||``,username:e.username||(e.email?e.email.split(`@`)[0]:``),phone:e.phone||e.phoneNumber||``})},[x,e]);let F=e=>{let t=e.target.files?.[0];if(!t)return;if(!t.type.startsWith(`image/`)){alert(`Please select an image file`);return}if(t.size>5*1024*1024){alert(`Image size should be less than 5MB`);return}let n=new FileReader;n.onloadend=()=>{l(n.result),d(!0),p(1),h({x:0,y:0})},n.readAsDataURL(t)},I=e=>{u&&(e.preventDefault(),_(!0),y({x:e.clientX-m.x,y:e.clientY-m.y}))};(0,b.useEffect)(()=>{let e=e=>{g&&(e.preventDefault(),h({x:e.clientX-v.x,y:e.clientY-v.y}))},t=()=>{_(!1)};if(g)return window.addEventListener(`mousemove`,e),window.addEventListener(`mouseup`,t),()=>{window.removeEventListener(`mousemove`,e),window.removeEventListener(`mouseup`,t)}},[g,v.x,v.y]);let te=()=>{if(!c)return;let t=document.createElement(`canvas`),n=t.getContext(`2d`);t.width=400,t.height=400;let r=new Image;r.onload=()=>{let i=f,a=Math.min(r.width,r.height)*i,o=(r.width-a)/2+m.x/i,c=(r.height-a)/2+m.y/i;n.drawImage(r,o,c,a,a,0,0,400,400);let u=t.toDataURL(`image/jpeg`,.9);e?.uid&&localStorage.setItem(`profilePhoto_${e.uid}`,u),e?.email&&localStorage.setItem(`profilePhoto_${e.email}`,u),d(!1),l(null),s(u),setTimeout(()=>{alert(`Profile photo saved successfully!`)},50)},r.src=c},ne=()=>{d(!1),l(null),p(1),h({x:0,y:0})},re=()=>{window.confirm(`Remove profile photo?`)&&(s(null),l(null),d(!1),e?.uid&&localStorage.removeItem(`profilePhoto_${e.uid}`),e?.email&&localStorage.removeItem(`profilePhoto_${e.email}`))},ie=()=>{S(!0)},L=(e,t)=>{w(n=>({...n,[e]:t}))},R=()=>{if(!C.firstName.trim()){alert(`First name is required`);return}let t={...e,firstName:C.firstName.trim(),lastName:C.lastName.trim(),username:C.username.trim(),phone:C.phone.trim(),phoneNumber:C.phone.trim(),name:`${C.firstName.trim()} ${C.lastName.trim()}`.trim()};n(t),alert(`Profile updated successfully!`),S(!1)},ae=()=>{S(!1),w({firstName:``,lastName:``,username:``,phone:``})},oe=(e,t)=>{E(n=>({...n,[e]:t})),O(``),A(``)},se=async e=>{if(e.preventDefault(),O(``),A(``),!T.currentPassword||!T.newPassword||!T.confirmPassword){O(`All fields are required`);return}if(T.newPassword.length<6){O(`New password must be at least 6 characters`);return}if(T.newPassword!==T.confirmPassword){O(`New passwords do not match`);return}if(T.currentPassword===T.newPassword){O(`New password must be different from current password`);return}M(!0);try{let e=await r(T.currentPassword,T.newPassword);e.success?(A(e.message),E({currentPassword:``,newPassword:``,confirmPassword:``})):O(e.message)}catch(e){console.error(`Password change error:`,e),O(`Failed to change password. Please try again.`)}finally{M(!1)}},ce=(e?.name||[e?.firstName,e?.lastName].filter(Boolean).join(` `)||(e?.email?e.email.split(`@`)[0]:`User`)||`U`).split(` `).filter(Boolean).slice(0,2).map(e=>e[0]?.toUpperCase()).join(``)||`U`;return(0,b.useEffect)(()=>{let e=N.hash?.replace(`#`,``);e&&[`account`,`preferences`,`privacy`,`security`].includes(e)&&a(e)},[N.hash]),(0,Z.jsx)(`section`,{className:`profile-page`,children:(0,Z.jsxs)(`div`,{className:`profile-shell container`,children:[(0,Z.jsxs)(`div`,{className:`profile-header`,children:[(0,Z.jsx)(`div`,{className:`profile-avatar`,"aria-hidden":!0,style:{background:o?`url(${o})`:`#d9d9d9`,backgroundSize:`cover`,backgroundPosition:`center`},children:!o&&(0,Z.jsx)(`span`,{children:ce})},o),(0,Z.jsx)(`h1`,{className:`profile-title`,children:`Settings`})]}),(0,Z.jsxs)(`div`,{className:`profile-body`,children:[(0,Z.jsxs)(`aside`,{className:`profile-sidebar`,"aria-label":`Settings navigation`,children:[(0,Z.jsxs)(`nav`,{children:[(0,Z.jsx)(tn,{className:`nav-item`,to:`/profile`,children:`My Profile`}),(0,Z.jsx)(tn,{className:`nav-item active`,to:`/settings`,children:`Settings`}),(0,Z.jsx)(tn,{className:`nav-item`,to:`/drafts`,children:`Drafts`})]}),(0,Z.jsx)(`button`,{className:`nav-logout`,onClick:P,children:`Logout`})]}),(0,Z.jsxs)(`main`,{className:`profile-content`,id:`settings`,children:[(0,Z.jsx)(`h2`,{className:`section-title`,children:`Settings`}),(0,Z.jsxs)(`div`,{style:{display:`flex`,gap:`8px`,marginBottom:`20px`,padding:`4px`,background:`#f5f5f5`,borderRadius:`12px`},children:[(0,Z.jsx)(`button`,{onClick:()=>a(`account`),style:{flex:1,padding:`10px 16px`,fontWeight:600,border:`none`,borderRadius:`8px`,background:i===`account`?`#fff`:`transparent`,color:i===`account`?`#a2665a`:`#666`,cursor:`pointer`,transition:`all 0.2s`,boxShadow:i===`account`?`0 1px 3px rgba(0,0,0,0.1)`:`none`},children:`Account`}),(0,Z.jsx)(`button`,{onClick:()=>a(`preferences`),style:{flex:1,padding:`10px 16px`,fontWeight:600,border:`none`,borderRadius:`8px`,background:i===`preferences`?`#fff`:`transparent`,color:i===`preferences`?`#a2665a`:`#666`,cursor:`pointer`,transition:`all 0.2s`,boxShadow:i===`preferences`?`0 1px 3px rgba(0,0,0,0.1)`:`none`},children:`Preferences`}),(0,Z.jsx)(`button`,{onClick:()=>a(`privacy`),style:{flex:1,padding:`10px 16px`,fontWeight:600,border:`none`,borderRadius:`8px`,background:i===`privacy`?`#fff`:`transparent`,color:i===`privacy`?`#a2665a`:`#666`,cursor:`pointer`,transition:`all 0.2s`,boxShadow:i===`privacy`?`0 1px 3px rgba(0,0,0,0.1)`:`none`},children:`Privacy`}),(0,Z.jsx)(`button`,{onClick:()=>a(`security`),style:{flex:1,padding:`10px 16px`,fontWeight:600,border:`none`,borderRadius:`8px`,background:i===`security`?`#fff`:`transparent`,color:i===`security`?`#a2665a`:`#666`,cursor:`pointer`,transition:`all 0.2s`,boxShadow:i===`security`?`0 1px 3px rgba(0,0,0,0.1)`:`none`},children:`Security`})]}),i===`account`&&(0,Z.jsxs)(`div`,{children:[(0,Z.jsxs)(`div`,{className:`profile-details`,children:[(0,Z.jsxs)(`div`,{className:`profile-row`,style:{display:`block`,padding:`18px 0`},children:[(0,Z.jsx)(`div`,{className:`label`,style:{marginBottom:`12px`},children:`Profile Photo`}),u?(0,Z.jsx)(`div`,{className:`value`,children:(0,Z.jsxs)(`div`,{style:{background:`#f9fafb`,border:`2px dashed #e0b7a9`,borderRadius:`12px`,padding:`20px`,marginBottom:`16px`},children:[(0,Z.jsx)(`p`,{style:{fontSize:`14px`,color:`#666`,marginBottom:`16px`,textAlign:`center`},children:`Drag to reposition  Scroll or use slider to zoom`}),(0,Z.jsx)(`div`,{style:{width:`300px`,height:`300px`,margin:`0 auto 20px`,borderRadius:`50%`,overflow:`hidden`,border:`3px solid #e0b7a9`,position:`relative`,cursor:g?`grabbing`:`grab`,background:`#f3f4f6`},onMouseDown:I,children:c&&(0,Z.jsx)(`img`,{src:c,alt:`Preview`,style:{width:`${f*100}%`,height:`${f*100}%`,objectFit:`cover`,position:`absolute`,left:`50%`,top:`50%`,transform:`translate(calc(-50% + ${m.x}px), calc(-50% + ${m.y}px))`,userSelect:`none`,pointerEvents:`none`},draggable:!1})}),(0,Z.jsx)(`div`,{style:{maxWidth:`300px`,margin:`0 auto 16px`},children:(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`},children:[(0,Z.jsx)(`span`,{style:{fontSize:`14px`,color:`#666`,fontWeight:600},children:`Zoom:`}),(0,Z.jsx)(`input`,{type:`range`,min:`1`,max:`3`,step:`0.1`,value:f,onChange:e=>p(parseFloat(e.target.value)),style:{flex:1,accentColor:`#e0b7a9`}}),(0,Z.jsxs)(`span`,{style:{fontSize:`14px`,color:`#666`,minWidth:`40px`},children:[f.toFixed(1),`x`]})]})}),(0,Z.jsxs)(`div`,{style:{display:`flex`,gap:`8px`,justifyContent:`center`,flexWrap:`wrap`},children:[(0,Z.jsx)(`button`,{type:`button`,onClick:te,style:{padding:`10px 24px`,background:`linear-gradient(to right, #10b981, #059669)`,color:`#fff`,border:`none`,borderRadius:`8px`,fontWeight:600,fontSize:`14px`,cursor:`pointer`,transition:`all 0.2s`},children:` Save Photo`}),(0,Z.jsx)(`button`,{type:`button`,onClick:ne,style:{padding:`10px 24px`,background:`#fff`,color:`#666`,border:`1px solid #ddd`,borderRadius:`8px`,fontWeight:600,fontSize:`14px`,cursor:`pointer`,transition:`all 0.2s`},children:`Cancel`})]})]})}):(0,Z.jsxs)(`div`,{className:`value`,style:{display:`flex`,alignItems:`center`,gap:`16px`},children:[(0,Z.jsx)(`div`,{style:{width:`100px`,height:`100px`,borderRadius:`50%`,background:o?`url(${o})`:`#d9d9d9`,backgroundSize:`cover`,backgroundPosition:`center`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:`#fff`,fontSize:`32px`,fontWeight:800,border:`3px solid #e0b7a9`,flexShrink:0},children:!o&&ce}),(0,Z.jsxs)(`div`,{style:{flex:1},children:[(0,Z.jsx)(`p`,{style:{fontSize:`14px`,color:`#666`,marginBottom:`12px`},children:`Upload a profile photo. Recommended size: 400x400px. Max 5MB.`}),(0,Z.jsxs)(`div`,{style:{display:`flex`,gap:`8px`,flexWrap:`wrap`},children:[(0,Z.jsx)(`label`,{htmlFor:`photoUpload`,style:{padding:`10px 20px`,background:`linear-gradient(to right, #e0b7a9, #c89585)`,color:`#fff`,border:`none`,borderRadius:`8px`,fontWeight:600,fontSize:`14px`,cursor:`pointer`,transition:`all 0.2s`,display:`inline-block`},children:o?`Change Photo`:`Upload Photo`}),(0,Z.jsx)(`input`,{id:`photoUpload`,type:`file`,accept:`image/*`,onChange:F,style:{display:`none`}}),o&&(0,Z.jsx)(`button`,{type:`button`,onClick:re,style:{padding:`10px 20px`,background:`#fff`,color:`#dc2626`,border:`1px solid #fecaca`,borderRadius:`8px`,fontWeight:600,fontSize:`14px`,cursor:`pointer`,transition:`all 0.2s`},children:`Remove Photo`})]})]})]})]}),x?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(`div`,{className:`profile-row`,children:[(0,Z.jsx)(`div`,{className:`label`,children:`First Name *`}),(0,Z.jsx)(`div`,{className:`value`,children:(0,Z.jsx)(`input`,{type:`text`,value:C.firstName,onChange:e=>L(`firstName`,e.target.value),placeholder:`Enter first name`,style:{width:`100%`,padding:`10px 12px`,border:`1px solid #ddd`,borderRadius:`8px`,fontSize:`14px`,transition:`all 0.2s`}})})]}),(0,Z.jsxs)(`div`,{className:`profile-row`,children:[(0,Z.jsx)(`div`,{className:`label`,children:`Last Name`}),(0,Z.jsx)(`div`,{className:`value`,children:(0,Z.jsx)(`input`,{type:`text`,value:C.lastName,onChange:e=>L(`lastName`,e.target.value),placeholder:`Enter last name`,style:{width:`100%`,padding:`10px 12px`,border:`1px solid #ddd`,borderRadius:`8px`,fontSize:`14px`,transition:`all 0.2s`}})})]}),(0,Z.jsxs)(`div`,{className:`profile-row`,children:[(0,Z.jsx)(`div`,{className:`label`,children:`Username`}),(0,Z.jsx)(`div`,{className:`value`,children:(0,Z.jsx)(`input`,{type:`text`,value:C.username,onChange:e=>L(`username`,e.target.value),placeholder:`Enter username`,style:{width:`100%`,padding:`10px 12px`,border:`1px solid #ddd`,borderRadius:`8px`,fontSize:`14px`,transition:`all 0.2s`}})})]}),(0,Z.jsxs)(`div`,{className:`profile-row`,children:[(0,Z.jsx)(`div`,{className:`label`,children:`Email Address`}),(0,Z.jsxs)(`div`,{className:`value`,style:{fontSize:`14px`,color:`#999`,fontStyle:`italic`},children:[e?.email||`-`,` (Cannot be changed)`]})]}),(0,Z.jsxs)(`div`,{className:`profile-row`,children:[(0,Z.jsx)(`div`,{className:`label`,children:`Phone Number`}),(0,Z.jsx)(`div`,{className:`value`,children:(0,Z.jsx)(`input`,{type:`tel`,value:C.phone,onChange:e=>L(`phone`,e.target.value),placeholder:`Enter phone number`,style:{width:`100%`,padding:`10px 12px`,border:`1px solid #ddd`,borderRadius:`8px`,fontSize:`14px`,transition:`all 0.2s`}})})]})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(`div`,{className:`profile-row`,children:[(0,Z.jsx)(`div`,{className:`label`,children:`Full Name`}),(0,Z.jsx)(`div`,{className:`value`,children:e?.name||`${e?.firstName||``} ${e?.lastName||``}`.trim()||`-`})]}),(0,Z.jsxs)(`div`,{className:`profile-row`,children:[(0,Z.jsx)(`div`,{className:`label`,children:`Username`}),(0,Z.jsx)(`div`,{className:`value`,children:e?.username||(e?.email?e.email.split(`@`)[0]:`-`)})]}),(0,Z.jsxs)(`div`,{className:`profile-row`,children:[(0,Z.jsx)(`div`,{className:`label`,children:`Email Address`}),(0,Z.jsx)(`div`,{className:`value`,children:e?.email||`-`})]}),(0,Z.jsxs)(`div`,{className:`profile-row`,children:[(0,Z.jsx)(`div`,{className:`label`,children:`Phone Number`}),(0,Z.jsx)(`div`,{className:`value`,children:e?.phone||e?.phoneNumber||`-`})]})]})]}),(0,Z.jsx)(`div`,{style:{marginTop:`20px`,display:`flex`,gap:`12px`,flexWrap:`wrap`},children:x?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(`button`,{style:{padding:`12px 24px`,background:`linear-gradient(to right, #10b981, #059669)`,color:`#fff`,border:`none`,borderRadius:`10px`,fontWeight:600,cursor:`pointer`,transition:`all 0.2s`},onClick:R,onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 4px 12px rgba(16, 185, 129, 0.4)`},onMouseLeave:e=>{e.currentTarget.style.transform=`translateY(0)`,e.currentTarget.style.boxShadow=`none`},children:` Save Changes`}),(0,Z.jsx)(`button`,{style:{padding:`12px 24px`,background:`#fff`,color:`#666`,border:`1px solid #ddd`,borderRadius:`10px`,fontWeight:600,cursor:`pointer`,transition:`all 0.2s`},onClick:ae,onMouseEnter:e=>{e.currentTarget.style.background=`#f5f5f5`},onMouseLeave:e=>{e.currentTarget.style.background=`#fff`},children:`Cancel`})]}):(0,Z.jsx)(`button`,{style:{padding:`12px 24px`,background:`linear-gradient(to right, #e0b7a9, #c89585)`,color:`#fff`,border:`none`,borderRadius:`10px`,fontWeight:600,cursor:`pointer`,transition:`all 0.2s`},onClick:ie,onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 4px 12px rgba(224, 183, 169, 0.4)`},onMouseLeave:e=>{e.currentTarget.style.transform=`translateY(0)`,e.currentTarget.style.boxShadow=`none`},children:` Edit Profile`})})]}),i===`preferences`&&(0,Z.jsx)(`div`,{children:(0,Z.jsxs)(`div`,{className:`profile-details`,children:[(0,Z.jsxs)(`div`,{className:`profile-row`,style:{alignItems:`center`},children:[(0,Z.jsx)(`div`,{className:`label`,children:`Email Notifications`}),(0,Z.jsxs)(`div`,{className:`value`,style:{display:`flex`,alignItems:`center`,gap:`12px`},children:[(0,Z.jsx)(`span`,{style:{flex:1,fontSize:`14px`,color:`#666`},children:`Receive email updates about your activity`}),(0,Z.jsxs)(`label`,{className:`relative inline-flex items-center cursor-pointer`,children:[(0,Z.jsx)(`input`,{type:`checkbox`,className:`sr-only peer`}),(0,Z.jsx)(`div`,{className:`w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#e0b7a9]/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#e0b7a9]`})]})]})]}),(0,Z.jsxs)(`div`,{className:`profile-row`,style:{alignItems:`center`},children:[(0,Z.jsx)(`div`,{className:`label`,children:`Dark Mode`}),(0,Z.jsxs)(`div`,{className:`value`,style:{display:`flex`,alignItems:`center`,gap:`12px`},children:[(0,Z.jsx)(`span`,{style:{flex:1,fontSize:`14px`,color:`#666`},children:`Enable dark theme`}),(0,Z.jsxs)(`label`,{className:`relative inline-flex items-center cursor-pointer`,children:[(0,Z.jsx)(`input`,{type:`checkbox`,className:`sr-only peer`}),(0,Z.jsx)(`div`,{className:`w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#e0b7a9]/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#e0b7a9]`})]})]})]}),(0,Z.jsxs)(`div`,{className:`profile-row`,style:{alignItems:`center`},children:[(0,Z.jsx)(`div`,{className:`label`,children:`Auto-save Photos`}),(0,Z.jsxs)(`div`,{className:`value`,style:{display:`flex`,alignItems:`center`,gap:`12px`},children:[(0,Z.jsx)(`span`,{style:{flex:1,fontSize:`14px`,color:`#666`},children:`Automatically save captured photos`}),(0,Z.jsxs)(`label`,{className:`relative inline-flex items-center cursor-pointer`,children:[(0,Z.jsx)(`input`,{type:`checkbox`,className:`sr-only peer`,defaultChecked:!0}),(0,Z.jsx)(`div`,{className:`w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#e0b7a9]/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#e0b7a9]`})]})]})]})]})}),i===`privacy`&&(0,Z.jsx)(`div`,{children:(0,Z.jsxs)(`div`,{className:`profile-details`,children:[(0,Z.jsxs)(`div`,{className:`profile-row`,style:{display:`block`,padding:`18px 0`},children:[(0,Z.jsx)(`div`,{className:`label`,style:{marginBottom:`8px`},children:`Data Privacy`}),(0,Z.jsxs)(`div`,{className:`value`,style:{marginBottom:`12px`},children:[(0,Z.jsx)(`p`,{style:{fontSize:`14px`,color:`#666`,marginBottom:`12px`},children:`Control who can see your profile and activity`}),(0,Z.jsxs)(`label`,{className:`relative inline-flex items-center cursor-pointer`,children:[(0,Z.jsx)(`input`,{type:`checkbox`,className:`sr-only peer`}),(0,Z.jsx)(`div`,{className:`w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#e0b7a9]/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#e0b7a9]`}),(0,Z.jsx)(`span`,{className:`ml-3 text-sm font-medium text-gray-700`,children:`Make profile private`})]})]})]}),(0,Z.jsxs)(`div`,{className:`profile-row`,style:{display:`block`,padding:`18px 0`,borderBottom:`none`},children:[(0,Z.jsx)(`div`,{className:`label`,style:{marginBottom:`8px`,color:`#b91c1c`},children:`Delete Account`}),(0,Z.jsxs)(`div`,{className:`value`,style:{marginBottom:`12px`},children:[(0,Z.jsx)(`p`,{style:{fontSize:`14px`,color:`#666`,marginBottom:`12px`},children:`Permanently delete your account and all your data. This action cannot be undone.`}),(0,Z.jsx)(`button`,{style:{padding:`10px 20px`,background:`#b91c1c`,color:`#fff`,border:`none`,borderRadius:`8px`,fontWeight:600,cursor:`pointer`,transition:`all 0.2s`},onClick:()=>alert(`Please contact support to delete your account.`),children:`Delete Account`})]})]})]})}),i===`security`&&(0,Z.jsx)(`div`,{children:(0,Z.jsxs)(`div`,{className:`profile-details`,children:[(0,Z.jsxs)(`div`,{className:`profile-row`,style:{display:`block`,padding:`18px 0`},children:[(0,Z.jsx)(`div`,{className:`label`,style:{marginBottom:`16px`,fontSize:`18px`,fontWeight:`600`},children:`Change Password`}),D&&(0,Z.jsx)(`div`,{style:{padding:`12px 16px`,background:`#fee`,border:`1px solid #fcc`,borderRadius:`8px`,marginBottom:`16px`,fontSize:`14px`,color:`#c00`},children:D}),k&&(0,Z.jsx)(`div`,{style:{padding:`12px 16px`,background:`#efe`,border:`1px solid #cfc`,borderRadius:`8px`,marginBottom:`16px`,fontSize:`14px`,color:`#060`},children:k}),(0,Z.jsxs)(`form`,{onSubmit:se,children:[(0,Z.jsxs)(`div`,{style:{marginBottom:`16px`},children:[(0,Z.jsx)(`label`,{style:{display:`block`,fontSize:`14px`,fontWeight:`500`,color:`#333`,marginBottom:`6px`},children:`Current Password`}),(0,Z.jsx)(`input`,{type:`password`,value:T.currentPassword,onChange:e=>oe(`currentPassword`,e.target.value),placeholder:`Enter current password`,style:{width:`100%`,padding:`10px 14px`,border:`1px solid #ddd`,borderRadius:`8px`,fontSize:`14px`,outline:`none`,transition:`border 0.2s`},onFocus:e=>e.target.style.borderColor=`#e0b7a9`,onBlur:e=>e.target.style.borderColor=`#ddd`})]}),(0,Z.jsxs)(`div`,{style:{marginBottom:`16px`},children:[(0,Z.jsx)(`label`,{style:{display:`block`,fontSize:`14px`,fontWeight:`500`,color:`#333`,marginBottom:`6px`},children:`New Password`}),(0,Z.jsx)(`input`,{type:`password`,value:T.newPassword,onChange:e=>oe(`newPassword`,e.target.value),placeholder:`Enter new password (min. 6 characters)`,style:{width:`100%`,padding:`10px 14px`,border:`1px solid #ddd`,borderRadius:`8px`,fontSize:`14px`,outline:`none`,transition:`border 0.2s`},onFocus:e=>e.target.style.borderColor=`#e0b7a9`,onBlur:e=>e.target.style.borderColor=`#ddd`})]}),(0,Z.jsxs)(`div`,{style:{marginBottom:`20px`},children:[(0,Z.jsx)(`label`,{style:{display:`block`,fontSize:`14px`,fontWeight:`500`,color:`#333`,marginBottom:`6px`},children:`Confirm New Password`}),(0,Z.jsx)(`input`,{type:`password`,value:T.confirmPassword,onChange:e=>oe(`confirmPassword`,e.target.value),placeholder:`Re-enter new password`,style:{width:`100%`,padding:`10px 14px`,border:`1px solid #ddd`,borderRadius:`8px`,fontSize:`14px`,outline:`none`,transition:`border 0.2s`},onFocus:e=>e.target.style.borderColor=`#e0b7a9`,onBlur:e=>e.target.style.borderColor=`#ddd`})]}),(0,Z.jsx)(`button`,{type:`submit`,disabled:j,style:{padding:`12px 24px`,background:j?`#ccc`:`linear-gradient(to right, #e0b7a9, #c89585)`,color:`#fff`,border:`none`,borderRadius:`8px`,fontWeight:600,cursor:j?`not-allowed`:`pointer`,transition:`all 0.2s`,fontSize:`14px`},children:j?`Changing...`:`Change Password`})]})]}),(0,Z.jsxs)(`div`,{className:`profile-row`,style:{display:`block`,padding:`18px 0`,borderBottom:`none`},children:[(0,Z.jsx)(`div`,{className:`label`,style:{marginBottom:`8px`},children:`Two-Factor Authentication`}),(0,Z.jsxs)(`div`,{className:`value`,style:{marginBottom:`12px`},children:[(0,Z.jsx)(`p`,{style:{fontSize:`14px`,color:`#666`,marginBottom:`12px`},children:`Add an extra layer of security to your account (Coming Soon)`}),(0,Z.jsx)(`button`,{style:{padding:`10px 20px`,background:`#e5e5e5`,color:`#999`,border:`none`,borderRadius:`8px`,fontWeight:600,cursor:`not-allowed`,transition:`all 0.2s`},disabled:!0,children:`Enable 2FA`})]})]})]})})]})]})]})})}var OB=[{id:`fw-301`,title:`Fremio Series Blue 3x2`,size:`3x2`,color:`Blue`},{id:`fw-302`,title:`Fremio Series Pink 3`,size:`3x3`,color:`Pink`},{id:`fw-401`,title:`Everything You Are 3x2`,size:`3x2`,color:`Cream`},{id:`fw-105`,title:`Fremio Series Black 3`,size:`3x3`,color:`Black`},{id:`fw-205`,title:`Fremio Series Green 3`,size:`3x3`,color:`Green`},{id:`fw-501`,title:`Fremio Series Maroon 3`,size:`3x3`,color:`Maroon`}];function kB(){let e=(0,b.useMemo)(()=>OB,[]),[t,n]=(0,b.useState)(e),r=e=>n(t=>t.filter(t=>t.id!==e));return(0,Z.jsx)(`section`,{className:`min-h-screen bg-gradient-to-b from-[#fdf7f4] via-white to-[#f7f1ed] py-16`,children:(0,Z.jsx)(`div`,{className:`container mx-auto px-4 max-w-5xl`,children:(0,Z.jsxs)(`div`,{className:`bg-white rounded-2xl shadow-lg overflow-hidden`,children:[(0,Z.jsxs)(`div`,{className:`bg-gradient-to-r from-[#e0b7a9] to-[#c89585] p-8`,children:[(0,Z.jsx)(`h2`,{className:`text-3xl font-bold text-white`,children:`Wishlist`}),(0,Z.jsx)(`p`,{className:`text-white/90 mt-2`,children:`Frame yang kamu sukai`})]}),(0,Z.jsx)(`div`,{className:`p-6 sm:p-8`,children:t.length===0?(0,Z.jsx)(`div`,{className:`p-6 bg-gray-50 rounded-xl border border-gray-200 text-center text-gray-700`,children:`Belum ada item di Wishlist.`}):(0,Z.jsx)(`div`,{className:`grid gap-4 sm:grid-cols-2 lg:grid-cols-3`,children:t.map(e=>(0,Z.jsxs)(`div`,{className:`rounded-xl border border-gray-200 overflow-hidden bg-white shadow-sm`,children:[(0,Z.jsx)(`div`,{className:`h-36 bg-gradient-to-br from-[#f6ece8] to-white grid place-items-center text-sm text-gray-500`,children:(0,Z.jsx)(`span`,{className:`px-2 py-1 rounded bg-white/70 ring-1 ring-black/5`,children:e.size})}),(0,Z.jsxs)(`div`,{className:`p-4`,children:[(0,Z.jsx)(`div`,{className:`font-semibold text-gray-900 line-clamp-2`,children:e.title}),(0,Z.jsxs)(`div`,{className:`mt-1 text-xs text-gray-500`,children:[`Color: `,e.color]}),(0,Z.jsxs)(`div`,{className:`mt-3 flex items-center gap-2`,children:[(0,Z.jsx)(`button`,{className:`flex-1 px-3 py-2 text-sm rounded-lg border border-gray-300 hover:bg-gray-50`,children:`Open`}),(0,Z.jsx)(`button`,{onClick:()=>r(e.id),className:`px-3 py-2 text-sm rounded-lg bg-red-50 text-red-700 border border-red-200 hover:bg-red-100`,children:`Remove`})]})]})]},e.id))})})]})})})}function AB(){let{user:e,logout:t}=_S(),n=Be(),[r,i]=(0,b.useState)([]),[a,o]=(0,b.useState)(!0),[s,c]=(0,b.useState)(null),[l,u]=(0,b.useState)(``),d=(0,b.useRef)(!0),f=()=>{t(),n(`/`,{replace:!0})},p=(e?.name||[e?.firstName,e?.lastName].filter(Boolean).join(` `)||(e?.email?e.email.split(`@`)[0]:`User`)||`U`).split(` `).filter(Boolean).slice(0,2).map(e=>e[0]?.toUpperCase()).join(``)||`U`,m=localStorage.getItem(`profilePhoto_${e?.uid}`)||localStorage.getItem(`profilePhoto_${e?.email}`);(0,b.useEffect)(()=>(d.current=!0,()=>{d.current=!1}),[]);let h=(0,b.useCallback)(async()=>{if(d.current){o(!0),u(``);try{let e=await YI.loadDrafts();d.current&&i(Array.isArray(e)?e:[])}catch(e){console.error(` Failed to load drafts`,e),d.current&&(u(`Gagal memuat draft. Coba lagi nanti.`),i([]))}finally{d.current&&o(!1)}}},[]);(0,b.useEffect)(()=>{h()},[h]);let g=(0,b.useMemo)(()=>[...r].sort((e,t)=>{let n=new Date(e?.updatedAt||e?.createdAt||0).getTime();return new Date(t?.updatedAt||t?.createdAt||0).getTime()-n}),[r]),_=async e=>{e&&(u(``),n(`/create`,{state:{draftId:e.id}}),pS.setItem(`activeDraftId`,e.id),e.signature?pS.setItem(`activeDraftSignature`,e.signature):pS.removeItem(`activeDraftSignature`))},v=async e=>{if(e&&window.confirm(`Hapus draft ini?`)){d.current&&c(e);try{await YI.deleteDraft(e),await h()}catch(e){console.error(` Failed to delete draft`,e),d.current&&u(`Draft tidak bisa dihapus. Coba lagi.`)}finally{d.current&&c(null)}}},y=e=>{let t=e.title?.trim()||`Draft Frame`,n=9,r=16;if(e.aspectRatio&&typeof e.aspectRatio==`string`){let[t,i]=e.aspectRatio.split(`:`).map(Number);Number.isFinite(t)&&t>0&&Number.isFinite(i)&&i>0&&(n=t,r=i)}else if(e.canvasWidth&&e.canvasHeight){let t=Number(e.canvasWidth),i=Number(e.canvasHeight);Number.isFinite(t)&&t>0&&Number.isFinite(i)&&i>0&&(n=t,r=i)}let i=n/r,a=`9:16`;a=Math.abs(i-9/16)<.01?`9:16`:Math.abs(i-4/5)<.01?`4:5`:Math.abs(i-2/3)<.01?`2:3`:`${n}:${r}`;let o=e.updatedAt||e.createdAt,c=o?new Date(o).toLocaleDateString(`id-ID`,{day:`numeric`,month:`short`,year:`numeric`}):`-`,l=Math.round(80*(n/r));return(0,Z.jsxs)(`div`,{className:`profile-row`,style:{alignItems:`center`},children:[(0,Z.jsxs)(`div`,{className:`label`,style:{display:`flex`,alignItems:`center`,gap:`12px`},children:[(0,Z.jsxs)(`div`,{style:{width:`${l}px`,height:`80px`,borderRadius:`8px`,overflow:`hidden`,border:`1px solid #e5e7eb`,flexShrink:0,position:`relative`},children:[e.preview?(0,Z.jsx)(`img`,{src:e.preview,alt:t,style:{width:`100%`,height:`100%`,objectFit:`cover`,display:`block`},loading:`lazy`}):(0,Z.jsx)(`div`,{style:{width:`100%`,height:`100%`,display:`flex`,alignItems:`center`,justifyContent:`center`,background:`#f3f4f6`,fontSize:`10px`,color:`#9ca3af`,fontWeight:600},children:`No Preview`}),(0,Z.jsx)(`div`,{style:{position:`absolute`,bottom:`4px`,right:`4px`,background:`rgba(0,0,0,0.7)`,color:`#fff`,padding:`2px 6px`,borderRadius:`4px`,fontSize:`10px`,fontWeight:600},children:a})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`div`,{style:{fontWeight:700,color:`#222`,marginBottom:`4px`},children:t}),(0,Z.jsxs)(`div`,{style:{fontSize:`13px`,color:`#999`},children:[`Updated: `,c]})]})]}),(0,Z.jsxs)(`div`,{className:`value`,style:{display:`flex`,gap:`8px`,justifyContent:`flex-end`},children:[(0,Z.jsx)(`button`,{type:`button`,onClick:()=>_(e),style:{padding:`8px 16px`,background:`linear-gradient(to right, #e0b7a9, #c89585)`,color:`#fff`,border:`none`,borderRadius:`6px`,fontSize:`13px`,fontWeight:600,cursor:`pointer`,transition:`all 0.2s`},children:`Gunakan`}),(0,Z.jsx)(`button`,{type:`button`,onClick:()=>v(e.id),disabled:s===e.id,style:{padding:`8px 16px`,background:`#fff`,color:`#dc2626`,border:`1px solid #fecaca`,borderRadius:`6px`,fontSize:`13px`,fontWeight:600,cursor:s===e.id?`not-allowed`:`pointer`,opacity:s===e.id?.6:1,transition:`all 0.2s`},children:s===e.id?`Menghapus...`:`Hapus`})]})]},e.id)};return(0,Z.jsx)(`section`,{className:`profile-page`,children:(0,Z.jsxs)(`div`,{className:`profile-shell container`,children:[(0,Z.jsxs)(`div`,{className:`profile-header`,children:[(0,Z.jsx)(`div`,{className:`profile-avatar`,"aria-hidden":!0,style:{background:m?`url(${m})`:`#d9d9d9`,backgroundSize:`cover`,backgroundPosition:`center`},children:!m&&(0,Z.jsx)(`span`,{children:p})}),(0,Z.jsx)(`h1`,{className:`profile-title`,children:`My Drafts`})]}),(0,Z.jsxs)(`div`,{className:`profile-body`,children:[(0,Z.jsxs)(`aside`,{className:`profile-sidebar`,"aria-label":`Profile navigation`,children:[(0,Z.jsxs)(`nav`,{children:[(0,Z.jsx)(tn,{className:`nav-item`,to:`/profile`,children:`My Profile`}),(0,Z.jsx)(tn,{className:`nav-item`,to:`/settings`,children:`Settings`}),(0,Z.jsx)(tn,{className:`nav-item active`,to:`/drafts`,children:`Drafts`})]}),(0,Z.jsx)(`button`,{className:`nav-logout`,onClick:f,children:`Logout`})]}),(0,Z.jsxs)(`main`,{className:`profile-content`,children:[(0,Z.jsx)(`h2`,{className:`section-title`,children:`My Drafts`}),(0,Z.jsxs)(`div`,{style:{marginBottom:`20px`,display:`flex`,gap:`12px`,flexWrap:`wrap`},children:[(0,Z.jsx)(tn,{to:`/create`,style:{padding:`10px 20px`,background:`linear-gradient(to right, #e0b7a9, #c89585)`,color:`#fff`,textDecoration:`none`,borderRadius:`8px`,fontWeight:600,fontSize:`14px`,border:`none`,cursor:`pointer`,transition:`all 0.2s`},children:`Buat Draft Baru`}),(0,Z.jsx)(`button`,{type:`button`,onClick:h,disabled:a,style:{padding:`10px 20px`,background:`#fff`,color:`#666`,border:`1px solid #ddd`,borderRadius:`8px`,fontWeight:600,fontSize:`14px`,cursor:a?`not-allowed`:`pointer`,opacity:a?.6:1,transition:`all 0.2s`},children:a?`Memuat...`:`Refresh`})]}),l?(0,Z.jsx)(`div`,{style:{padding:`12px 16px`,background:`#fef2f2`,border:`1px solid #fecaca`,borderRadius:`8px`,color:`#dc2626`,fontSize:`14px`,marginBottom:`16px`},children:l}):null,a?(0,Z.jsxs)(`div`,{style:{marginTop:`80px`,display:`flex`,flexDirection:`column`,alignItems:`center`,gap:`12px`,color:`#666`},children:[(0,Z.jsx)(`div`,{style:{width:`32px`,height:`32px`,border:`3px solid #e5e7eb`,borderTop:`3px solid #a2665a`,borderRadius:`50%`,animation:`spin 1s linear infinite`}}),(0,Z.jsx)(`span`,{style:{fontSize:`14px`},children:`Memuat draft...`})]}):g.length===0?(0,Z.jsxs)(`div`,{style:{marginTop:`80px`,padding:`60px 24px`,background:`linear-gradient(to bottom, #fef8f5, #fff)`,border:`2px dashed #e0b7a9`,borderRadius:`12px`,textAlign:`center`,color:`#666`},children:[(0,Z.jsx)(`p`,{style:{fontSize:`16px`,fontWeight:600,marginBottom:`12px`},children:`Belum ada draft tersimpan.`}),(0,Z.jsx)(`p`,{style:{fontSize:`14px`,marginBottom:`24px`,maxWidth:`400px`,margin:`0 auto 24px`},children:`Buat frame pertama kamu di halaman Create, lalu simpan untuk digunakan kembali.`}),(0,Z.jsx)(tn,{to:`/create`,style:{display:`inline-block`,padding:`12px 24px`,background:`linear-gradient(to right, #e0b7a9, #c89585)`,color:`#fff`,textDecoration:`none`,borderRadius:`8px`,fontWeight:600,fontSize:`14px`,transition:`all 0.2s`},children:`Mulai Buat Frame`})]}):(0,Z.jsx)(`div`,{className:`profile-details`,children:g.map(e=>y(e))})]})]})]})})}function jB(){console.log(` Initializing demo data...`);let e=MB();localStorage.setItem(`users`,JSON.stringify(e));let t=JSON.parse(localStorage.getItem(`custom_frames`)||`[]`);if(t.length>0){let n=NB(e,t);localStorage.setItem(`frame_usage`,JSON.stringify(n));let r=PB(e,t);localStorage.setItem(`recent_activities`,JSON.stringify(r))}return console.log(` Demo data initialized!`),console.log(`   - ${e.length} users`),console.log(`   - ${t.length} frames`),{users:e,frames:t,message:`Demo data generated successfully! Refresh dashboard to see updates.`}}function MB(){return[`Ahmad Fadli`,`Siti Nurhaliza`,`Budi Santoso`,`Rina Wijaya`,`Eko Prasetyo`,`Dewi Lestari`,`Rudi Hermawan`,`Maya Sari`,`Joko Widodo`,`Ani Yudhoyono`].map((e,t)=>({id:`user-${t+1}`,name:e,email:`${e.toLowerCase().replace(/\s/g,`.`)}@example.com`,createdAt:new Date(Date.now()-Math.random()*30*24*60*60*1e3).toISOString()}))}function NB(e,t){let n=[];return t.forEach(t=>{let r=3+Math.floor(Math.random()*5);e.sort(()=>Math.random()-.5).slice(0,r).forEach(e=>{n.push({frameId:t.id,userId:e.id,views:Math.floor(Math.random()*20)+1,downloads:Math.floor(Math.random()*5),likes:Math.random()>.5?Math.floor(Math.random()*3):0,lastViewedAt:new Date(Date.now()-Math.random()*7*24*60*60*1e3).toISOString()})})}),n}function PB(e,t){let n=[],r=[`view`,`download`,`like`];for(let i=0;i<20;i++){let i=e[Math.floor(Math.random()*e.length)],a=t[Math.floor(Math.random()*t.length)],o=r[Math.floor(Math.random()*r.length)];n.push({type:o,userId:i.id,frameId:a.id,frameName:a.name,userName:i.name,timestamp:new Date(Date.now()-Math.random()*7*24*60*60*1e3).toISOString()})}return n.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp))}function FB(){let e=Be(),{currentUser:t}=_S(),[n,r]=(0,b.useState)({totalFrames:0,totalUsers:0,totalViews:0,totalDownloads:0,totalLikes:0}),[i,a]=(0,b.useState)(!1),o=()=>{try{let e=vF(),t=JSON.parse(localStorage.getItem(`users`)||`[]`),n=JSON.parse(localStorage.getItem(`frame_usage`)||`[]`),i=n.reduce((e,t)=>e+(t.views||0),0),a=n.reduce((e,t)=>e+(t.downloads||0),0),o=n.reduce((e,t)=>e+(t.likes||0),0);r({totalFrames:e.length,totalUsers:t.length,totalViews:i,totalDownloads:a,totalLikes:o})}catch(e){console.error(`Error loading stats:`,e)}};return(0,b.useEffect)(()=>{o()},[]),i?(0,Z.jsx)(`div`,{className:`min-h-screen flex items-center justify-center`,children:(0,Z.jsxs)(`div`,{className:`text-center`,children:[(0,Z.jsx)(`div`,{className:`inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600 mb-4`}),(0,Z.jsx)(`p`,{className:`text-gray-600`,children:`Loading dashboard...`})]})}):(0,Z.jsx)(`div`,{style:{background:`linear-gradient(180deg, #fdf7f4 0%, #fff 50%, #f7f1ed 100%)`,minHeight:`100vh`,padding:`32px 0 48px`},children:(0,Z.jsxs)(`div`,{style:{maxWidth:`1120px`,margin:`0 auto`,padding:`0 16px`},children:[!1,(0,Z.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(240px, 1fr))`,gap:`20px`,marginBottom:`32px`},children:[(0,Z.jsx)(IB,{title:`Total Frames`,value:n.totalFrames,subtitle:`Custom frames uploaded`,icon:(0,Z.jsx)(iN,{size:24}),color:`#3b82f6`,onClick:()=>e(`/admin/frames`)}),(0,Z.jsx)(IB,{title:`Total Users`,value:n.totalUsers,subtitle:`Registered users`,icon:(0,Z.jsx)(zN,{size:24}),color:`#a855f7`,onClick:()=>e(`/admin/analytics`)}),(0,Z.jsx)(IB,{title:`Total Views`,value:n.totalViews,subtitle:`Frame views`,icon:(0,Z.jsx)(rN,{size:24}),color:`#10b981`,onClick:()=>e(`/admin/analytics`)}),(0,Z.jsx)(IB,{title:`Total Downloads`,value:n.totalDownloads,subtitle:`Frame downloads`,icon:(0,Z.jsx)(tN,{size:24}),color:`#f59e0b`,onClick:()=>e(`/admin/analytics`)}),(0,Z.jsx)(IB,{title:`Total Likes`,value:n.totalLikes,subtitle:`Frame likes`,icon:(0,Z.jsx)(sN,{size:24}),color:`#ef4444`,onClick:()=>e(`/admin/analytics`)})]}),(0,Z.jsxs)(`section`,{style:{background:`#ffffff`,border:`1px solid #ecdeda`,borderRadius:`14px`,marginBottom:`24px`,overflow:`hidden`},children:[(0,Z.jsxs)(`div`,{style:{padding:`22px 24px`,borderBottom:`1px solid #f3ebe8`},children:[(0,Z.jsx)(`h2`,{style:{margin:`0 0 4px`,fontSize:`20px`,fontWeight:`800`,color:`#333`},children:`Quick Actions`}),(0,Z.jsx)(`p`,{style:{margin:0,color:`#6b6b6b`,fontSize:`14px`},children:`Manage frames and test with demo data`})]}),(0,Z.jsxs)(`div`,{style:{padding:`22px 24px`},children:[n.totalFrames===0&&(0,Z.jsxs)(`div`,{style:{backgroundColor:`#f0f9ff`,border:`1px solid #bfdbfe`,borderRadius:`10px`,padding:`12px 16px`,marginBottom:`16px`,display:`flex`,alignItems:`center`,gap:`10px`},children:[(0,Z.jsx)(iN,{size:20,style:{color:`#3b82f6`,flexShrink:0}}),(0,Z.jsxs)(`p`,{style:{margin:0,fontSize:`13px`,color:`#1e40af`,lineHeight:`1.5`},children:[`Belum ada frame yang diupload. Klik`,` `,(0,Z.jsx)(`strong`,{children:`"Upload Frame"`}),` untuk menambahkan frame custom pertama Anda!`]})]}),(0,Z.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`1fr 1fr`,gap:`12px`,marginBottom:`16px`},children:[(0,Z.jsxs)(`button`,{onClick:()=>e(`/admin/upload-frame`),style:{padding:`12px`,background:`linear-gradient(135deg, #e0b7a9 0%, #d4a396 100%)`,color:`white`,border:`none`,borderRadius:`10px`,fontSize:`15px`,fontWeight:`700`,cursor:`pointer`,transition:`all 0.2s`,display:`flex`,alignItems:`center`,justifyContent:`center`,gap:`8px`,boxShadow:`0 2px 8px rgba(224, 183, 169, 0.3)`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 4px 12px rgba(224, 183, 169, 0.4)`},onMouseLeave:e=>{e.currentTarget.style.transform=`translateY(0)`,e.currentTarget.style.boxShadow=`0 2px 8px rgba(224, 183, 169, 0.3)`},children:[(0,Z.jsx)(LN,{size:18}),`Upload Frame`]}),(0,Z.jsxs)(`button`,{onClick:()=>e(`/admin/frames`),style:{padding:`12px`,background:`white`,color:`#333`,border:`2px solid #e0b7a9`,borderRadius:`10px`,fontSize:`15px`,fontWeight:`700`,cursor:`pointer`,transition:`all 0.2s`,display:`flex`,alignItems:`center`,justifyContent:`center`,gap:`8px`},onMouseEnter:e=>{e.currentTarget.style.background=`#faf6f5`,e.currentTarget.style.transform=`translateY(-2px)`},onMouseLeave:e=>{e.currentTarget.style.background=`white`,e.currentTarget.style.transform=`translateY(0)`},children:[(0,Z.jsx)(iN,{size:18}),`Manage Frames`]})]}),(0,Z.jsxs)(`button`,{onClick:()=>{let e=jB();alert(e.message),o()},style:{padding:`12px`,background:`linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)`,color:`white`,border:`none`,borderRadius:`10px`,fontSize:`14px`,fontWeight:`600`,cursor:`pointer`,transition:`all 0.2s`,display:`flex`,alignItems:`center`,justifyContent:`center`,gap:`8px`,width:`100%`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 4px 12px rgba(59, 130, 246, 0.3)`},onMouseLeave:e=>{e.currentTarget.style.transform=`translateY(0)`,e.currentTarget.style.boxShadow=`none`},children:[(0,Z.jsx)(PN,{size:16}),`Initialize Demo Data (for Testing)`]})]})]}),(0,Z.jsxs)(`section`,{style:{background:`#ffffff`,border:`1px solid #ecdeda`,borderRadius:`14px`,overflow:`hidden`},children:[(0,Z.jsxs)(`div`,{style:{padding:`22px 24px`,borderBottom:`1px solid #f3ebe8`},children:[(0,Z.jsx)(`h2`,{style:{margin:`0 0 4px`,fontSize:`20px`,fontWeight:`800`,color:`#333`},children:`Quick Actions`}),(0,Z.jsx)(`p`,{style:{margin:0,color:`#6b6b6b`,fontSize:`14px`},children:`Common administrative tasks`})]}),(0,Z.jsxs)(`div`,{style:{padding:`22px 24px`,display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(260px, 1fr))`,gap:`16px`},children:[(0,Z.jsx)(LB,{icon:(0,Z.jsx)(LN,{size:20}),label:`Upload Frame`,description:`Upload custom PNG frame`,onClick:()=>e(`/admin/upload-frame`),highlight:!0}),(0,Z.jsx)(LB,{icon:(0,Z.jsx)(zN,{size:20}),label:`Manage Users`,description:`View and manage user accounts`,onClick:()=>e(`/admin/users`)}),(0,Z.jsx)(LB,{icon:(0,Z.jsx)(iN,{size:20}),label:`Manage Frames`,description:`View and manage frames`,onClick:()=>e(`/admin/frames`)}),(0,Z.jsx)(LB,{icon:(0,Z.jsx)(yN,{size:20}),label:`Categories`,description:`Manage frame categories`,onClick:()=>e(`/admin/categories`)}),(0,Z.jsx)(LB,{icon:(0,Z.jsx)(PN,{size:20}),label:`Analytics`,description:`View platform statistics`,onClick:()=>e(`/admin/analytics`)}),(0,Z.jsx)(LB,{icon:(0,Z.jsx)(ON,{size:20}),label:`Settings`,description:`Platform configuration`,onClick:()=>e(`/admin/settings`)})]})]})]})})}function IB({title:e,value:t,subtitle:n,icon:r,color:i,onClick:a}){return(0,Z.jsxs)(`div`,{onClick:a,style:{background:`#ffffff`,border:`1px solid #ecdeda`,borderRadius:`14px`,padding:`20px`,cursor:`pointer`,transition:`all 0.2s`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 4px 12px rgba(0,0,0,0.1)`},onMouseLeave:e=>{e.currentTarget.style.transform=`translateY(0)`,e.currentTarget.style.boxShadow=`none`},children:[(0,Z.jsx)(`div`,{style:{display:`flex`,alignItems:`center`,justifyContent:`space-between`,marginBottom:`16px`},children:(0,Z.jsx)(`div`,{style:{background:i,color:`white`,padding:`10px`,borderRadius:`10px`,display:`flex`,alignItems:`center`,justifyContent:`center`},children:r})}),(0,Z.jsx)(`h3`,{style:{fontSize:`28px`,fontWeight:`800`,color:`#222`,margin:`0 0 4px`},children:t}),(0,Z.jsx)(`p`,{style:{fontSize:`14px`,fontWeight:`700`,color:`#333`,margin:`0 0 2px`},children:e}),(0,Z.jsx)(`p`,{style:{fontSize:`12px`,color:`#6b6b6b`,margin:0},children:n})]})}function LB({icon:e,label:t,description:n,onClick:r,highlight:i=!1}){return(0,Z.jsxs)(`button`,{onClick:r,style:{display:`flex`,alignItems:`flex-start`,gap:`12px`,padding:`16px`,borderRadius:`10px`,border:i?`2px solid #e0b7a9`:`1px solid #ecdeda`,background:i?`linear-gradient(135deg, #fff5f2 0%, #ffffff 100%)`:`#ffffff`,textAlign:`left`,cursor:`pointer`,transition:`all 0.2s`,width:`100%`,boxShadow:i?`0 4px 12px rgba(224, 183, 169, 0.2)`:`none`},onMouseEnter:e=>{e.currentTarget.style.background=i?`linear-gradient(135deg, #fff0ec 0%, #fef9f7 100%)`:`#faf6f5`,e.currentTarget.style.borderColor=`#e0b7a9`,e.currentTarget.style.transform=`translateY(-2px)`,e.currentTarget.style.boxShadow=`0 6px 16px rgba(224, 183, 169, 0.25)`},onMouseLeave:e=>{e.currentTarget.style.background=i?`linear-gradient(135deg, #fff5f2 0%, #ffffff 100%)`:`#ffffff`,e.currentTarget.style.borderColor=i?`#e0b7a9`:`#ecdeda`,e.currentTarget.style.transform=`translateY(0)`,e.currentTarget.style.boxShadow=i?`0 4px 12px rgba(224, 183, 169, 0.2)`:`none`},children:[(0,Z.jsx)(`div`,{style:{color:i?`#e0b7a9`:`var(--accent, #e0b7a9)`,flexShrink:0,marginTop:`2px`,background:i?`#e0b7a9`:`transparent`,padding:i?`8px`:`0`,borderRadius:i?`8px`:`0`},children:(0,Z.jsx)(`div`,{style:{color:i?`white`:`#e0b7a9`},children:e})}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsxs)(`p`,{style:{fontWeight:`700`,color:i?`#e0b7a9`:`#222`,margin:`0 0 4px`,fontSize:`15px`},children:[t,i&&(0,Z.jsx)(`span`,{style:{marginLeft:`8px`,fontSize:`11px`,fontWeight:`600`,background:`#e0b7a9`,color:`white`,padding:`2px 8px`,borderRadius:`6px`},children:`NEW`})]}),(0,Z.jsx)(`p`,{style:{fontSize:`13px`,color:`#6b6b6b`,margin:0},children:n})]})]})}function RB(){Be();let{currentUser:e}=_S(),[t,n]=(0,b.useState)([]),[r,i]=(0,b.useState)({total:0}),[a,o]=(0,b.useState)(!1);(0,b.useEffect)(()=>{s()},[]);let s=async()=>{o(!0);try{let{getAllFrames:e,getFrameStats:t}=await w(async()=>{let{getAllFrames:e,getFrameStats:t}=await import(`./frameManagementService-B2YoXo6w.js`);return{getAllFrames:e,getFrameStats:t}},[]),[r,a]=await Promise.all([e(),t()]);n(r),i(a)}catch(e){console.error(`Error fetching frames:`,e)}o(!1)};return a?(0,Z.jsx)(`div`,{style:{minHeight:`100vh`,display:`flex`,alignItems:`center`,justifyContent:`center`},children:(0,Z.jsxs)(`div`,{style:{textAlign:`center`},children:[(0,Z.jsx)(`div`,{style:{display:`inline-block`,width:`48px`,height:`48px`,border:`4px solid #f3f4f6`,borderTop:`4px solid var(--accent)`,borderRadius:`50%`,animation:`spin 1s linear infinite`,marginBottom:`16px`}}),(0,Z.jsx)(`p`,{style:{color:`var(--text-secondary)`},children:`Loading frames...`})]})}):(0,Z.jsx)(`div`,{style:{background:`linear-gradient(180deg, #fdf7f4 0%, #fff 50%, #f7f1ed 100%)`,minHeight:`100vh`,padding:`32px 0 48px`},children:(0,Z.jsxs)(`div`,{style:{maxWidth:`1120px`,margin:`0 auto`,padding:`0 16px`},children:[!1,(0,Z.jsxs)(`div`,{style:{marginBottom:`32px`},children:[(0,Z.jsx)(`h1`,{style:{fontSize:`clamp(22px, 4vw, 34px)`,fontWeight:`800`,color:`#222`,margin:`0 0 8px`},children:`Frame Management`}),(0,Z.jsx)(`p`,{style:{color:`var(--text-secondary)`,fontSize:`15px`},children:`Review and manage community-submitted frames`})]}),(0,Z.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(180px, 1fr))`,gap:`16px`,marginBottom:`32px`},children:(0,Z.jsx)(zB,{title:`Total Frames`,value:r.total,color:`#3b82f6`})}),t.length===0?(0,Z.jsxs)(`div`,{className:`admin-card`,style:{padding:`60px 20px`,textAlign:`center`},children:[(0,Z.jsx)(iN,{size:48,style:{margin:`0 auto 16px`,color:`var(--text-secondary)`}}),(0,Z.jsx)(`p`,{style:{color:`var(--text-secondary)`,fontSize:`15px`},children:`Belum ada frame. Upload frame pertama Anda!`})]}):(0,Z.jsx)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`16px`},children:t.map(e=>(0,Z.jsx)(BB,{frame:e},e.id))})]})})}function zB({title:e,value:t,color:n}){return(0,Z.jsxs)(`div`,{className:`admin-card`,style:{padding:`20px`},children:[(0,Z.jsx)(`div`,{style:{backgroundColor:n,color:`white`,padding:`10px`,borderRadius:`10px`,width:`44px`,height:`44px`,display:`flex`,alignItems:`center`,justifyContent:`center`,marginBottom:`12px`},children:(0,Z.jsx)(iN,{size:20})}),(0,Z.jsx)(`p`,{style:{fontSize:`28px`,fontWeight:`800`,color:`#2d1b14`,marginBottom:`6px`},children:t}),(0,Z.jsx)(`p`,{style:{fontSize:`14px`,color:`#8b7064`,fontWeight:`500`},children:e})]})}function BB({frame:e}){return(0,Z.jsx)(`div`,{className:`admin-card`,style:{padding:`26px`},children:(0,Z.jsxs)(`div`,{style:{display:`flex`,gap:`24px`},children:[(0,Z.jsx)(`div`,{style:{flexShrink:0,width:`200px`,height:`200px`,background:`linear-gradient(135deg, #fef3f0 0%, #f7ebe7 100%)`,borderRadius:`14px`,overflow:`hidden`,border:`2px solid var(--border)`},children:e.thumbnailUrl?(0,Z.jsx)(`img`,{src:e.thumbnailUrl,alt:e.name,style:{width:`100%`,height:`100%`,objectFit:`cover`}}):(0,Z.jsx)(`div`,{style:{display:`flex`,alignItems:`center`,justifyContent:`center`,height:`100%`},children:(0,Z.jsx)(iN,{size:48,style:{color:`#c8b5ae`}})})}),(0,Z.jsxs)(`div`,{style:{flex:1},children:[(0,Z.jsx)(`div`,{style:{display:`flex`,alignItems:`flex-start`,justifyContent:`space-between`,marginBottom:`16px`},children:(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`h3`,{style:{fontSize:`22px`,fontWeight:`800`,color:`#2d1b14`,marginBottom:`6px`},children:e.name}),(0,Z.jsx)(`p`,{style:{color:`#8b7064`,marginBottom:`10px`,fontSize:`15px`},children:e.description||`No description`}),(0,Z.jsxs)(`p`,{style:{fontSize:`14px`,color:`#a89289`,fontWeight:`500`},children:[`Created by:`,` `,(0,Z.jsx)(`span`,{style:{fontWeight:`700`,color:`#6d5449`},children:e.creatorName||`Unknown`})]})]})}),(0,Z.jsxs)(`div`,{style:{display:`flex`,gap:`24px`,marginBottom:`20px`,paddingTop:`12px`,borderTop:`1px solid var(--border)`},children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`8px`,color:`#8b7064`},children:[(0,Z.jsx)(rN,{size:16}),(0,Z.jsxs)(`span`,{style:{fontSize:`14px`,fontWeight:`600`},children:[e.views||0,` views`]})]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`8px`,color:`#8b7064`},children:[(0,Z.jsx)(tN,{size:16}),(0,Z.jsxs)(`span`,{style:{fontSize:`14px`,fontWeight:`600`},children:[e.uses||0,` uses`]})]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`8px`,color:`#8b7064`},children:[(0,Z.jsx)(sN,{size:16}),(0,Z.jsxs)(`span`,{style:{fontSize:`14px`,fontWeight:`600`},children:[e.likes||0,` likes`]})]})]})]})]})})}async function VB(e,t){try{return{success:!0,frameId:(await qy(Lv(tS,MF.frames),{...e,createdBy:t,status:PF.DRAFT,isPublic:!1,views:0,uses:0,likes:0,createdAt:Xy(),updatedAt:Xy()})).id,message:`Frame created successfully`}}catch(e){return console.error(`Error creating frame:`,e),{success:!1,message:e.message||`Failed to create frame`}}}async function HB(e,t=null){try{let n;return n=t?Ty(Lv(tS,MF.frames),Dy(`createdBy`,`==`,e),Dy(`status`,`==`,t),Ay(`updatedAt`,`desc`)):Ty(Lv(tS,MF.frames),Dy(`createdBy`,`==`,e),Ay(`updatedAt`,`desc`)),(await Uy(n)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){return console.error(`Error fetching user frames:`,e),[]}}async function UB(e=null){try{let t;return t=e?Ty(Lv(tS,MF.frames),Dy(`status`,`==`,e),Ay(`updatedAt`,`desc`)):Ty(Lv(tS,MF.frames),Ay(`updatedAt`,`desc`)),(await Uy(t)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){return console.error(`Error fetching all frames:`,e),[]}}async function WB(e,t){try{let n=Jx(nS,`frames/${t}/thumbnail.jpg`);return await Kx(n,e),await qx(n)}catch(e){throw console.error(`Error uploading thumbnail:`,e),e}}async function GB(e=null){try{let t;return t=e?await HB(e):await UB(),{total:t.length,draft:t.filter(e=>e.status===PF.DRAFT).length,pending:t.filter(e=>e.status===PF.PENDING_REVIEW).length,approved:t.filter(e=>e.status===PF.APPROVED).length,rejected:t.filter(e=>e.status===PF.REJECTED).length,requestChanges:t.filter(e=>e.status===PF.REQUEST_CHANGES).length}}catch(e){return console.error(`Error fetching frame stats:`,e),{total:0,draft:0,pending:0,approved:0,rejected:0,requestChanges:0}}}async function KB(e,t={}){let{minWidth:n=50,minHeight:r=50,alphaThreshold:i=50,mergeTolerance:a=10,maxSlots:o=10}=t;return new Promise((t,s)=>{let c=new Image;if(c.onload=()=>{try{console.log(` Starting slot detection...`),console.log(` Image dimensions:`,c.width,`x`,c.height);let e=document.createElement(`canvas`);e.width=c.width,e.height=c.height;let s=e.getContext(`2d`,{willReadFrequently:!0});s.drawImage(c,0,0);let l=s.getImageData(0,0,c.width,c.height).data,u=qB(l,c.width,c.height,i);console.log(` Found transparent regions:`,u.length);let d=YB(u,c.width,c.height);console.log(` Detected rectangles:`,d.length);let f=d.filter(e=>e.width>=n&&e.height>=r);console.log(` Valid rectangles (after size filter):`,f.length);let p=XB(f,a);console.log(` Merged rectangles:`,p.length),p.sort((e,t)=>Math.abs(e.y-t.y)<50?e.x-t.x:e.y-t.y);let m=p.slice(0,o).map((e,t)=>({id:`slot_${t+1}`,left:e.x/c.width,top:e.y/c.height,width:e.width/c.width,height:e.height/c.height,aspectRatio:QB(e.width,e.height),zIndex:2,photoIndex:t}));console.log(` Generated slots:`,m.length),m.forEach((e,t)=>{console.log(`  Slot ${t+1}:`,{position:`${(e.left*100).toFixed(1)}%, ${(e.top*100).toFixed(1)}%`,size:`${(e.width*100).toFixed(1)}% x ${(e.height*100).toFixed(1)}%`,ratio:e.aspectRatio})}),t(m)}catch(e){console.error(` Error during slot detection:`,e),s(e)}},c.onerror=e=>{console.error(` Error loading image:`,e),s(Error(`Failed to load image`))},typeof e==`string`)c.src=e;else if(e instanceof File){let t=new FileReader;t.onload=e=>{c.src=e.target.result},t.onerror=s,t.readAsDataURL(e)}else s(Error(`Invalid image source`))})}function qB(e,t,n,r){let i=[],a=new Set;for(let o=0;o<n;o++)for(let s=0;s<t;s++){let c=(o*t+s)*4,l=e[c+3],u=`${s},${o}`;if(l<r&&!a.has(u)){let c=JB(e,t,n,s,o,r,a);c.length>100&&i.push(c)}}return i}function JB(e,t,n,r,i,a,o){let s=[],c=[[r,i]];for(;c.length>0;){let[r,i]=c.pop(),l=`${r},${i}`;if(o.has(l)||r<0||r>=t||i<0||i>=n)continue;let u=(i*t+r)*4;e[u+3]>=a||(o.add(l),s.push({x:r,y:i}),c.push([r+1,i]),c.push([r-1,i]),c.push([r,i+1]),c.push([r,i-1]))}return s}function YB(e,t,n){return e.map(e=>{let r=t,i=n,a=0,o=0;return e.forEach(({x:e,y:t})=>{r=Math.min(r,e),i=Math.min(i,t),a=Math.max(a,e),o=Math.max(o,t)}),{x:r,y:i,width:a-r+1,height:o-i+1}})}function XB(e,t){if(e.length===0)return[];let n=[],r=new Set;for(let i=0;i<e.length;i++){if(r.has(i))continue;let a={...e[i]},o=!0;for(;o;){o=!1;for(let n=0;n<e.length;n++){if(i===n||r.has(n))continue;let s=e[n];if(ZB(a,s,t)){let e=Math.min(a.x,s.x),t=Math.min(a.y,s.y),i=Math.max(a.x+a.width,s.x+s.width),c=Math.max(a.y+a.height,s.y+s.height);a={x:e,y:t,width:i-e,height:c-t},r.add(n),o=!0}}}n.push(a),r.add(i)}return n}function ZB(e,t,n){let r=e.x<=t.x+t.width+n&&e.x+e.width+n>=t.x,i=e.y<=t.y+t.height+n&&e.y+e.height+n>=t.y;return r&&i}function QB(e,t){let n=e/t;return Math.abs(n-1)<.1?`1:1`:Math.abs(n-4/5)<.1?`4:5`:Math.abs(n-3/4)<.1?`3:4`:Math.abs(n-16/9)<.1?`16:9`:Math.abs(n-4/3)<.1?`4:3`:n<1?`4:5`:`16:9`}async function $B(e){return KB(e,{minWidth:80,minHeight:100,alphaThreshold:50,mergeTolerance:15,maxSlots:8})}function eV(){let e=Be(),{user:t}=_S();console.log(` AdminUploadFrame component rendered`),console.log(` Current user:`,t);let[n,r]=(0,b.useState)(``),[i,a]=(0,b.useState)(``),[o,s]=(0,b.useState)(`custom`),[c,l]=(0,b.useState)(3),[u,d]=(0,b.useState)(!1),[f,p]=(0,b.useState)(null),[m,h]=(0,b.useState)(``),[g,_]=(0,b.useState)([]),[v,y]=(0,b.useState)(!1),[x,S]=(0,b.useState)(!1),[C,w]=(0,b.useState)(!1),T=async e=>{console.log(` handleImageUpload triggered`);let t=e.target.files[0];if(console.log(` Selected file:`,t),!t){console.log(` No file selected`);return}if(!t.type.startsWith(`image/png`)){console.log(` Invalid file type:`,t.type),alert(`Hanya file PNG yang diperbolehkan`);return}console.log(` Valid PNG file:`,t.name,`Size:`,t.size),p(t);let n=new FileReader;n.onloadend=async()=>{console.log(` Preview created successfully`),h(n.result),console.log(` Starting automatic slot detection...`),y(!0);try{let e=await $B(n.result);console.log(` Auto-detected slots:`,e.length),e.length>0?(_(e),l(e.length),alert(` Berhasil mendeteksi ${e.length} slot foto secara otomatis!\n\nAnda dapat edit posisi slot jika perlu, atau langsung upload frame.`)):(console.log(` No slots detected, user can add manually`),alert(` Tidak ada area transparan yang terdeteksi.

Gunakan tombol 'Add Slot' untuk menambah slot secara manual.`))}catch(e){console.error(` Error detecting slots:`,e),alert(` Gagal mendeteksi slot otomatis.

Gunakan tombol 'Add Slot' untuk menambah slot secara manual.`)}finally{y(!1)}},n.readAsDataURL(t)},E=()=>{let e={id:`slot_${g.length+1}`,left:.1,top:.1,width:.4,height:.3,aspectRatio:`4:5`,zIndex:2,photoIndex:g.length%c};_([...g,e])},D=(e,t,n)=>{let r=[...g];r[e]={...r[e],[t]:t===`left`||t===`top`||t===`width`||t===`height`?parseFloat(n):n},_(r)},O=e=>{_(g.filter((t,n)=>n!==e))};return(0,Z.jsxs)(`div`,{style:{background:`linear-gradient(180deg, #fdf7f4 0%, #fff 50%, #f7f1ed 100%)`,minHeight:`100vh`,padding:`32px 0 48px`},children:[(0,Z.jsxs)(`div`,{style:{maxWidth:`1120px`,margin:`0 auto 20px`,padding:`16px`,backgroundColor:`#fff3cd`,border:`2px solid #ffc107`,borderRadius:`8px`,fontSize:`14px`},children:[(0,Z.jsx)(`strong`,{children:` Debug Info:`}),(0,Z.jsx)(`br`,{}),`Component: AdminUploadFrame `,(0,Z.jsx)(`br`,{}),`User: `,t?.email||`Not logged in`,(0,Z.jsx)(`br`,{}),`Path: /admin/upload-frame`]}),(0,Z.jsx)(`div`,{style:{maxWidth:`1120px`,margin:`0 auto`,padding:`0 16px`},children:(0,Z.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`1fr 1fr`,gap:`24px`},children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`24px`},children:[(0,Z.jsxs)(`section`,{className:`admin-card`,children:[(0,Z.jsx)(`div`,{className:`admin-card-header`,children:(0,Z.jsx)(`h2`,{className:`admin-card-title`,children:`Informasi Frame`})}),(0,Z.jsxs)(`div`,{className:`admin-card-body`,style:{display:`flex`,flexDirection:`column`,gap:`16px`},children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Nama Frame *`}),(0,Z.jsx)(`input`,{type:`text`,value:n,onChange:e=>r(e.target.value),className:`admin-input`,placeholder:`contoh: FremioSeries-red-3`})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Deskripsi`}),(0,Z.jsx)(`textarea`,{value:i,onChange:e=>a(e.target.value),rows:3,className:`admin-textarea`,placeholder:`Deskripsi frame...`})]}),(0,Z.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`1fr 1fr`,gap:`16px`},children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Kategori`}),(0,Z.jsxs)(`select`,{value:o,onChange:e=>s(e.target.value),className:`admin-select`,children:[(0,Z.jsx)(`option`,{value:`custom`,children:`Custom`}),(0,Z.jsx)(`option`,{value:`fremio-series`,children:`Fremio Series`}),(0,Z.jsx)(`option`,{value:`inspired-by`,children:`Inspired By`}),(0,Z.jsx)(`option`,{value:`seasonal`,children:`Seasonal`})]})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Jumlah Foto`}),(0,Z.jsx)(`input`,{type:`number`,value:c,onChange:e=>l(e.target.value),min:`1`,max:`10`,className:`admin-input`})]})]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`8px`},children:[(0,Z.jsx)(`input`,{type:`checkbox`,id:`duplicatePhotos`,checked:u,onChange:e=>d(e.target.checked),style:{width:`16px`,height:`16px`}}),(0,Z.jsx)(`label`,{htmlFor:`duplicatePhotos`,style:{fontSize:`14px`,color:`var(--text-secondary)`,cursor:`pointer`},children:`Duplikat foto (2 copy per foto)`})]})]})]}),(0,Z.jsxs)(`section`,{className:`admin-card`,children:[(0,Z.jsxs)(`div`,{className:`admin-card-header`,children:[(0,Z.jsx)(`h2`,{className:`admin-card-title`,children:`Upload Frame (PNG)`}),(0,Z.jsx)(`p`,{style:{fontSize:`13px`,color:`#a89289`,marginTop:`4px`},children:`Upload gambar frame dalam format PNG dengan area transparan untuk foto`})]}),(0,Z.jsx)(`div`,{className:`admin-card-body`,style:{display:`flex`,flexDirection:`column`,gap:`20px`},children:m?(0,Z.jsxs)(`div`,{children:[(0,Z.jsxs)(`div`,{style:{position:`relative`,marginBottom:`16px`},children:[(0,Z.jsx)(`img`,{src:m,alt:`Frame preview`,style:{width:`100%`,borderRadius:`14px`,border:`3px solid #e0b7a9`,boxShadow:`0 8px 24px rgba(224, 183, 169, 0.2)`}}),(0,Z.jsxs)(`div`,{className:`admin-badge-success`,style:{position:`absolute`,top:`16px`,right:`16px`,display:`flex`,alignItems:`center`,gap:`8px`,boxShadow:`0 4px 12px rgba(0,0,0,0.15)`,padding:`8px 16px`,fontSize:`14px`,fontWeight:`600`},children:[(0,Z.jsx)(JM,{size:18}),`File Terupload`]})]}),f&&(0,Z.jsxs)(`div`,{style:{backgroundColor:`#fefcfb`,padding:`16px`,borderRadius:`12px`,border:`2px solid #ecdeda`,display:`flex`,alignItems:`center`,justifyContent:`space-between`},children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`},children:[(0,Z.jsx)(iN,{size:24,style:{color:`#e0b7a9`}}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`p`,{style:{fontSize:`14px`,fontWeight:`600`,color:`#2d1b14`,marginBottom:`2px`},children:f.name}),(0,Z.jsxs)(`p`,{style:{fontSize:`12px`,color:`#a89289`},children:[(f.size/1024).toFixed(2),` KB`]})]})]}),(0,Z.jsx)(`button`,{onClick:()=>{p(null),h(``)},className:`admin-button-secondary`,style:{padding:`8px 16px`,fontSize:`13px`},children:`Ganti File`})]})]}):(0,Z.jsxs)(`div`,{onClick:()=>{console.log(` Upload area clicked`),document.getElementById(`frame-upload`).click()},style:{border:`3px dashed #e0b7a9`,borderRadius:`16px`,padding:`48px 32px`,textAlign:`center`,cursor:`pointer`,transition:`all 0.3s ease`,backgroundColor:`#fefcfb`,minHeight:`280px`,display:`flex`,flexDirection:`column`,alignItems:`center`,justifyContent:`center`,position:`relative`,overflow:`hidden`},onMouseEnter:e=>{e.currentTarget.style.borderColor=`#d4a89a`,e.currentTarget.style.backgroundColor=`#fff5f2`,e.currentTarget.style.transform=`scale(1.01)`},onMouseLeave:e=>{e.currentTarget.style.borderColor=`#e0b7a9`,e.currentTarget.style.backgroundColor=`#fefcfb`,e.currentTarget.style.transform=`scale(1)`},children:[(0,Z.jsx)(`input`,{type:`file`,accept:`image/png`,onChange:T,style:{display:`none`},id:`frame-upload`}),(0,Z.jsx)(`div`,{style:{width:`80px`,height:`80px`,borderRadius:`50%`,backgroundColor:`#fff0ec`,display:`flex`,alignItems:`center`,justifyContent:`center`,marginBottom:`20px`,border:`3px solid #e0b7a9`},children:(0,Z.jsx)(LN,{size:40,style:{color:`#e0b7a9`}})}),(0,Z.jsx)(`h3`,{style:{fontSize:`20px`,fontWeight:`700`,color:`#2d1b14`,marginBottom:`8px`},children:`Klik atau Drag & Drop File PNG`}),(0,Z.jsx)(`p`,{style:{color:`#8b7064`,marginBottom:`16px`,fontSize:`15px`,lineHeight:`1.6`},children:`Upload gambar frame photobooth Anda di sini`}),(0,Z.jsxs)(`div`,{style:{backgroundColor:`#fff`,padding:`16px 24px`,borderRadius:`12px`,border:`2px solid #ecdeda`,maxWidth:`400px`},children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`,marginBottom:`8px`},children:[(0,Z.jsx)(iN,{size:20,style:{color:`#e0b7a9`}}),(0,Z.jsx)(`span`,{style:{fontSize:`13px`,fontWeight:`600`,color:`#6d5449`},children:`Spesifikasi File:`})]}),(0,Z.jsxs)(`ul`,{style:{fontSize:`12px`,color:`#a89289`,listStyle:`none`,padding:0,margin:0,lineHeight:`1.8`},children:[(0,Z.jsx)(`li`,{children:` Format: PNG dengan transparency`}),(0,Z.jsx)(`li`,{children:` Ukuran: 1080  1920 pixels (9:16)`}),(0,Z.jsx)(`li`,{children:` Max size: 5MB`})]})]}),(0,Z.jsx)(`div`,{style:{position:`absolute`,top:`-50%`,right:`-50%`,width:`200%`,height:`200%`,background:`radial-gradient(circle, rgba(224,183,169,0.05) 0%, transparent 70%)`,pointerEvents:`none`,zIndex:0}})]})})]}),(0,Z.jsxs)(`section`,{className:`admin-card`,children:[(0,Z.jsxs)(`div`,{className:`admin-card-header`,style:{display:`flex`,alignItems:`center`,justifyContent:`space-between`},children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsxs)(`h2`,{className:`admin-card-title`,children:[`Slot Foto (`,g.length,`)`]}),(0,Z.jsx)(`p`,{style:{fontSize:`12px`,color:`#a89289`,marginTop:`4px`},children:v?` Mendeteksi slot otomatis...`:`Slot akan terdeteksi otomatis saat upload PNG`})]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,gap:`12px`},children:[m&&(0,Z.jsxs)(`button`,{onClick:async()=>{y(!0);try{let e=await $B(m);e.length>0?(_(e),l(e.length),alert(` Berhasil mendeteksi ${e.length} slot!`)):alert(` Tidak ada area transparan terdeteksi`)}catch(e){console.error(` Error re-detecting slots:`,e),alert(` Gagal mendeteksi slot`)}finally{y(!1)}},disabled:v,className:`admin-button-secondary`,style:{display:`flex`,alignItems:`center`,gap:`8px`,opacity:v?.6:1,cursor:v?`wait`:`pointer`},children:[(0,Z.jsx)(rN,{size:20}),v?`Detecting...`:`Re-detect Slots`]}),(0,Z.jsxs)(`button`,{onClick:E,className:`admin-button-primary`,style:{display:`flex`,alignItems:`center`,gap:`8px`},children:[(0,Z.jsx)(CN,{size:20}),`Tambah Manual`]})]})]}),(0,Z.jsx)(`div`,{className:`admin-card-body`,style:{display:`flex`,flexDirection:`column`,gap:`16px`},children:g.length===0?(0,Z.jsxs)(`div`,{style:{textAlign:`center`,padding:`40px 20px`,color:`#a89289`,backgroundColor:`#fefcfb`,borderRadius:`12px`,border:`2px dashed #e0b7a9`},children:[(0,Z.jsx)(iN,{size:48,style:{margin:`0 auto 12px`,color:`#c8b5ae`}}),(0,Z.jsx)(`p`,{style:{fontSize:`15px`,fontWeight:`600`,marginBottom:`8px`},children:m?` Slot akan terdeteksi otomatis`:`Upload frame PNG untuk auto-detect slot`}),(0,Z.jsx)(`p`,{style:{fontSize:`13px`,color:`#b8a39d`},children:m?`Klik 'Re-detect Slots' atau 'Tambah Manual'`:`Area transparan pada PNG akan otomatis terdeteksi sebagai slot foto`})]}):g.map((e,t)=>(0,Z.jsx)(tV,{slot:e,index:t,maxCaptures:c,onUpdate:D,onDelete:O},t))})]})]}),(0,Z.jsxs)(`div`,{style:{position:`sticky`,top:`32px`,alignSelf:`flex-start`},children:[(0,Z.jsxs)(`section`,{className:`admin-card`,children:[(0,Z.jsxs)(`div`,{className:`admin-card-header`,style:{display:`flex`,alignItems:`center`,justifyContent:`space-between`},children:[(0,Z.jsx)(`h2`,{className:`admin-card-title`,children:`Live Preview`}),(0,Z.jsxs)(`button`,{onClick:()=>S(!x),className:`admin-button-secondary`,style:{display:`flex`,alignItems:`center`,gap:`8px`},children:[(0,Z.jsx)(rN,{size:20}),x?`Sembunyikan`:`Tampilkan`]})]}),(0,Z.jsxs)(`div`,{className:`admin-card-body`,children:[x&&m&&(0,Z.jsxs)(`div`,{style:{position:`relative`,backgroundColor:`#f7f1ed`,borderRadius:`14px`,overflow:`hidden`,aspectRatio:`9/16`},children:[(0,Z.jsx)(`img`,{src:m,alt:`Frame`,style:{position:`absolute`,inset:0,width:`100%`,height:`100%`,objectFit:`contain`,zIndex:3}}),g.map((e,t)=>(0,Z.jsx)(`div`,{style:{position:`absolute`,border:`2px solid #3b82f6`,backgroundColor:`rgba(59, 130, 246, 0.15)`,left:`${e.left*100}%`,top:`${e.top*100}%`,width:`${e.width*100}%`,aspectRatio:(e=>{switch(e){case`1:1`:return`1/1`;case`4:5`:return`4/5`;case`3:4`:return`3/4`;case`16:9`:return`16/9`;case`9:16`:return`9/16`;default:return`4/5`}})(e.aspectRatio),zIndex:1},children:(0,Z.jsxs)(`div`,{style:{position:`absolute`,top:`4px`,left:`4px`,backgroundColor:`#3b82f6`,color:`white`,fontSize:`11px`,padding:`4px 8px`,borderRadius:`6px`,fontWeight:`600`},children:[`Slot `,t+1,` (Foto `,e.photoIndex+1,`)`]})},t))]}),!x&&(0,Z.jsxs)(`div`,{style:{textAlign:`center`,padding:`60px 20px`,color:`#a89289`},children:[(0,Z.jsx)(rN,{size:48,style:{margin:`0 auto 12px`,color:`#c8b5ae`}}),(0,Z.jsx)(`p`,{style:{fontSize:`15px`},children:`Klik "Tampilkan" untuk preview`})]})]})]}),(0,Z.jsxs)(`div`,{style:{marginTop:`24px`,display:`flex`,gap:`16px`},children:[(0,Z.jsx)(`button`,{onClick:()=>e(`/admin/frames`),className:`admin-button-secondary`,style:{flex:1,padding:`14px`},children:`Batal`}),(0,Z.jsxs)(`button`,{onClick:async()=>{if(!n.trim()){alert(`Nama frame harus diisi`);return}if(!f){alert(`Upload gambar frame terlebih dahulu`);return}if(g.length===0){alert(`Tambahkan minimal 1 slot foto`);return}w(!0);try{let r={id:n.toLowerCase().replace(/\s+/g,`-`),name:n,description:i,category:o,maxCaptures:parseInt(c),duplicatePhotos:u,slots:g.map(e=>({...e,left:parseFloat(e.left),top:parseFloat(e.top),width:parseFloat(e.width),height:parseFloat(e.height),zIndex:parseInt(e.zIndex),photoIndex:parseInt(e.photoIndex)})),layout:{aspectRatio:`9:16`,orientation:`portrait`,backgroundColor:`#ffffff`}};{let n=await VB({...r,imagePath:``,createdBy:t.uid},t.uid);if(n.success)await WB(f,n.frameId),alert(`Frame berhasil diupload!`),e(`/admin/frames`);else throw Error(n.message)}}catch(e){console.error(`Error saving frame:`,e),alert(`Gagal menyimpan frame: `+e.message)}finally{w(!1)}},disabled:C,className:`admin-button-primary`,style:{flex:1,padding:`14px`,display:`flex`,alignItems:`center`,justifyContent:`center`,gap:`8px`,opacity:C?.5:1,cursor:C?`not-allowed`:`pointer`},children:[(0,Z.jsx)(TN,{size:20}),C?`Menyimpan...`:`Simpan Frame`]})]})]})]})})]})}function tV({slot:e,index:t,maxCaptures:n,onUpdate:r,onDelete:i}){return(0,Z.jsxs)(`div`,{style:{border:`2px solid var(--border)`,borderRadius:`12px`,padding:`16px`,backgroundColor:`#fdfbfa`},children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,justifyContent:`space-between`,marginBottom:`12px`},children:[(0,Z.jsxs)(`h3`,{style:{fontWeight:`700`,color:`#2d1b14`,fontSize:`15px`},children:[`Slot `,t+1]}),(0,Z.jsx)(`button`,{onClick:()=>i(t),style:{color:`#dc2626`,padding:`6px`,border:`none`,background:`transparent`,cursor:`pointer`,borderRadius:`6px`,transition:`all 0.2s ease`},onMouseEnter:e=>e.currentTarget.style.backgroundColor=`#fee2e2`,onMouseLeave:e=>e.currentTarget.style.backgroundColor=`transparent`,children:(0,Z.jsx)(NN,{size:18})})]}),(0,Z.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`1fr 1fr`,gap:`12px`},children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,style:{fontSize:`12px`},children:`Kiri (0.0-1.0)`}),(0,Z.jsx)(`input`,{type:`number`,step:`0.01`,min:`0`,max:`1`,value:e.left,onChange:e=>r(t,`left`,e.target.value),className:`admin-input`,style:{fontSize:`13px`,padding:`8px 12px`}})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,style:{fontSize:`12px`},children:`Atas (0.0-1.0)`}),(0,Z.jsx)(`input`,{type:`number`,step:`0.01`,min:`0`,max:`1`,value:e.top,onChange:e=>r(t,`top`,e.target.value),className:`admin-input`,style:{fontSize:`13px`,padding:`8px 12px`}})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,style:{fontSize:`12px`},children:`Lebar (0.0-1.0)`}),(0,Z.jsx)(`input`,{type:`number`,step:`0.01`,min:`0`,max:`1`,value:e.width,onChange:e=>r(t,`width`,e.target.value),className:`admin-input`,style:{fontSize:`13px`,padding:`8px 12px`}})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,style:{fontSize:`12px`},children:`Tinggi (0.0-1.0)`}),(0,Z.jsx)(`input`,{type:`number`,step:`0.01`,min:`0`,max:`1`,value:e.height,onChange:e=>r(t,`height`,e.target.value),className:`admin-input`,style:{fontSize:`13px`,padding:`8px 12px`}})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,style:{fontSize:`12px`},children:`Aspect Ratio`}),(0,Z.jsxs)(`select`,{value:e.aspectRatio||`4:5`,onChange:e=>r(t,`aspectRatio`,e.target.value),className:`admin-select`,style:{fontSize:`13px`,padding:`8px 12px`},children:[(0,Z.jsx)(`option`,{value:`4:5`,children:`4:5 (Portrait)`}),(0,Z.jsx)(`option`,{value:`1:1`,children:`1:1 (Square)`}),(0,Z.jsx)(`option`,{value:`16:9`,children:`16:9 (Landscape)`}),(0,Z.jsx)(`option`,{value:`3:4`,children:`3:4 (Portrait)`}),(0,Z.jsx)(`option`,{value:`9:16`,children:`9:16 (Tall Portrait)`})]})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,style:{fontSize:`12px`},children:`Index Foto`}),(0,Z.jsx)(`select`,{value:e.photoIndex,onChange:e=>r(t,`photoIndex`,e.target.value),className:`admin-select`,style:{fontSize:`13px`,padding:`8px 12px`},children:Array.from({length:n},(e,t)=>(0,Z.jsxs)(`option`,{value:t,children:[`Foto `,t+1]},t))})]})]}),(0,Z.jsxs)(`div`,{style:{fontSize:`12px`,color:`#8b7064`,backgroundColor:`#fff`,padding:`10px`,borderRadius:`8px`,marginTop:`12px`,border:`1px solid var(--border)`},children:[`Posisi: (`,(e.left*100).toFixed(1),`%, `,(e.top*100).toFixed(1),`%)  Ukuran: `,(e.width*100).toFixed(1),`% `,` `,(e.height*100).toFixed(1),`%`]})]})}function nV(){Be();let{currentUser:e}=_S(),[t,n]=(0,b.useState)([]),[r,i]=(0,b.useState)([]),[a,o]=(0,b.useState)({total:0,kreators:0,regular:0,active:0,banned:0}),[s,c]=(0,b.useState)(!1),[l,u]=(0,b.useState)(``),[d,f]=(0,b.useState)(`all`),[p,m]=(0,b.useState)(`all`),[h,g]=(0,b.useState)(null),[_,v]=(0,b.useState)(!1);(0,b.useEffect)(()=>{y()},[]),(0,b.useEffect)(()=>{let e=[...t];if(l.trim()){let t=l.toLowerCase();e=e.filter(e=>e.name?.toLowerCase().includes(t)||e.email?.toLowerCase().includes(t)||e.phone?.toLowerCase().includes(t))}d!==`all`&&(e=e.filter(e=>e.role===d)),p!==`all`&&(e=e.filter(e=>e.status===p)),i(e)},[l,d,p,t]);let y=async()=>{c(!0);try{let{getAllUsers:e,getUserStats:t}=await w(async()=>{let{getAllUsers:e,getUserStats:t}=await import(`./userService-bS2VYKMm.js`);return{getAllUsers:e,getUserStats:t}},[]),r=await e(),i=await t();n(r),o(i)}catch(e){console.error(`Error fetching users:`,e)}c(!1)},x=async t=>{if(window.confirm(`Promote this user to Kreator? They will be able to create and submit frames.`))try{let{updateUserRole:n}=await w(async()=>{let{updateUserRole:e}=await import(`./userService-bS2VYKMm.js`);return{updateUserRole:e}},[]),r=await n(t,`kreator`,e.uid);r.success?(alert(`User promoted to Kreator!`),y()):alert(r.message||`Failed to promote user`)}catch(e){console.error(`Error promoting user:`,e),alert(`Failed to promote user`)}},S=async t=>{if(window.confirm(`Ban this user? They will not be able to access the platform.`))try{let{banUser:n}=await w(async()=>{let{banUser:e}=await import(`./userService-bS2VYKMm.js`);return{banUser:e}},[]),r=await n(t,e.uid,`Banned by admin`);r.success?(alert(`User banned!`),y()):alert(r.message||`Failed to ban user`)}catch(e){console.error(`Error banning user:`,e),alert(`Failed to ban user`)}},C=async t=>{if(window.confirm(`Unban this user? They will be able to access the platform again.`))try{let{unbanUser:n}=await w(async()=>{let{unbanUser:e}=await import(`./userService-bS2VYKMm.js`);return{unbanUser:e}},[]),r=await n(t,e.uid);r.success?(alert(`User unbanned!`),y()):alert(r.message||`Failed to unban user`)}catch(e){console.error(`Error unbanning user:`,e),alert(`Failed to unban user`)}},T=async t=>{if(window.confirm(`Delete this user permanently? This action cannot be undone. All their data will be deleted.`))try{let{deleteUser:n}=await w(async()=>{let{deleteUser:e}=await import(`./userService-bS2VYKMm.js`);return{deleteUser:e}},[]),r=await n(t,e.uid);r.success?(alert(`User deleted!`),y()):alert(r.message||`Failed to delete user`)}catch(e){console.error(`Error deleting user:`,e),alert(`Failed to delete user`)}};return s?(0,Z.jsx)(`div`,{style:{minHeight:`100vh`,display:`flex`,alignItems:`center`,justifyContent:`center`},children:(0,Z.jsxs)(`div`,{style:{textAlign:`center`},children:[(0,Z.jsx)(`div`,{style:{display:`inline-block`,width:`48px`,height:`48px`,border:`4px solid #f3f4f6`,borderTop:`4px solid var(--accent)`,borderRadius:`50%`,animation:`spin 1s linear infinite`,marginBottom:`16px`}}),(0,Z.jsx)(`p`,{style:{color:`var(--text-secondary)`},children:`Loading users...`})]})}):(0,Z.jsx)(`div`,{style:{background:`linear-gradient(180deg, #fdf7f4 0%, #fff 50%, #f7f1ed 100%)`,minHeight:`100vh`,padding:`32px 0 48px`},children:(0,Z.jsxs)(`div`,{style:{maxWidth:`1120px`,margin:`0 auto`,padding:`0 16px`},children:[!1,(0,Z.jsxs)(`div`,{style:{marginBottom:`32px`},children:[(0,Z.jsx)(`h1`,{style:{fontSize:`clamp(22px, 4vw, 34px)`,fontWeight:`800`,color:`#222`,margin:`0 0 8px`},children:`User Management`}),(0,Z.jsx)(`p`,{style:{margin:0,color:`var(--text-secondary)`,fontSize:`14px`},children:`Manage users, roles, and permissions`})]}),(0,Z.jsxs)(`div`,{className:`admin-stats-grid`,style:{gridTemplateColumns:`repeat(auto-fit, minmax(180px, 1fr))`,marginBottom:`32px`},children:[(0,Z.jsx)(rV,{title:`Total Users`,value:a.total,icon:(0,Z.jsx)(zN,{size:20}),color:`#3b82f6`}),(0,Z.jsx)(rV,{title:`Kreators`,value:a.kreators,icon:(0,Z.jsx)($M,{size:20}),color:`#f59e0b`}),(0,Z.jsx)(rV,{title:`Regular Users`,value:a.regular,icon:(0,Z.jsx)(RN,{size:20}),color:`#10b981`}),(0,Z.jsx)(rV,{title:`Active`,value:a.active,icon:(0,Z.jsx)(JM,{size:20}),color:`#06b6d4`}),(0,Z.jsx)(rV,{title:`Banned`,value:a.banned,icon:(0,Z.jsx)(BM,{size:20}),color:`#ef4444`})]}),(0,Z.jsx)(`div`,{className:`admin-card`,style:{marginBottom:`24px`},children:(0,Z.jsx)(`div`,{className:`admin-card-body`,children:(0,Z.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`1fr auto auto`,gap:`12px`,alignItems:`center`},children:[(0,Z.jsxs)(`div`,{style:{position:`relative`},children:[(0,Z.jsx)(EN,{size:18,style:{position:`absolute`,left:`12px`,top:`50%`,transform:`translateY(-50%)`,color:`var(--text-secondary)`}}),(0,Z.jsx)(`input`,{type:`text`,value:l,onChange:e=>u(e.target.value),placeholder:`Search by name, email, or phone...`,style:{width:`100%`,padding:`10px 14px 10px 40px`,border:`1px solid var(--border)`,borderRadius:`10px`,fontSize:`14px`}})]}),(0,Z.jsxs)(`select`,{value:d,onChange:e=>f(e.target.value),className:`admin-select`,style:{width:`160px`},children:[(0,Z.jsx)(`option`,{value:`all`,children:`All Roles`}),(0,Z.jsx)(`option`,{value:`admin`,children:`Admin`}),(0,Z.jsx)(`option`,{value:`kreator`,children:`Kreator`}),(0,Z.jsx)(`option`,{value:`user`,children:`User`})]}),(0,Z.jsxs)(`select`,{value:p,onChange:e=>m(e.target.value),className:`admin-select`,style:{width:`160px`},children:[(0,Z.jsx)(`option`,{value:`all`,children:`All Status`}),(0,Z.jsx)(`option`,{value:`active`,children:`Active`}),(0,Z.jsx)(`option`,{value:`banned`,children:`Banned`})]})]})})}),r.length===0?(0,Z.jsx)(`div`,{className:`admin-card`,children:(0,Z.jsxs)(`div`,{className:`admin-card-body`,style:{textAlign:`center`,padding:`48px 24px`},children:[(0,Z.jsx)(zN,{size:48,style:{color:`#d1d5db`,margin:`0 auto 16px`}}),(0,Z.jsx)(`p`,{style:{color:`var(--text-secondary)`},children:`No users found`})]})}):(0,Z.jsx)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`16px`},children:r.map(t=>(0,Z.jsx)(iV,{user:t,currentUserId:e?.uid,onPromoteToKreator:x,onBan:S,onUnban:C,onDelete:T},t.id))})]})})}function rV({title:e,value:t,icon:n,color:r}){return(0,Z.jsx)(`div`,{className:`admin-card`,children:(0,Z.jsxs)(`div`,{className:`admin-card-body`,style:{padding:`16px`},children:[(0,Z.jsx)(`div`,{style:{display:`flex`,alignItems:`center`,justifyContent:`space-between`,marginBottom:`12px`},children:(0,Z.jsx)(`div`,{style:{background:r,color:`white`,padding:`8px`,borderRadius:`8px`,display:`flex`,alignItems:`center`,justifyContent:`center`},children:n})}),(0,Z.jsx)(`p`,{className:`admin-stat-value`,style:{color:r},children:t}),(0,Z.jsx)(`p`,{className:`admin-stat-label`,children:e})]})})}function iV({user:e,currentUserId:t,onPromoteToKreator:n,onBan:r,onUnban:i,onDelete:a}){let o=e.id===t,s=e.status===`banned`;return(0,Z.jsx)(`div`,{className:`admin-card`,children:(0,Z.jsx)(`div`,{className:`admin-card-body`,children:(0,Z.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`auto 1fr auto`,gap:`20px`,alignItems:`center`},children:[(0,Z.jsx)(`div`,{style:{width:`60px`,height:`60px`,borderRadius:`50%`,background:`linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%)`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:`white`,fontWeight:`800`,fontSize:`20px`},children:(e.name||e.email)?.[0]?.toUpperCase()||`U`}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`8px`,marginBottom:`6px`},children:[(0,Z.jsxs)(`h3`,{style:{fontSize:`16px`,fontWeight:`700`,color:`#222`,margin:0},children:[e.name||`Unknown User`,o&&(0,Z.jsx)(`span`,{style:{marginLeft:`8px`,fontSize:`11px`,color:`var(--text-secondary)`},children:`(You)`})]}),(e=>{let t={admin:{color:`#dc2626`,label:`Admin`,icon:(0,Z.jsx)(AN,{size:12})},kreator:{color:`#f59e0b`,label:`Kreator`,icon:(0,Z.jsx)($M,{size:12})},user:{color:`#6b7280`,label:`User`,icon:(0,Z.jsx)(RN,{size:12})}},n=t[e]||t.user;return(0,Z.jsxs)(`div`,{style:{display:`inline-flex`,alignItems:`center`,gap:`4px`,padding:`4px 10px`,borderRadius:`20px`,fontSize:`11px`,fontWeight:`600`,background:`${n.color}20`,color:n.color},children:[n.icon,n.label]})})(e.role),(e=>e===`banned`?(0,Z.jsx)(`span`,{className:`admin-badge admin-badge-danger`,children:`Banned`}):(0,Z.jsx)(`span`,{className:`admin-badge admin-badge-success`,children:`Active`}))(e.status)]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,flexWrap:`wrap`,gap:`12px`,fontSize:`13px`,color:`var(--text-secondary)`},children:[e.email&&(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`4px`},children:[(0,Z.jsx)(hN,{size:14}),(0,Z.jsx)(`span`,{children:e.email})]}),e.phone&&(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`4px`},children:[(0,Z.jsx)(xN,{size:14}),(0,Z.jsx)(`span`,{children:e.phone})]}),e.createdAt&&(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`4px`},children:[(0,Z.jsx)(VM,{size:14}),(0,Z.jsxs)(`span`,{children:[`Joined `,new Date(e.createdAt).toLocaleDateString()]})]})]})]}),!o&&(0,Z.jsxs)(`div`,{style:{display:`flex`,gap:`8px`},children:[e.role===`user`&&!s&&(0,Z.jsxs)(`button`,{onClick:()=>n(e.id),style:{padding:`8px 12px`,background:`#fef3c7`,border:`1px solid #fde047`,borderRadius:`8px`,color:`#92400e`,fontSize:`13px`,fontWeight:`600`,cursor:`pointer`,display:`flex`,alignItems:`center`,gap:`4px`},title:`Promote to Kreator`,children:[(0,Z.jsx)($M,{size:14}),`Promote`]}),s?(0,Z.jsxs)(`button`,{onClick:()=>i(e.id),style:{padding:`8px 12px`,background:`#dcfce7`,border:`1px solid #86efac`,borderRadius:`8px`,color:`#166534`,fontSize:`13px`,fontWeight:`600`,cursor:`pointer`,display:`flex`,alignItems:`center`,gap:`4px`},title:`Unban User`,children:[(0,Z.jsx)(JM,{size:14}),`Unban`]}):(0,Z.jsxs)(`button`,{onClick:()=>r(e.id),style:{padding:`8px 12px`,background:`#fee2e2`,border:`1px solid #fca5a5`,borderRadius:`8px`,color:`#991b1b`,fontSize:`13px`,fontWeight:`600`,cursor:`pointer`,display:`flex`,alignItems:`center`,gap:`4px`},title:`Ban User`,children:[(0,Z.jsx)(BM,{size:14}),`Ban`]}),(0,Z.jsx)(`button`,{onClick:()=>a(e.id),style:{padding:`8px 12px`,background:`#fef2f2`,border:`1px solid #fdd8d8`,borderRadius:`8px`,color:`#b42318`,fontSize:`13px`,fontWeight:`600`,cursor:`pointer`,display:`flex`,alignItems:`center`,gap:`4px`},title:`Delete User`,children:(0,Z.jsx)(NN,{size:14})})]})]})})})}function aV(){let{currentUser:e}=_S(),[t,n]=(0,b.useState)(`Fremio`),[r,i]=(0,b.useState)(`Create beautiful photo frames`),[a,o]=(0,b.useState)(`https://fremio.com`),[s,c]=(0,b.useState)(`support@fremio.com`),[l,u]=(0,b.useState)(!0),[d,f]=(0,b.useState)(!1),[p,m]=(0,b.useState)(10),[h,g]=(0,b.useState)(50),[_,v]=(0,b.useState)(!1),[y,x]=(0,b.useState)(!0),[S,C]=(0,b.useState)(5),[T,E]=(0,b.useState)(50),[D,O]=(0,b.useState)(`jpg, jpeg, png, gif, webp`),[k,A]=(0,b.useState)(`mp4, webm, mov`),[j,M]=(0,b.useState)(!0),[N,ee]=(0,b.useState)(!0),[P,F]=(0,b.useState)(!0),[I,te]=(0,b.useState)(!0),[ne,re]=(0,b.useState)(!1),[ie,L]=(0,b.useState)(6),[R,ae]=(0,b.useState)(24),[oe,se]=(0,b.useState)(5),[ce,le]=(0,b.useState)(!0),[ue,de]=(0,b.useState)(`0 MB`),[fe,pe]=(0,b.useState)(0),[me,he]=(0,b.useState)(0),[ge,_e]=(0,b.useState)(!1),[z,ve]=(0,b.useState)(`general`);(0,b.useEffect)(()=>{ye(),be()},[]);let ye=()=>{let e=localStorage.getItem(`admin_settings`);if(e){let t=JSON.parse(e);n(t.siteName||`Fremio`),i(t.siteDescription||`Create beautiful photo frames`)}},be=async()=>{try{let{getUserStats:e}=await w(async()=>{let{getUserStats:e}=await import(`./userService-bS2VYKMm.js`);return{getUserStats:e}},[]),{getFrameStats:t}=await w(async()=>{let{getFrameStats:e}=await import(`./frameManagementService-B2YoXo6w.js`);return{getFrameStats:e}},[]),n=await e(),r=await t();pe(n.total),he(r.total),de(`N/A`)}catch(e){console.error(`Error loading Firebase stats:`,e)}};return(0,Z.jsx)(`div`,{style:{background:`linear-gradient(180deg, #fdf7f4 0%, #fff 50%, #f7f1ed 100%)`,minHeight:`100vh`,padding:`32px 0 48px`},children:(0,Z.jsxs)(`div`,{style:{maxWidth:`1120px`,margin:`0 auto`,padding:`0 16px`},children:[(0,Z.jsxs)(`div`,{style:{marginBottom:`32px`},children:[(0,Z.jsx)(`h1`,{style:{fontSize:`clamp(22px, 4vw, 34px)`,fontWeight:`800`,color:`#222`,margin:`0 0 8px`},children:`Platform Settings`}),(0,Z.jsx)(`p`,{style:{margin:0,color:`var(--text-secondary)`,fontSize:`14px`},children:`Configure platform settings and preferences`})]}),!1,(0,Z.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`260px 1fr`,gap:`24px`},children:[(0,Z.jsx)(`div`,{className:`admin-card`,style:{height:`fit-content`},children:(0,Z.jsx)(`div`,{className:`admin-card-body`,style:{padding:`14px`},children:(0,Z.jsx)(`nav`,{style:{display:`flex`,flexDirection:`column`,gap:`6px`},children:[{id:`general`,label:`General`,icon:(0,Z.jsx)(oN,{size:18})},{id:`frames`,label:`Frames`,icon:(0,Z.jsx)(cN,{size:18})},{id:`uploads`,label:`Uploads`,icon:(0,Z.jsx)(LN,{size:18})},{id:`email`,label:`Email`,icon:(0,Z.jsx)(hN,{size:18})},{id:`security`,label:`Security`,icon:(0,Z.jsx)(AN,{size:18})},{id:`database`,label:`Database`,icon:(0,Z.jsx)(eN,{size:18})}].map(e=>(0,Z.jsxs)(`button`,{onClick:()=>ve(e.id),style:{display:`flex`,alignItems:`center`,gap:`10px`,padding:`10px 12px`,borderRadius:`10px`,border:`1px solid transparent`,background:z===e.id?`var(--accent)`:`transparent`,color:z===e.id?`#231f1e`:`#2a2a2a`,fontWeight:`600`,fontSize:`14px`,cursor:`pointer`,transition:`all 0.2s`,textAlign:`left`},onMouseEnter:t=>{z!==e.id&&(t.currentTarget.style.background=`var(--bg-soft)`,t.currentTarget.style.borderColor=`var(--bg-hover)`)},onMouseLeave:t=>{z!==e.id&&(t.currentTarget.style.background=`transparent`,t.currentTarget.style.borderColor=`transparent`)},children:[e.icon,e.label]},e.id))})})}),(0,Z.jsxs)(`div`,{children:[z===`general`&&(0,Z.jsxs)(`div`,{className:`admin-card`,children:[(0,Z.jsxs)(`div`,{className:`admin-card-header`,children:[(0,Z.jsx)(`h2`,{className:`admin-card-title`,children:`General Settings`}),(0,Z.jsx)(`p`,{className:`admin-card-subtitle`,children:`Basic platform configuration`})]}),(0,Z.jsxs)(`div`,{className:`admin-card-body`,style:{display:`flex`,flexDirection:`column`,gap:`20px`},children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Site Name`}),(0,Z.jsx)(`input`,{type:`text`,value:t,onChange:e=>n(e.target.value),className:`admin-input`,placeholder:`Fremio`})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Site Description`}),(0,Z.jsx)(`textarea`,{value:r,onChange:e=>i(e.target.value),className:`admin-textarea`,rows:3,placeholder:`Create beautiful photo frames`})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Site URL`}),(0,Z.jsx)(`input`,{type:`url`,value:a,onChange:e=>o(e.target.value),className:`admin-input`,placeholder:`https://fremio.com`})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Contact Email`}),(0,Z.jsx)(`input`,{type:`email`,value:s,onChange:e=>c(e.target.value),className:`admin-input`,placeholder:`support@fremio.com`})]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`8px`},children:[(0,Z.jsx)(`input`,{type:`checkbox`,id:`allowRegistration`,checked:l,onChange:e=>u(e.target.checked),style:{width:`16px`,height:`16px`}}),(0,Z.jsx)(`label`,{htmlFor:`allowRegistration`,style:{fontSize:`14px`,color:`var(--text-primary)`,cursor:`pointer`},children:`Allow user registration`})]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`8px`},children:[(0,Z.jsx)(`input`,{type:`checkbox`,id:`maintenanceMode`,checked:d,onChange:e=>f(e.target.checked),style:{width:`16px`,height:`16px`}}),(0,Z.jsx)(`label`,{htmlFor:`maintenanceMode`,style:{fontSize:`14px`,color:`var(--text-primary)`,cursor:`pointer`},children:`Maintenance mode (disable public access)`})]})]})]}),z===`frames`&&(0,Z.jsxs)(`div`,{className:`admin-card`,children:[(0,Z.jsxs)(`div`,{className:`admin-card-header`,children:[(0,Z.jsx)(`h2`,{className:`admin-card-title`,children:`Frame Settings`}),(0,Z.jsx)(`p`,{className:`admin-card-subtitle`,children:`Configure frame creation and approval`})]}),(0,Z.jsxs)(`div`,{className:`admin-card-body`,style:{display:`flex`,flexDirection:`column`,gap:`20px`},children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Max Frames per Regular User`}),(0,Z.jsx)(`input`,{type:`number`,value:p,onChange:e=>m(parseInt(e.target.value)),className:`admin-input`,min:`0`,max:`100`})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Max Frames per Kreator`}),(0,Z.jsx)(`input`,{type:`number`,value:h,onChange:e=>g(parseInt(e.target.value)),className:`admin-input`,min:`0`,max:`1000`})]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`8px`},children:[(0,Z.jsx)(`input`,{type:`checkbox`,id:`autoApproveFrames`,checked:_,onChange:e=>v(e.target.checked),style:{width:`16px`,height:`16px`}}),(0,Z.jsx)(`label`,{htmlFor:`autoApproveFrames`,style:{fontSize:`14px`,color:`var(--text-primary)`,cursor:`pointer`},children:`Auto-approve frames from trusted kreators`})]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`8px`},children:[(0,Z.jsx)(`input`,{type:`checkbox`,id:`allowDuplicateFrames`,checked:y,onChange:e=>x(e.target.checked),style:{width:`16px`,height:`16px`}}),(0,Z.jsx)(`label`,{htmlFor:`allowDuplicateFrames`,style:{fontSize:`14px`,color:`var(--text-primary)`,cursor:`pointer`},children:`Allow duplicate photos in frames`})]})]})]}),z===`uploads`&&(0,Z.jsxs)(`div`,{className:`admin-card`,children:[(0,Z.jsxs)(`div`,{className:`admin-card-header`,children:[(0,Z.jsx)(`h2`,{className:`admin-card-title`,children:`Upload Settings`}),(0,Z.jsx)(`p`,{className:`admin-card-subtitle`,children:`Configure file upload limits and formats`})]}),(0,Z.jsxs)(`div`,{className:`admin-card-body`,style:{display:`flex`,flexDirection:`column`,gap:`20px`},children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Max Image Size (MB)`}),(0,Z.jsx)(`input`,{type:`number`,value:S,onChange:e=>C(parseInt(e.target.value)),className:`admin-input`,min:`1`,max:`50`})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Max Video Size (MB)`}),(0,Z.jsx)(`input`,{type:`number`,value:T,onChange:e=>E(parseInt(e.target.value)),className:`admin-input`,min:`1`,max:`500`})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Allowed Image Formats`}),(0,Z.jsx)(`input`,{type:`text`,value:D,onChange:e=>O(e.target.value),className:`admin-input`,placeholder:`jpg, jpeg, png, gif, webp`})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Allowed Video Formats`}),(0,Z.jsx)(`input`,{type:`text`,value:k,onChange:e=>A(e.target.value),className:`admin-input`,placeholder:`mp4, webm, mov`})]})]})]}),z===`email`&&(0,Z.jsxs)(`div`,{className:`admin-card`,children:[(0,Z.jsxs)(`div`,{className:`admin-card-header`,children:[(0,Z.jsx)(`h2`,{className:`admin-card-title`,children:`Email Notifications`}),(0,Z.jsx)(`p`,{className:`admin-card-subtitle`,children:`Configure email notification preferences`})]}),(0,Z.jsxs)(`div`,{className:`admin-card-body`,style:{display:`flex`,flexDirection:`column`,gap:`16px`},children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`8px`},children:[(0,Z.jsx)(`input`,{type:`checkbox`,id:`emailNotifications`,checked:j,onChange:e=>M(e.target.checked),style:{width:`16px`,height:`16px`}}),(0,Z.jsx)(`label`,{htmlFor:`emailNotifications`,style:{fontSize:`14px`,color:`var(--text-primary)`,cursor:`pointer`},children:`Enable email notifications`})]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`8px`},children:[(0,Z.jsx)(`input`,{type:`checkbox`,id:`notifyOnNewUser`,checked:N,onChange:e=>ee(e.target.checked),disabled:!j,style:{width:`16px`,height:`16px`}}),(0,Z.jsx)(`label`,{htmlFor:`notifyOnNewUser`,style:{fontSize:`14px`,color:j?`var(--text-primary)`:`var(--text-secondary)`,cursor:`pointer`},children:`Notify on new user registration`})]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`8px`},children:[(0,Z.jsx)(`input`,{type:`checkbox`,id:`notifyOnNewFrame`,checked:P,onChange:e=>F(e.target.checked),disabled:!j,style:{width:`16px`,height:`16px`}}),(0,Z.jsx)(`label`,{htmlFor:`notifyOnNewFrame`,style:{fontSize:`14px`,color:j?`var(--text-primary)`:`var(--text-secondary)`,cursor:`pointer`},children:`Notify on new frame submission`})]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`8px`},children:[(0,Z.jsx)(`input`,{type:`checkbox`,id:`notifyOnNewApplication`,checked:I,onChange:e=>te(e.target.checked),disabled:!j,style:{width:`16px`,height:`16px`}}),(0,Z.jsx)(`label`,{htmlFor:`notifyOnNewApplication`,style:{fontSize:`14px`,color:j?`var(--text-primary)`:`var(--text-secondary)`,cursor:`pointer`},children:`Notify on new kreator application`})]})]})]}),z===`security`&&(0,Z.jsxs)(`div`,{className:`admin-card`,children:[(0,Z.jsxs)(`div`,{className:`admin-card-header`,children:[(0,Z.jsx)(`h2`,{className:`admin-card-title`,children:`Security Settings`}),(0,Z.jsx)(`p`,{className:`admin-card-subtitle`,children:`Configure security and authentication`})]}),(0,Z.jsxs)(`div`,{className:`admin-card-body`,style:{display:`flex`,flexDirection:`column`,gap:`20px`},children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`8px`},children:[(0,Z.jsx)(`input`,{type:`checkbox`,id:`requireEmailVerification`,checked:ne,onChange:e=>re(e.target.checked),style:{width:`16px`,height:`16px`}}),(0,Z.jsx)(`label`,{htmlFor:`requireEmailVerification`,style:{fontSize:`14px`,color:`var(--text-primary)`,cursor:`pointer`},children:`Require email verification for new users`})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Minimum Password Length`}),(0,Z.jsx)(`input`,{type:`number`,value:ie,onChange:e=>L(parseInt(e.target.value)),className:`admin-input`,min:`6`,max:`32`})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Session Timeout (hours)`}),(0,Z.jsx)(`input`,{type:`number`,value:R,onChange:e=>ae(parseInt(e.target.value)),className:`admin-input`,min:`1`,max:`168`})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Max Login Attempts`}),(0,Z.jsx)(`input`,{type:`number`,value:oe,onChange:e=>se(parseInt(e.target.value)),className:`admin-input`,min:`3`,max:`10`})]})]})]}),z===`database`&&(0,Z.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`20px`},children:[(0,Z.jsxs)(`div`,{className:`admin-card`,children:[(0,Z.jsxs)(`div`,{className:`admin-card-header`,children:[(0,Z.jsx)(`h2`,{className:`admin-card-title`,children:`Database Information`}),(0,Z.jsx)(`p`,{className:`admin-card-subtitle`,children:`Database status and statistics`})]}),(0,Z.jsx)(`div`,{className:`admin-card-body`,children:(0,Z.jsxs)(`div`,{style:{display:`grid`,gap:`16px`},children:[(0,Z.jsx)(oV,{label:`Firebase Status`,value:ce?`Connected`:`Not Configured`}),(0,Z.jsx)(oV,{label:`Database Size`,value:ue}),(0,Z.jsx)(oV,{label:`Total Users`,value:fe}),(0,Z.jsx)(oV,{label:`Total Frames`,value:me})]})})]}),(0,Z.jsxs)(`div`,{className:`admin-card`,children:[(0,Z.jsxs)(`div`,{className:`admin-card-header`,children:[(0,Z.jsx)(`h2`,{className:`admin-card-title`,children:`Database Actions`}),(0,Z.jsx)(`p`,{className:`admin-card-subtitle`,children:`Manage database and cache`})]}),(0,Z.jsxs)(`div`,{className:`admin-card-body`,style:{display:`flex`,flexDirection:`column`,gap:`12px`},children:[(0,Z.jsxs)(`button`,{onClick:()=>{alert(`Exporting data... This feature will be implemented soon.`)},className:`admin-button-secondary`,style:{width:`100%`,justifyContent:`center`,display:`flex`,alignItems:`center`,gap:`8px`},children:[(0,Z.jsx)(tN,{size:18}),`Export All Data`]}),(0,Z.jsxs)(`button`,{onClick:()=>{alert(`Import data... This feature will be implemented soon.`)},className:`admin-button-secondary`,style:{width:`100%`,justifyContent:`center`,display:`flex`,alignItems:`center`,gap:`8px`},children:[(0,Z.jsx)(LN,{size:18}),`Import Data`]}),(0,Z.jsxs)(`button`,{onClick:()=>{window.confirm(`Clear all cache? This will log you out.`)&&(localStorage.clear(),sessionStorage.clear(),window.location.href=`/login`)},style:{width:`100%`,padding:`10px 16px`,background:`#fef2f2`,border:`1px solid #fdd8d8`,borderRadius:`10px`,color:`#b42318`,fontWeight:`600`,cursor:`pointer`,display:`flex`,alignItems:`center`,justifyContent:`center`,gap:`8px`},children:[(0,Z.jsx)(NN,{size:18}),`Clear Cache`]})]})]})]}),(0,Z.jsxs)(`div`,{style:{marginTop:`24px`,display:`flex`,justifyContent:`flex-end`,gap:`12px`},children:[(0,Z.jsxs)(`button`,{onClick:()=>ye(),className:`admin-button-secondary`,style:{padding:`12px 24px`,display:`flex`,alignItems:`center`,gap:`8px`},children:[(0,Z.jsx)(wN,{size:18}),`Reset`]}),(0,Z.jsxs)(`button`,{onClick:async()=>{_e(!0);let n={siteName:t,siteDescription:r,siteUrl:a,contactEmail:s,allowRegistration:l,maintenanceMode:d,maxFramesPerUser:p,maxFramesPerKreator:h,autoApproveFrames:_,allowDuplicateFrames:y,maxImageSize:S,maxVideoSize:T,allowedImageFormats:D,allowedVideoFormats:k,emailNotifications:j,notifyOnNewUser:N,notifyOnNewFrame:P,notifyOnNewApplication:I,requireEmailVerification:ne,passwordMinLength:ie,sessionTimeout:R,maxLoginAttempts:oe,updatedAt:new Date().toISOString(),updatedBy:e?.email};try{localStorage.setItem(`admin_settings`,JSON.stringify(n)),alert(`Settings saved successfully!`)}catch(e){console.error(`Error saving settings:`,e),alert(`Failed to save settings`)}_e(!1)},disabled:ge,className:`admin-button-primary`,style:{padding:`12px 24px`,width:`auto`,display:`flex`,alignItems:`center`,gap:`8px`},children:[(0,Z.jsx)(TN,{size:18}),ge?`Saving...`:`Save Settings`]})]})]})]})]})})}function oV({label:e,value:t}){return(0,Z.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`200px 1fr`,padding:`12px 0`,borderBottom:`1px solid #f3ebe8`},children:[(0,Z.jsx)(`div`,{style:{color:`var(--text-secondary)`,fontWeight:`700`,fontSize:`14px`},children:e}),(0,Z.jsx)(`div`,{style:{color:`var(--text-primary)`,fontSize:`14px`},children:t})]})}function sV(){let{currentUser:e}=_S(),[t,n]=(0,b.useState)([]),[r,i]=(0,b.useState)(!1),[a,o]=(0,b.useState)(!1),[s,c]=(0,b.useState)(!1),[l,u]=(0,b.useState)(null),[d,f]=(0,b.useState)(!1),[p,m]=(0,b.useState)({id:``,name:``,icon:``,description:``,isActive:!0,order:0});(0,b.useEffect)(()=>{h()},[]);let h=async()=>{i(!0);try{let e=FF.map((e,t)=>({...e,description:`${e.name} themed photo frames`,isActive:!0,order:t,frameCount:0}));n(e)}catch(e){console.error(`Error loading categories:`,e)}i(!1)},g=()=>{m({id:``,name:``,icon:``,description:``,isActive:!0,order:t.length}),o(!0)},_=e=>{u(e),m({id:e.id,name:e.name,icon:e.icon,description:e.description||``,isActive:e.isActive!==!1,order:e.order||0}),c(!0)},v=async()=>{if(!p.name.trim()){alert(`Category name is required`);return}f(!0);try{alert(`Category saved! (Firebase integration pending)`),o(!1),c(!1),h()}catch(e){console.error(`Error saving category:`,e),alert(`Failed to save category`)}f(!1)},y=async e=>{if(window.confirm(`Delete this category? All frames in this category will be uncategorized.`))try{alert(`Category deleted! (Firebase integration pending)`),h()}catch(e){console.error(`Error deleting category:`,e),alert(`Failed to delete category`)}},x=async(e,r)=>{try{let i=t.map(t=>t.id===e?{...t,isActive:!r}:t);n(i)}catch(e){console.error(`Error toggling category:`,e),alert(`Failed to update category`)}},S=()=>{o(!1),c(!1),u(null)};return r?(0,Z.jsx)(`div`,{style:{minHeight:`100vh`,display:`flex`,alignItems:`center`,justifyContent:`center`},children:(0,Z.jsxs)(`div`,{style:{textAlign:`center`},children:[(0,Z.jsx)(`div`,{style:{display:`inline-block`,width:`48px`,height:`48px`,border:`4px solid #f3f4f6`,borderTop:`4px solid var(--accent)`,borderRadius:`50%`,animation:`spin 1s linear infinite`,marginBottom:`16px`}}),(0,Z.jsx)(`p`,{style:{color:`var(--text-secondary)`},children:`Loading categories...`})]})}):(0,Z.jsxs)(`div`,{style:{background:`linear-gradient(180deg, #fdf7f4 0%, #fff 50%, #f7f1ed 100%)`,minHeight:`100vh`,padding:`32px 0 48px`},children:[(0,Z.jsxs)(`div`,{style:{maxWidth:`1120px`,margin:`0 auto`,padding:`0 16px`},children:[!1,(0,Z.jsx)(`div`,{style:{marginBottom:`32px`},children:(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,justifyContent:`space-between`,flexWrap:`wrap`,gap:`16px`},children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`h1`,{style:{fontSize:`clamp(22px, 4vw, 34px)`,fontWeight:`800`,color:`#222`,margin:`0 0 8px`},children:`Frame Categories`}),(0,Z.jsx)(`p`,{style:{color:`var(--text-secondary)`,fontSize:`15px`},children:`Organize frames into categories for better browsing experience`})]}),(0,Z.jsxs)(`button`,{onClick:g,disabled:!1,style:{display:`flex`,alignItems:`center`,gap:`8px`,padding:`12px 20px`,background:`linear-gradient(135deg, #e0b7a9 0%, #d4a193 100%)`,border:`none`,borderRadius:`10px`,color:`white`,fontSize:`14px`,fontWeight:`600`,cursor:`pointer`,boxShadow:`0 2px 8px rgba(224, 183, 169, 0.3)`,transition:`all 0.2s`},onMouseEnter:e=>{e.currentTarget.style.transform=`translateY(-1px)`,e.currentTarget.style.boxShadow=`0 4px 12px rgba(224, 183, 169, 0.4)`},onMouseLeave:e=>{e.currentTarget.style.transform=`translateY(0)`,e.currentTarget.style.boxShadow=`0 2px 8px rgba(224, 183, 169, 0.3)`},children:[(0,Z.jsx)(CN,{size:18}),(0,Z.jsx)(`span`,{children:`Add Category`})]})]})}),(0,Z.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(220px, 1fr))`,gap:`16px`,marginBottom:`32px`},children:[(0,Z.jsx)(cV,{icon:(0,Z.jsx)(aN,{size:24}),label:`Total Categories`,value:t.length,color:`#e0b7a9`}),(0,Z.jsx)(cV,{icon:(0,Z.jsx)(JM,{size:24}),label:`Active`,value:t.filter(e=>e.isActive!==!1).length,color:`#86efac`}),(0,Z.jsx)(cV,{icon:(0,Z.jsx)(cN,{size:24}),label:`Total Frames`,value:t.reduce((e,t)=>e+(t.frameCount||0),0),color:`#93c5fd`})]}),(0,Z.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(auto-fill, minmax(280px, 1fr))`,gap:`20px`},children:t.map(e=>(0,Z.jsx)(lV,{category:e,onEdit:_,onDelete:y,onToggleActive:x},e.id))}),t.length===0&&(0,Z.jsxs)(`div`,{style:{textAlign:`center`,padding:`60px 20px`,color:`var(--text-secondary)`},children:[(0,Z.jsx)(aN,{size:48,style:{marginBottom:`16px`}}),(0,Z.jsx)(`h3`,{style:{fontSize:`18px`,fontWeight:`600`,margin:`0 0 8px`},children:`No categories yet`}),(0,Z.jsx)(`p`,{style:{fontSize:`14px`},children:`Add your first category to organize frames`})]})]}),(a||s)&&(0,Z.jsx)(uV,{title:a?`Add New Category`:`Edit Category`,onClose:S,children:(0,Z.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`16px`},children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Category Name *`}),(0,Z.jsx)(`input`,{type:`text`,className:`admin-input`,value:p.name,onChange:e=>m({...p,name:e.target.value}),placeholder:`e.g., Birthday`})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Icon (Emoji)`}),(0,Z.jsx)(`input`,{type:`text`,className:`admin-input`,value:p.icon,onChange:e=>m({...p,icon:e.target.value}),placeholder:``,maxLength:`2`})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Description`}),(0,Z.jsx)(`textarea`,{className:`admin-textarea`,value:p.description,onChange:e=>m({...p,description:e.target.value}),placeholder:`Describe this category...`,rows:`3`})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`label`,{className:`admin-label`,children:`Display Order`}),(0,Z.jsx)(`input`,{type:`number`,className:`admin-input`,value:p.order,onChange:e=>m({...p,order:parseInt(e.target.value)||0}),min:`0`})]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`8px`},children:[(0,Z.jsx)(`input`,{type:`checkbox`,id:`isActive`,checked:p.isActive,onChange:e=>m({...p,isActive:e.target.checked}),style:{width:`18px`,height:`18px`,cursor:`pointer`}}),(0,Z.jsx)(`label`,{htmlFor:`isActive`,style:{fontSize:`14px`,cursor:`pointer`},children:`Active (visible to users)`})]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,gap:`12px`,marginTop:`8px`,paddingTop:`16px`,borderTop:`1px solid var(--border)`},children:[(0,Z.jsxs)(`button`,{onClick:v,disabled:d,className:`admin-button-primary`,style:{flex:1},children:[(0,Z.jsx)(TN,{size:16}),(0,Z.jsx)(`span`,{children:d?`Saving...`:`Save Category`})]}),(0,Z.jsxs)(`button`,{onClick:S,disabled:d,className:`admin-button-secondary`,children:[(0,Z.jsx)(BN,{size:16}),(0,Z.jsx)(`span`,{children:`Cancel`})]})]})]})})]})}function cV({icon:e,label:t,value:n,color:r}){return(0,Z.jsx)(`div`,{className:`admin-card`,style:{padding:`20px`},children:(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`},children:[(0,Z.jsx)(`div`,{style:{width:`48px`,height:`48px`,borderRadius:`12px`,background:`${r}20`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:r},children:e}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`div`,{style:{fontSize:`13px`,color:`var(--text-secondary)`,marginBottom:`4px`},children:t}),(0,Z.jsx)(`div`,{style:{fontSize:`24px`,fontWeight:`700`,color:`#222`},children:n})]})]})})}function lV({category:e,onEdit:t,onDelete:n,onToggleActive:r}){let i=e.isActive!==!1;return(0,Z.jsxs)(`div`,{className:`admin-card`,style:{padding:`20px`,opacity:i?1:.6,transition:`all 0.2s`},children:[(0,Z.jsx)(`div`,{style:{marginBottom:`16px`},children:(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`start`,gap:`12px`},children:[(0,Z.jsx)(`div`,{style:{fontSize:`36px`,lineHeight:1,flexShrink:0},children:e.icon}),(0,Z.jsxs)(`div`,{style:{flex:1,minWidth:0},children:[(0,Z.jsx)(`h3`,{style:{fontSize:`16px`,fontWeight:`700`,color:`#222`,margin:`0 0 4px`},children:e.name}),(0,Z.jsx)(`p`,{style:{fontSize:`13px`,color:`var(--text-secondary)`,margin:0},children:e.description||`${e.name} themed frames`})]})]})}),(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,justifyContent:`space-between`,marginBottom:`16px`,paddingTop:`16px`,borderTop:`1px solid var(--border)`},children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,gap:`16px`},children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`div`,{style:{fontSize:`11px`,color:`var(--text-secondary)`,marginBottom:`4px`},children:`Frames`}),(0,Z.jsx)(`div`,{style:{fontSize:`18px`,fontWeight:`700`,color:`#222`},children:e.frameCount||0})]}),(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`div`,{style:{fontSize:`11px`,color:`var(--text-secondary)`,marginBottom:`4px`},children:`Order`}),(0,Z.jsxs)(`div`,{style:{fontSize:`18px`,fontWeight:`700`,color:`#222`},children:[`#`,e.order||0]})]})]}),(0,Z.jsx)(`span`,{className:`admin-badge-${i?`success`:`secondary`}`,style:{fontSize:`11px`},children:i?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(rN,{size:12}),` Active`]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(nN,{size:12}),` Inactive`]})})]}),(0,Z.jsxs)(`div`,{style:{display:`flex`,gap:`8px`},children:[(0,Z.jsxs)(`button`,{onClick:()=>r(e.id,i),className:`admin-button-secondary`,style:{flex:1,fontSize:`13px`,padding:`8px 12px`},disabled:!1,children:[i?(0,Z.jsx)(nN,{size:14}):(0,Z.jsx)(rN,{size:14}),(0,Z.jsx)(`span`,{children:i?`Deactivate`:`Activate`})]}),(0,Z.jsx)(`button`,{onClick:()=>t(e),className:`admin-button-secondary`,style:{padding:`8px 12px`},disabled:!1,children:(0,Z.jsx)(jN,{size:14})}),(0,Z.jsx)(`button`,{onClick:()=>n(e.id),className:`admin-button-danger`,style:{padding:`8px 12px`},disabled:!1,children:(0,Z.jsx)(NN,{size:14})})]})]})}function uV({title:e,children:t,onClose:n}){return(0,Z.jsx)(`div`,{style:{position:`fixed`,inset:0,background:`rgba(0, 0, 0, 0.5)`,display:`flex`,alignItems:`center`,justifyContent:`center`,zIndex:1e3,padding:`20px`},onClick:n,children:(0,Z.jsxs)(`div`,{className:`admin-card`,style:{width:`100%`,maxWidth:`500px`,padding:`24px`,maxHeight:`90vh`,overflowY:`auto`},onClick:e=>e.stopPropagation(),children:[(0,Z.jsx)(`h2`,{style:{fontSize:`20px`,fontWeight:`700`,color:`#222`,margin:`0 0 20px`},children:e}),t]})})}function dV(){let{currentUser:e}=_S(),[t,n]=(0,b.useState)(!1),[r,i]=(0,b.useState)(`7days`),[a,o]=(0,b.useState)({overview:{totalViews:0,totalDownloads:0,totalLikes:0,totalFrames:0,totalUsers:0,totalKreators:0},trends:{viewsTrend:0,downloadsTrend:0,likesTrend:0,usersTrend:0},topFrames:[],topUsers:[],categoryStats:[],recentActivity:[]});(0,b.useEffect)(()=>{s()},[r]);let s=async()=>{n(!0);try{console.log(`Loading analytics for:`,r)}catch(e){console.error(`Error loading analytics:`,e)}n(!1)},c=e=>e>=1e6?(e/1e6).toFixed(1)+`M`:e>=1e3?(e/1e3).toFixed(1)+`K`:e.toString();return t?(0,Z.jsx)(`div`,{style:{minHeight:`100vh`,display:`flex`,alignItems:`center`,justifyContent:`center`},children:(0,Z.jsxs)(`div`,{style:{textAlign:`center`},children:[(0,Z.jsx)(`div`,{style:{display:`inline-block`,width:`48px`,height:`48px`,border:`4px solid #f3f4f6`,borderTop:`4px solid var(--accent)`,borderRadius:`50%`,animation:`spin 1s linear infinite`,marginBottom:`16px`}}),(0,Z.jsx)(`p`,{style:{color:`var(--text-secondary)`},children:`Loading analytics...`})]})}):(0,Z.jsx)(`div`,{style:{background:`linear-gradient(180deg, #fdf7f4 0%, #fff 50%, #f7f1ed 100%)`,minHeight:`100vh`,padding:`32px 0 48px`},children:(0,Z.jsxs)(`div`,{style:{maxWidth:`1120px`,margin:`0 auto`,padding:`0 16px`},children:[!1,(0,Z.jsx)(`div`,{style:{marginBottom:`32px`},children:(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,justifyContent:`space-between`,flexWrap:`wrap`,gap:`16px`},children:[(0,Z.jsxs)(`div`,{children:[(0,Z.jsx)(`h1`,{style:{fontSize:`clamp(22px, 4vw, 34px)`,fontWeight:`800`,color:`#222`,margin:`0 0 8px`},children:`Analytics Dashboard`}),(0,Z.jsx)(`p`,{style:{color:`var(--text-secondary)`,fontSize:`15px`},children:`Track performance metrics and user engagement`})]}),(0,Z.jsx)(`div`,{style:{display:`flex`,gap:`8px`},children:[{value:`7days`,label:`7 Days`},{value:`30days`,label:`30 Days`},{value:`90days`,label:`90 Days`},{value:`all`,label:`All Time`}].map(e=>(0,Z.jsx)(`button`,{onClick:()=>i(e.value),style:{padding:`8px 16px`,background:r===e.value?`var(--accent)`:`white`,border:`1px solid var(--border)`,borderRadius:`8px`,color:r===e.value?`white`:`#222`,fontSize:`13px`,fontWeight:`600`,cursor:`pointer`,transition:`all 0.2s`},children:e.label},e.value))})]})}),(0,Z.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(240px, 1fr))`,gap:`16px`,marginBottom:`32px`},children:[(0,Z.jsx)(fV,{icon:(0,Z.jsx)(rN,{size:24}),label:`Total Views`,value:c(a.overview.totalViews),trend:a.trends.viewsTrend,color:`#3b82f6`}),(0,Z.jsx)(fV,{icon:(0,Z.jsx)(tN,{size:24}),label:`Downloads`,value:c(a.overview.totalDownloads),trend:a.trends.downloadsTrend,color:`#8b5cf6`}),(0,Z.jsx)(fV,{icon:(0,Z.jsx)(sN,{size:24}),label:`Likes`,value:c(a.overview.totalLikes),trend:a.trends.likesTrend,color:`#ec4899`}),(0,Z.jsx)(fV,{icon:(0,Z.jsx)(zN,{size:24}),label:`Total Users`,value:c(a.overview.totalUsers),trend:a.trends.usersTrend,color:`#10b981`})]}),(0,Z.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(300px, 1fr))`,gap:`20px`,marginBottom:`32px`},children:[(0,Z.jsxs)(`div`,{className:`admin-card`,style:{padding:`24px`},children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`,marginBottom:`20px`},children:[(0,Z.jsx)(`div`,{style:{width:`40px`,height:`40px`,borderRadius:`10px`,background:`#fef3c7`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:`#f59e0b`},children:(0,Z.jsx)(PN,{size:20})}),(0,Z.jsx)(`h3`,{style:{fontSize:`16px`,fontWeight:`700`,color:`#222`,margin:0},children:`Top Performing Frames`})]}),(0,Z.jsx)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`12px`},children:a.topFrames.map((e,t)=>(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`,padding:`12px`,background:`#faf6f5`,borderRadius:`8px`},children:[(0,Z.jsx)(`div`,{style:{width:`28px`,height:`28px`,borderRadius:`6px`,background:`var(--accent)`,color:`white`,display:`flex`,alignItems:`center`,justifyContent:`center`,fontSize:`13px`,fontWeight:`700`,flexShrink:0},children:t+1}),(0,Z.jsxs)(`div`,{style:{flex:1,minWidth:0},children:[(0,Z.jsx)(`div`,{style:{fontSize:`14px`,fontWeight:`600`,color:`#222`,marginBottom:`2px`},children:e.name}),(0,Z.jsxs)(`div`,{style:{fontSize:`12px`,color:`var(--text-secondary)`},children:[`by `,e.kreator]})]}),(0,Z.jsxs)(`div`,{style:{textAlign:`right`},children:[(0,Z.jsx)(`div`,{style:{fontSize:`16px`,fontWeight:`700`,color:`#222`},children:c(e.views)}),(0,Z.jsx)(`div`,{style:{fontSize:`11px`,color:`var(--text-secondary)`},children:`views`})]})]},e.id))})]}),(0,Z.jsxs)(`div`,{className:`admin-card`,style:{padding:`24px`},children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`,marginBottom:`20px`},children:[(0,Z.jsx)(`div`,{style:{width:`40px`,height:`40px`,borderRadius:`10px`,background:`#e0e7ff`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:`#6366f1`},children:(0,Z.jsx)(UM,{size:20})}),(0,Z.jsx)(`h3`,{style:{fontSize:`16px`,fontWeight:`700`,color:`#222`,margin:0},children:`Category Distribution`})]}),(0,Z.jsx)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`12px`},children:a.categoryStats.map(e=>(0,Z.jsxs)(`div`,{children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,marginBottom:`6px`},children:[(0,Z.jsx)(`span`,{style:{fontSize:`13px`,fontWeight:`600`,color:`#222`},children:e.category}),(0,Z.jsxs)(`span`,{style:{fontSize:`13px`,color:`var(--text-secondary)`},children:[e.percentage,`%`]})]}),(0,Z.jsx)(`div`,{style:{height:`8px`,background:`#f3f4f6`,borderRadius:`4px`,overflow:`hidden`},children:(0,Z.jsx)(`div`,{style:{width:`${e.percentage}%`,height:`100%`,background:`linear-gradient(90deg, var(--accent) 0%, #d4a193 100%)`,transition:`width 0.3s`}})})]},e.category))})]})]}),(0,Z.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(300px, 1fr))`,gap:`20px`},children:[(0,Z.jsxs)(`div`,{className:`admin-card`,style:{padding:`24px`},children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`,marginBottom:`20px`},children:[(0,Z.jsx)(`div`,{style:{width:`40px`,height:`40px`,borderRadius:`10px`,background:`#dbeafe`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:`#3b82f6`},children:(0,Z.jsx)(zN,{size:20})}),(0,Z.jsx)(`h3`,{style:{fontSize:`16px`,fontWeight:`700`,color:`#222`,margin:0},children:`Top Users by Frame Usage`})]}),(0,Z.jsx)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`12px`},children:a.topUsers.map((e,t)=>(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`,padding:`12px`,background:`#faf6f5`,borderRadius:`8px`},children:[(0,Z.jsx)(`div`,{style:{width:`36px`,height:`36px`,borderRadius:`50%`,background:`linear-gradient(135deg, var(--accent) 0%, #d4a193 100%)`,color:`white`,display:`flex`,alignItems:`center`,justifyContent:`center`,fontSize:`14px`,fontWeight:`700`,flexShrink:0},children:e.name.charAt(0)}),(0,Z.jsxs)(`div`,{style:{flex:1,minWidth:0},children:[(0,Z.jsx)(`div`,{style:{fontSize:`14px`,fontWeight:`600`,color:`#222`,marginBottom:`2px`},children:e.name}),(0,Z.jsxs)(`div`,{style:{fontSize:`12px`,color:`var(--text-secondary)`},children:[e.framesUsed,` frames used `,` `,c(e.totalViews),` views`]})]})]},e.id))})]}),(0,Z.jsxs)(`div`,{className:`admin-card`,style:{padding:`24px`},children:[(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`,marginBottom:`20px`},children:[(0,Z.jsx)(`div`,{style:{width:`40px`,height:`40px`,borderRadius:`10px`,background:`#dcfce7`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:`#16a34a`},children:(0,Z.jsx)(PM,{size:20})}),(0,Z.jsx)(`h3`,{style:{fontSize:`16px`,fontWeight:`700`,color:`#222`,margin:0},children:`Recent Activity`})]}),(0,Z.jsx)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`12px`},children:a.recentActivity.map((e,t)=>(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`start`,gap:`12px`,padding:`12px`,background:`#faf6f5`,borderRadius:`8px`},children:[(0,Z.jsxs)(`div`,{style:{width:`32px`,height:`32px`,borderRadius:`8px`,background:e.type===`view`?`#dbeafe`:e.type===`download`?`#e9d5ff`:`#fce7f3`,color:e.type===`view`?`#3b82f6`:e.type===`download`?`#8b5cf6`:`#ec4899`,display:`flex`,alignItems:`center`,justifyContent:`center`,flexShrink:0},children:[e.type===`view`&&(0,Z.jsx)(rN,{size:16}),e.type===`download`&&(0,Z.jsx)(tN,{size:16}),e.type===`like`&&(0,Z.jsx)(sN,{size:16})]}),(0,Z.jsxs)(`div`,{style:{flex:1,minWidth:0},children:[(0,Z.jsxs)(`div`,{style:{fontSize:`13px`,color:`#222`,marginBottom:`2px`},children:[(0,Z.jsx)(`strong`,{children:e.user}),` `,e.type===`view`&&`viewed`,e.type===`download`&&`downloaded`,e.type===`like`&&`liked`,` `,(0,Z.jsx)(`strong`,{children:e.frame})]}),(0,Z.jsx)(`div`,{style:{fontSize:`11px`,color:`var(--text-secondary)`},children:e.time})]})]},t))})]})]})]})})}function fV({icon:e,label:t,value:n,trend:r,color:i}){return(0,Z.jsx)(`div`,{className:`admin-card`,style:{padding:`20px`},children:(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`start`,gap:`16px`},children:[(0,Z.jsx)(`div`,{style:{width:`52px`,height:`52px`,borderRadius:`12px`,background:`${i}15`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:i,flexShrink:0},children:e}),(0,Z.jsxs)(`div`,{style:{flex:1,minWidth:0},children:[(0,Z.jsx)(`div`,{style:{fontSize:`13px`,color:`var(--text-secondary)`,marginBottom:`6px`},children:t}),(0,Z.jsx)(`div`,{style:{fontSize:`28px`,fontWeight:`800`,color:`#222`,lineHeight:1,marginBottom:`8px`},children:n}),r!==void 0&&(0,Z.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`4px`,fontSize:`12px`,fontWeight:`600`,color:(e=>e>0?`#22c55e`:e<0?`#ef4444`:`#6b7280`)(r)},children:[(e=>e>0?(0,Z.jsx)(zM,{size:14}):e<0?(0,Z.jsx)(RM,{size:14}):(0,Z.jsx)(vN,{size:14}))(r),(0,Z.jsxs)(`span`,{children:[Math.abs(r).toFixed(1),`% vs last period`]})]})]})]})})}function pV(){return(0,Z.jsx)(gS,{children:(0,Z.jsx)(qN,{children:(0,Z.jsxs)(ht,{children:[(0,Z.jsxs)(pt,{path:`/`,element:(0,Z.jsx)(kP,{}),children:[(0,Z.jsx)(pt,{index:!0,element:(0,Z.jsx)(PP,{})}),(0,Z.jsx)(pt,{path:`login`,element:(0,Z.jsx)(wB,{})}),(0,Z.jsx)(pt,{path:`register`,element:(0,Z.jsx)(TB,{})}),(0,Z.jsx)(pt,{path:`frames`,element:(0,Z.jsx)(YN,{children:(0,Z.jsx)(zF,{})})}),(0,Z.jsx)(pt,{path:`create`,element:(0,Z.jsx)(YN,{children:(0,Z.jsx)(SB,{})})}),(0,Z.jsx)(pt,{path:`profile`,element:(0,Z.jsx)(YN,{children:(0,Z.jsx)(EB,{})})}),(0,Z.jsx)(pt,{path:`drafts`,element:(0,Z.jsx)(YN,{children:(0,Z.jsx)(AB,{})})}),(0,Z.jsx)(pt,{path:`settings`,element:(0,Z.jsx)(YN,{children:(0,Z.jsx)(DB,{})})}),(0,Z.jsx)(pt,{path:`wishlist`,element:(0,Z.jsx)(YN,{children:(0,Z.jsx)(kB,{})})}),(0,Z.jsx)(pt,{path:`take-moment`,element:(0,Z.jsx)(YN,{children:(0,Z.jsx)(vI,{})})}),(0,Z.jsx)(pt,{path:`editor`,element:(0,Z.jsx)(gL,{})}),(0,Z.jsx)(pt,{path:`edit-photo`,element:(0,Z.jsx)(AL,{})}),(0,Z.jsx)(pt,{path:`frame-debug`,element:(0,Z.jsx)(YN,{children:(0,Z.jsx)(PL,{})})}),(0,Z.jsx)(pt,{path:`frame-builder`,element:(0,Z.jsx)(YN,{children:(0,Z.jsx)(FL,{})})}),(0,Z.jsx)(pt,{path:`*`,element:(0,Z.jsx)(CB,{})})]}),(0,Z.jsxs)(pt,{path:`/admin`,element:(0,Z.jsx)(XN,{children:(0,Z.jsx)(AP,{})}),children:[(0,Z.jsx)(pt,{index:!0,element:(0,Z.jsx)(FB,{})}),(0,Z.jsx)(pt,{path:`dashboard`,element:(0,Z.jsx)(FB,{})}),(0,Z.jsx)(pt,{path:`frames`,element:(0,Z.jsx)(RB,{})}),(0,Z.jsx)(pt,{path:`upload-frame`,element:(0,Z.jsx)(eV,{})}),(0,Z.jsx)(pt,{path:`users`,element:(0,Z.jsx)(nV,{})}),(0,Z.jsx)(pt,{path:`categories`,element:(0,Z.jsx)(sV,{})}),(0,Z.jsx)(pt,{path:`analytics`,element:(0,Z.jsx)(dV,{})}),(0,Z.jsx)(pt,{path:`settings`,element:(0,Z.jsx)(aV,{})})]}),(0,Z.jsx)(pt,{path:`/tablet-printer`,element:(0,Z.jsx)(YN,{children:(0,Z.jsx)(ML,{})})})]})})})}(0,y.createRoot)(document.getElementById(`root`)).render((0,Z.jsx)(b.StrictMode,{children:(0,Z.jsx)(Qt,{basename:`/fremio/`.replace(/\/+$/,`/`),children:(0,Z.jsx)(pV,{})})}));export{Lv as A,NF as C,SF as D,yF as E,Ay as F,Ty as I,Xy as L,Rv as M,Vy as N,bF as O,Uy as P,Gy as R,MF as S,vF as T,EI as _,WB as a,MI as b,dL as c,YI as d,VI as f,kI as g,AI as h,HB as i,Ky as j,tS as k,qI as l,JI as m,UB as n,pL as o,BI as p,GB as r,fL as s,VB as t,KI as u,DI as v,CF as w,OI as x,jI as y};